/*! For license information please see main.c1b4617f.js.LICENSE.txt */
(()=>{"use strict";var e={49:(e,t)=>{var n=Symbol.for("react.element"),a=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,y={};function x(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}function g(){}function v(e,t,n){this.props=e,this.context=t,this.refs=y,this.updater=n||f}x.prototype.isReactComponent={},x.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},x.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=x.prototype;var j=v.prototype=new g;j.constructor=v,h(j,x.prototype),j.isPureReactComponent=!0;var w=Array.isArray,b=Object.prototype.hasOwnProperty,k={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function z(e,t,a){var r,i={},s=null,l=null;if(null!=t)for(r in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(s=""+t.key),t)b.call(t,r)&&!N.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=a;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];i.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return{$$typeof:n,type:e,key:s,ref:l,props:i,_owner:k.current}}function P(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function S(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function _(e,t,r,i,s){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case a:o=!0}}if(o)return s=s(o=e),e=""===i?"."+S(o,0):i,w(s)?(r="",null!=e&&(r=e.replace(E,"$&/")+"/"),_(s,t,r,"",(function(e){return e}))):null!=s&&(P(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(E,"$&/")+"/")+e)),t.push(s)),1;if(o=0,i=""===i?".":i+":",w(e))for(var c=0;c<e.length;c++){var d=i+S(l=e[c],c);o+=_(l,t,r,d,s)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(l=e.next()).done;)o+=_(l=l.value,t,r,d=i+S(l,c++),s);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function C(e,t,n){if(null==e)return e;var a=[],r=0;return _(e,a,"","",(function(e){return t.call(n,e,r++)})),a}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var T={current:null},L={transition:null},O={ReactCurrentDispatcher:T,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};function R(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:C,forEach:function(e,t,n){C(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return C(e,(function(){t++})),t},toArray:function(e){return C(e,(function(e){return e}))||[]},only:function(e){if(!P(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=x,t.Fragment=r,t.Profiler=s,t.PureComponent=v,t.StrictMode=i,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=O,t.act=R,t.cloneElement=function(e,t,a){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=h({},e.props),i=e.key,s=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,l=k.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)b.call(t,c)&&!N.hasOwnProperty(c)&&(r[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)r.children=a;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:n,type:e.type,key:i,ref:s,props:r,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=z,t.createFactory=function(e){var t=z.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=P,t.lazy=function(e){return{$$typeof:p,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=R,t.useCallback=function(e,t){return T.current.useCallback(e,t)},t.useContext=function(e){return T.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return T.current.useDeferredValue(e)},t.useEffect=function(e,t){return T.current.useEffect(e,t)},t.useId=function(){return T.current.useId()},t.useImperativeHandle=function(e,t,n){return T.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return T.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return T.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return T.current.useMemo(e,t)},t.useReducer=function(e,t,n){return T.current.useReducer(e,t,n)},t.useRef=function(e){return T.current.useRef(e)},t.useState=function(e){return T.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return T.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return T.current.useTransition()},t.version="18.3.1"},119:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(345)},340:(e,t,n)=>{e.exports=n(761)},345:(e,t,n)=>{var a=n(950),r=n(340);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)s.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function h(e,t,n,a,r,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=a,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new h(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new h(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new h(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new h(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new h(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new h(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)}));var x=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function v(e,t,n,a){var r=y.hasOwnProperty(t)?y[t]:null;(null!==r?0!==r.type:a||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,a){if(null===t||"undefined"===typeof t||function(e,t,n,a){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!a&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,a))return!0;if(a)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,r,a)&&(n=null),a||null===r?function(e){return!!u.call(f,e)||!u.call(m,e)&&(p.test(e)?f[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):r.mustUseProperty?e[r.propertyName]=null===n?3!==r.type&&"":n:(t=r.attributeName,a=r.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(r=r.type)||4===r&&!0===n?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(x,g);y[t]=new h(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(x,g);y[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(x,g);y[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)}));var j=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),b=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),z=Symbol.for("react.profiler"),P=Symbol.for("react.provider"),E=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var O=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var I,A=Object.assign;function D(e){if(void 0===I)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);I=t&&t[1]||""}return"\n"+I+e}var W=!1;function F(e,t){if(!e||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&"string"===typeof c.stack){for(var r=c.stack.split("\n"),i=a.stack.split("\n"),s=r.length-1,l=i.length-1;1<=s&&0<=l&&r[s]!==i[l];)l--;for(;1<=s&&0<=l;s--,l--)if(r[s]!==i[l]){if(1!==s||1!==l)do{if(s--,0>--l||r[s]!==i[l]){var o="\n"+r[s].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=s&&0<=l);break}}}finally{W=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?D(e):""}function $(e){switch(e.tag){case 5:return D(e.type);case 16:return D("Lazy");case 13:return D("Suspense");case 19:return D("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case b:return"Portal";case z:return"Profiler";case N:return"StrictMode";case _:return"Suspense";case C:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case P:return(e._context.displayName||"Context")+".Provider";case S:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function B(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function H(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){a=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(e){a=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Z(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=q(e)?e.checked?"true":"false":e.value),(e=a)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function K(e,t){var n=t.checked;return A({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,a=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&v(e,"checked",t,!1)}function Y(e,t){J(e,t);var n=V(t.value),a=t.type;if(null!=n)"number"===a?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===a||"reset"===a)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!("submit"!==a&&"reset"!==a||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,a){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&a&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(a&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function ae(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return A({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function re(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),a=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=a&&(e.defaultValue=""+a)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,a){MSApp.execUnsafeLocalFunction((function(){return de(e,t)}))}:de);function pe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ye(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var a=0===n.indexOf("--"),r=he(n,t[n],a);"float"===n&&(n="cssFloat"),a?e.setProperty(n,r):e[n]=r}}Object.keys(me).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var xe=A({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function ve(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var je=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var be=null,ke=null,Ne=null;function ze(e){if(e=vr(e)){if("function"!==typeof be)throw Error(i(280));var t=e.stateNode;t&&(t=wr(t),be(e.stateNode,e.type,t))}}function Pe(e){ke?Ne?Ne.push(e):Ne=[e]:ke=e}function Ee(){if(ke){var e=ke,t=Ne;if(Ne=ke=null,ze(e),t)for(e=0;e<t.length;e++)ze(t[e])}}function Se(e,t){return e(t)}function _e(){}var Ce=!1;function Me(e,t,n){if(Ce)return e(t,n);Ce=!0;try{return Se(e,t,n)}finally{Ce=!1,(null!==ke||null!==Ne)&&(_e(),Ee())}}function Te(e,t){var n=e.stateNode;if(null===n)return null;var a=wr(n);if(null===a)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(a=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!a;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Le=!1;if(d)try{var Oe={};Object.defineProperty(Oe,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Oe,Oe),window.removeEventListener("test",Oe,Oe)}catch(de){Le=!1}function Re(e,t,n,a,r,i,s,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Ie=!1,Ae=null,De=!1,We=null,Fe={onError:function(e){Ie=!0,Ae=e}};function $e(e,t,n,a,r,i,s,l,o){Ie=!1,Ae=null,Re.apply(Fe,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Be(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(Ue(e)!==e)throw Error(i(188))}function qe(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,a=t;;){var r=n.return;if(null===r)break;var s=r.alternate;if(null===s){if(null!==(a=r.return)){n=a;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return Ve(r),e;if(s===a)return Ve(r),t;s=s.sibling}throw Error(i(188))}if(n.return!==a.return)n=r,a=s;else{for(var l=!1,o=r.child;o;){if(o===n){l=!0,n=r,a=s;break}if(o===a){l=!0,a=r,n=s;break}o=o.sibling}if(!l){for(o=s.child;o;){if(o===n){l=!0,n=s,a=r;break}if(o===a){l=!0,a=s,n=r;break}o=o.sibling}if(!l)throw Error(i(189))}}if(n.alternate!==a)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var Ze=r.unstable_scheduleCallback,Ge=r.unstable_cancelCallback,Ke=r.unstable_shouldYield,Qe=r.unstable_requestPaint,Je=r.unstable_now,Ye=r.unstable_getCurrentPriorityLevel,Xe=r.unstable_ImmediatePriority,et=r.unstable_UserBlockingPriority,tt=r.unstable_NormalPriority,nt=r.unstable_LowPriority,at=r.unstable_IdlePriority,rt=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function pt(e,t){var n=e.pendingLanes;if(0===n)return 0;var a=0,r=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var l=s&~r;0!==l?a=ut(l):0!==(i&=s)&&(a=ut(i))}else 0!==(s=n&~r)?a=ut(s):0!==i&&(a=ut(i));if(0===a)return 0;if(0!==t&&t!==a&&0===(t&r)&&((r=a&-a)>=(i=t&-t)||16===r&&0!==(4194240&i)))return t;if(0!==(4&a)&&(a|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=a;0<t;)r=1<<(n=31-st(t)),a|=e[n],t&=~r;return a}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function yt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-st(n),r=1<<a;r&t|e[a]&t&&(e[a]|=t),n&=~r}}var vt=0;function jt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,bt,kt,Nt,zt,Pt=!1,Et=[],St=null,_t=null,Ct=null,Mt=new Map,Tt=new Map,Lt=[],Ot="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rt(e,t){switch(e){case"focusin":case"focusout":St=null;break;case"dragenter":case"dragleave":_t=null;break;case"mouseover":case"mouseout":Ct=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tt.delete(t.pointerId)}}function It(e,t,n,a,r,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:i,targetContainers:[r]},null!==t&&(null!==(t=vr(t))&&bt(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function At(e){var t=gr(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Be(n)))return e.blockedOn=t,void zt(e.priority,(function(){kt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Dt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Kt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=vr(n))&&bt(t),e.blockedOn=n,!1;var a=new(n=e.nativeEvent).constructor(n.type,n);je=a,n.target.dispatchEvent(a),je=null,t.shift()}return!0}function Wt(e,t,n){Dt(e)&&n.delete(t)}function Ft(){Pt=!1,null!==St&&Dt(St)&&(St=null),null!==_t&&Dt(_t)&&(_t=null),null!==Ct&&Dt(Ct)&&(Ct=null),Mt.forEach(Wt),Tt.forEach(Wt)}function $t(e,t){e.blockedOn===t&&(e.blockedOn=null,Pt||(Pt=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Ft)))}function Ut(e){function t(t){return $t(t,e)}if(0<Et.length){$t(Et[0],e);for(var n=1;n<Et.length;n++){var a=Et[n];a.blockedOn===e&&(a.blockedOn=null)}}for(null!==St&&$t(St,e),null!==_t&&$t(_t,e),null!==Ct&&$t(Ct,e),Mt.forEach(t),Tt.forEach(t),n=0;n<Lt.length;n++)(a=Lt[n]).blockedOn===e&&(a.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)At(n),null===n.blockedOn&&Lt.shift()}var Bt=j.ReactCurrentBatchConfig,Vt=!0;function qt(e,t,n,a){var r=vt,i=Bt.transition;Bt.transition=null;try{vt=1,Zt(e,t,n,a)}finally{vt=r,Bt.transition=i}}function Ht(e,t,n,a){var r=vt,i=Bt.transition;Bt.transition=null;try{vt=4,Zt(e,t,n,a)}finally{vt=r,Bt.transition=i}}function Zt(e,t,n,a){if(Vt){var r=Kt(e,t,n,a);if(null===r)Va(e,t,a,Gt,n),Rt(e,a);else if(function(e,t,n,a,r){switch(t){case"focusin":return St=It(St,e,t,n,a,r),!0;case"dragenter":return _t=It(_t,e,t,n,a,r),!0;case"mouseover":return Ct=It(Ct,e,t,n,a,r),!0;case"pointerover":var i=r.pointerId;return Mt.set(i,It(Mt.get(i)||null,e,t,n,a,r)),!0;case"gotpointercapture":return i=r.pointerId,Tt.set(i,It(Tt.get(i)||null,e,t,n,a,r)),!0}return!1}(r,e,t,n,a))a.stopPropagation();else if(Rt(e,a),4&t&&-1<Ot.indexOf(e)){for(;null!==r;){var i=vr(r);if(null!==i&&wt(i),null===(i=Kt(e,t,n,a))&&Va(e,t,a,Gt,n),i===r)break;r=i}null!==r&&a.stopPropagation()}else Va(e,t,a,null,n)}}var Gt=null;function Kt(e,t,n,a){if(Gt=null,null!==(e=gr(e=we(a))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=Be(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ye()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case at:return 536870912;default:return 16}default:return 16}}var Jt=null,Yt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Yt,a=n.length,r="value"in Jt?Jt.value:Jt.textContent,i=r.length;for(e=0;e<a&&n[e]===r[e];e++);var s=a-e;for(t=1;t<=s&&n[a-t]===r[i-t];t++);return Xt=r.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function an(){return!1}function rn(e){function t(t,n,a,r,i){for(var s in this._reactName=t,this._targetInst=a,this.type=n,this.nativeEvent=r,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?nn:an,this.isPropagationStopped=an,this}return A(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=rn(cn),un=A({},cn,{view:0,detail:0}),pn=rn(un),mn=A({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),fn=rn(mn),hn=rn(A({},mn,{dataTransfer:0})),yn=rn(A({},un,{relatedTarget:0})),xn=rn(A({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=A({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vn=rn(gn),jn=rn(A({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=kn[e])&&!!t[e]}function zn(){return Nn}var Pn=A({},un,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?bn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=rn(Pn),Sn=rn(A({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),_n=rn(A({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zn})),Cn=rn(A({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=A({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tn=rn(Mn),Ln=[9,13,27,32],On=d&&"CompositionEvent"in window,Rn=null;d&&"documentMode"in document&&(Rn=document.documentMode);var In=d&&"TextEvent"in window&&!Rn,An=d&&(!On||Rn&&8<Rn&&11>=Rn),Dn=String.fromCharCode(32),Wn=!1;function Fn(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $n(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Bn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Bn[e.type]:"textarea"===t}function qn(e,t,n,a){Pe(a),0<(t=Ha(t,"onChange")).length&&(n=new dn("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Hn=null,Zn=null;function Gn(e){Da(e,0)}function Kn(e){if(Z(jr(e)))return e}function Qn(e,t){if("change"===e)return t}var Jn=!1;if(d){var Yn;if(d){var Xn="oninput"in document;if(!Xn){var ea=document.createElement("div");ea.setAttribute("oninput","return;"),Xn="function"===typeof ea.oninput}Yn=Xn}else Yn=!1;Jn=Yn&&(!document.documentMode||9<document.documentMode)}function ta(){Hn&&(Hn.detachEvent("onpropertychange",na),Zn=Hn=null)}function na(e){if("value"===e.propertyName&&Kn(Zn)){var t=[];qn(t,Zn,e,we(e)),Me(Gn,t)}}function aa(e,t,n){"focusin"===e?(ta(),Zn=n,(Hn=t).attachEvent("onpropertychange",na)):"focusout"===e&&ta()}function ra(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Kn(Zn)}function ia(e,t){if("click"===e)return Kn(t)}function sa(e,t){if("input"===e||"change"===e)return Kn(t)}var la="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function oa(e,t){if(la(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var r=n[a];if(!u.call(t,r)||!la(e[r],t[r]))return!1}return!0}function ca(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function da(e,t){var n,a=ca(e);for(e=0;a;){if(3===a.nodeType){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=ca(a)}}function ua(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ua(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function pa(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(a){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function ma(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fa(e){var t=pa(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ua(n.ownerDocument.documentElement,n)){if(null!==a&&ma(n))if(t=a.start,void 0===(e=a.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var r=n.textContent.length,i=Math.min(a.start,r);a=void 0===a.end?i:Math.min(a.end,r),!e.extend&&i>a&&(r=a,a=i,i=r),r=da(n,i);var s=da(n,a);r&&s&&(1!==e.rangeCount||e.anchorNode!==r.node||e.anchorOffset!==r.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(r.node,r.offset),e.removeAllRanges(),i>a?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ha=d&&"documentMode"in document&&11>=document.documentMode,ya=null,xa=null,ga=null,va=!1;function ja(e,t,n){var a=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;va||null==ya||ya!==G(a)||("selectionStart"in(a=ya)&&ma(a)?a={start:a.selectionStart,end:a.selectionEnd}:a={anchorNode:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset},ga&&oa(ga,a)||(ga=a,0<(a=Ha(xa,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=ya)))}function wa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ba={animationend:wa("Animation","AnimationEnd"),animationiteration:wa("Animation","AnimationIteration"),animationstart:wa("Animation","AnimationStart"),transitionend:wa("Transition","TransitionEnd")},ka={},Na={};function za(e){if(ka[e])return ka[e];if(!ba[e])return e;var t,n=ba[e];for(t in n)if(n.hasOwnProperty(t)&&t in Na)return ka[e]=n[t];return e}d&&(Na=document.createElement("div").style,"AnimationEvent"in window||(delete ba.animationend.animation,delete ba.animationiteration.animation,delete ba.animationstart.animation),"TransitionEvent"in window||delete ba.transitionend.transition);var Pa=za("animationend"),Ea=za("animationiteration"),Sa=za("animationstart"),_a=za("transitionend"),Ca=new Map,Ma="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ta(e,t){Ca.set(e,t),o(t,[e])}for(var La=0;La<Ma.length;La++){var Oa=Ma[La];Ta(Oa.toLowerCase(),"on"+(Oa[0].toUpperCase()+Oa.slice(1)))}Ta(Pa,"onAnimationEnd"),Ta(Ea,"onAnimationIteration"),Ta(Sa,"onAnimationStart"),Ta("dblclick","onDoubleClick"),Ta("focusin","onFocus"),Ta("focusout","onBlur"),Ta(_a,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ra="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ia=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ra));function Aa(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,a,r,s,l,o,c){if($e.apply(this,arguments),Ie){if(!Ie)throw Error(i(198));var d=Ae;Ie=!1,Ae=null,De||(De=!0,We=d)}}(a,t,void 0,e),e.currentTarget=null}function Da(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var a=e[n],r=a.event;a=a.listeners;e:{var i=void 0;if(t)for(var s=a.length-1;0<=s;s--){var l=a[s],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==i&&r.isPropagationStopped())break e;Aa(r,l,c),i=o}else for(s=0;s<a.length;s++){if(o=(l=a[s]).instance,c=l.currentTarget,l=l.listener,o!==i&&r.isPropagationStopped())break e;Aa(r,l,c),i=o}}}if(De)throw e=We,De=!1,We=null,e}function Wa(e,t){var n=t[hr];void 0===n&&(n=t[hr]=new Set);var a=e+"__bubble";n.has(a)||(Ba(t,e,2,!1),n.add(a))}function Fa(e,t,n){var a=0;t&&(a|=4),Ba(n,e,a,t)}var $a="_reactListening"+Math.random().toString(36).slice(2);function Ua(e){if(!e[$a]){e[$a]=!0,s.forEach((function(t){"selectionchange"!==t&&(Ia.has(t)||Fa(t,!1,e),Fa(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[$a]||(t[$a]=!0,Fa("selectionchange",!1,t))}}function Ba(e,t,n,a){switch(Qt(t)){case 1:var r=qt;break;case 4:r=Ht;break;default:r=Zt}n=r.bind(null,t,n,e),r=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),a?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function Va(e,t,n,a,r){var i=a;if(0===(1&t)&&0===(2&t)&&null!==a)e:for(;;){if(null===a)return;var s=a.tag;if(3===s||4===s){var l=a.stateNode.containerInfo;if(l===r||8===l.nodeType&&l.parentNode===r)break;if(4===s)for(s=a.return;null!==s;){var o=s.tag;if((3===o||4===o)&&((o=s.stateNode.containerInfo)===r||8===o.nodeType&&o.parentNode===r))return;s=s.return}for(;null!==l;){if(null===(s=gr(l)))return;if(5===(o=s.tag)||6===o){a=i=s;continue e}l=l.parentNode}}a=a.return}Me((function(){var a=i,r=we(n),s=[];e:{var l=Ca.get(e);if(void 0!==l){var o=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=En;break;case"focusin":c="focus",o=yn;break;case"focusout":c="blur",o=yn;break;case"beforeblur":case"afterblur":o=yn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=_n;break;case Pa:case Ea:case Sa:o=xn;break;case _a:o=Cn;break;case"scroll":o=pn;break;case"wheel":o=Tn;break;case"copy":case"cut":case"paste":o=vn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Sn}var d=0!==(4&t),u=!d&&"scroll"===e,p=d?null!==l?l+"Capture":null:l;d=[];for(var m,f=a;null!==f;){var h=(m=f).stateNode;if(5===m.tag&&null!==h&&(m=h,null!==p&&(null!=(h=Te(f,p))&&d.push(qa(f,h,m)))),u)break;f=f.return}0<d.length&&(l=new o(l,c,null,n,r),s.push({event:l,listeners:d}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===je||!(c=n.relatedTarget||n.fromElement)||!gr(c)&&!c[fr])&&(o||l)&&(l=r.window===r?r:(l=r.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=a,null!==(c=(c=n.relatedTarget||n.toElement)?gr(c):null)&&(c!==(u=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=a),o!==c)){if(d=fn,h="onMouseLeave",p="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=Sn,h="onPointerLeave",p="onPointerEnter",f="pointer"),u=null==o?l:jr(o),m=null==c?l:jr(c),(l=new d(h,f+"leave",o,n,r)).target=u,l.relatedTarget=m,h=null,gr(r)===a&&((d=new d(p,f+"enter",c,n,r)).target=m,d.relatedTarget=u,h=d),u=h,o&&c)e:{for(p=c,f=0,m=d=o;m;m=Za(m))f++;for(m=0,h=p;h;h=Za(h))m++;for(;0<f-m;)d=Za(d),f--;for(;0<m-f;)p=Za(p),m--;for(;f--;){if(d===p||null!==p&&d===p.alternate)break e;d=Za(d),p=Za(p)}d=null}else d=null;null!==o&&Ga(s,l,o,d,!1),null!==c&&null!==u&&Ga(s,u,c,d,!0)}if("select"===(o=(l=a?jr(a):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var y=Qn;else if(Vn(l))if(Jn)y=sa;else{y=ra;var x=aa}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(y=ia);switch(y&&(y=y(e,a))?qn(s,y,n,r):(x&&x(e,l,a),"focusout"===e&&(x=l._wrapperState)&&x.controlled&&"number"===l.type&&ee(l,"number",l.value)),x=a?jr(a):window,e){case"focusin":(Vn(x)||"true"===x.contentEditable)&&(ya=x,xa=a,ga=null);break;case"focusout":ga=xa=ya=null;break;case"mousedown":va=!0;break;case"contextmenu":case"mouseup":case"dragend":va=!1,ja(s,n,r);break;case"selectionchange":if(ha)break;case"keydown":case"keyup":ja(s,n,r)}var g;if(On)e:{switch(e){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Un?Fn(e,n)&&(v="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(v="onCompositionStart");v&&(An&&"ko"!==n.locale&&(Un||"onCompositionStart"!==v?"onCompositionEnd"===v&&Un&&(g=en()):(Yt="value"in(Jt=r)?Jt.value:Jt.textContent,Un=!0)),0<(x=Ha(a,v)).length&&(v=new jn(v,e,null,n,r),s.push({event:v,listeners:x}),g?v.data=g:null!==(g=$n(n))&&(v.data=g))),(g=In?function(e,t){switch(e){case"compositionend":return $n(t);case"keypress":return 32!==t.which?null:(Wn=!0,Dn);case"textInput":return(e=t.data)===Dn&&Wn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!On&&Fn(e,t)?(e=en(),Xt=Yt=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return An&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(a=Ha(a,"onBeforeInput")).length&&(r=new jn("onBeforeInput","beforeinput",null,n,r),s.push({event:r,listeners:a}),r.data=g))}Da(s,t)}))}function qa(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ha(e,t){for(var n=t+"Capture",a=[];null!==e;){var r=e,i=r.stateNode;5===r.tag&&null!==i&&(r=i,null!=(i=Te(e,n))&&a.unshift(qa(e,i,r)),null!=(i=Te(e,t))&&a.push(qa(e,i,r))),e=e.return}return a}function Za(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Ga(e,t,n,a,r){for(var i=t._reactName,s=[];null!==n&&n!==a;){var l=n,o=l.alternate,c=l.stateNode;if(null!==o&&o===a)break;5===l.tag&&null!==c&&(l=c,r?null!=(o=Te(n,i))&&s.unshift(qa(n,o,l)):r||null!=(o=Te(n,i))&&s.push(qa(n,o,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Ka=/\r\n?/g,Qa=/\u0000|\uFFFD/g;function Ja(e){return("string"===typeof e?e:""+e).replace(Ka,"\n").replace(Qa,"")}function Ya(e,t,n){if(t=Ja(t),Ja(e)!==t&&n)throw Error(i(425))}function Xa(){}var er=null,tr=null;function nr(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ar="function"===typeof setTimeout?setTimeout:void 0,rr="function"===typeof clearTimeout?clearTimeout:void 0,ir="function"===typeof Promise?Promise:void 0,sr="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ir?function(e){return ir.resolve(null).then(e).catch(lr)}:ar;function lr(e){setTimeout((function(){throw e}))}function or(e,t){var n=t,a=0;do{var r=n.nextSibling;if(e.removeChild(n),r&&8===r.nodeType)if("/$"===(n=r.data)){if(0===a)return e.removeChild(r),void Ut(t);a--}else"$"!==n&&"$?"!==n&&"$!"!==n||a++;n=r}while(n);Ut(t)}function cr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function dr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var ur=Math.random().toString(36).slice(2),pr="__reactFiber$"+ur,mr="__reactProps$"+ur,fr="__reactContainer$"+ur,hr="__reactEvents$"+ur,yr="__reactListeners$"+ur,xr="__reactHandles$"+ur;function gr(e){var t=e[pr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fr]||n[pr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=dr(e);null!==e;){if(n=e[pr])return n;e=dr(e)}return t}n=(e=n).parentNode}return null}function vr(e){return!(e=e[pr]||e[fr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function jr(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function wr(e){return e[mr]||null}var br=[],kr=-1;function Nr(e){return{current:e}}function zr(e){0>kr||(e.current=br[kr],br[kr]=null,kr--)}function Pr(e,t){kr++,br[kr]=e.current,e.current=t}var Er={},Sr=Nr(Er),_r=Nr(!1),Cr=Er;function Mr(e,t){var n=e.type.contextTypes;if(!n)return Er;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var r,i={};for(r in n)i[r]=t[r];return a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Tr(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Lr(){zr(_r),zr(Sr)}function Or(e,t,n){if(Sr.current!==Er)throw Error(i(168));Pr(Sr,t),Pr(_r,n)}function Rr(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,"function"!==typeof a.getChildContext)return n;for(var r in a=a.getChildContext())if(!(r in t))throw Error(i(108,B(e)||"Unknown",r));return A({},n,a)}function Ir(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Er,Cr=Sr.current,Pr(Sr,e),Pr(_r,_r.current),!0}function Ar(e,t,n){var a=e.stateNode;if(!a)throw Error(i(169));n?(e=Rr(e,t,Cr),a.__reactInternalMemoizedMergedChildContext=e,zr(_r),zr(Sr),Pr(Sr,e)):zr(_r),Pr(_r,n)}var Dr=null,Wr=!1,Fr=!1;function $r(e){null===Dr?Dr=[e]:Dr.push(e)}function Ur(){if(!Fr&&null!==Dr){Fr=!0;var e=0,t=vt;try{var n=Dr;for(vt=1;e<n.length;e++){var a=n[e];do{a=a(!0)}while(null!==a)}Dr=null,Wr=!1}catch(r){throw null!==Dr&&(Dr=Dr.slice(e+1)),Ze(Xe,Ur),r}finally{vt=t,Fr=!1}}return null}var Br=[],Vr=0,qr=null,Hr=0,Zr=[],Gr=0,Kr=null,Qr=1,Jr="";function Yr(e,t){Br[Vr++]=Hr,Br[Vr++]=qr,qr=e,Hr=t}function Xr(e,t,n){Zr[Gr++]=Qr,Zr[Gr++]=Jr,Zr[Gr++]=Kr,Kr=e;var a=Qr;e=Jr;var r=32-st(a)-1;a&=~(1<<r),n+=1;var i=32-st(t)+r;if(30<i){var s=r-r%5;i=(a&(1<<s)-1).toString(32),a>>=s,r-=s,Qr=1<<32-st(t)+r|n<<r|a,Jr=i+e}else Qr=1<<i|n<<r|a,Jr=e}function ei(e){null!==e.return&&(Yr(e,1),Xr(e,1,0))}function ti(e){for(;e===qr;)qr=Br[--Vr],Br[Vr]=null,Hr=Br[--Vr],Br[Vr]=null;for(;e===Kr;)Kr=Zr[--Gr],Zr[Gr]=null,Jr=Zr[--Gr],Zr[Gr]=null,Qr=Zr[--Gr],Zr[Gr]=null}var ni=null,ai=null,ri=!1,ii=null;function si(e,t){var n=Mc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ni=e,ai=cr(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ni=e,ai=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Kr?{id:Qr,overflow:Jr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Mc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ni=e,ai=null,!0);default:return!1}}function oi(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ri){var t=ai;if(t){var n=t;if(!li(e,t)){if(oi(e))throw Error(i(418));t=cr(n.nextSibling);var a=ni;t&&li(e,t)?si(a,n):(e.flags=-4097&e.flags|2,ri=!1,ni=e)}}else{if(oi(e))throw Error(i(418));e.flags=-4097&e.flags|2,ri=!1,ni=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ni=e}function ui(e){if(e!==ni)return!1;if(!ri)return di(e),ri=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!nr(e.type,e.memoizedProps)),t&&(t=ai)){if(oi(e))throw pi(),Error(i(418));for(;t;)si(e,t),t=cr(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ai=cr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ai=null}}else ai=ni?cr(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=ai;e;)e=cr(e.nextSibling)}function mi(){ai=ni=null,ri=!1}function fi(e){null===ii?ii=[e]:ii.push(e)}var hi=j.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var a=n.stateNode}if(!a)throw Error(i(147,e));var r=a,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=r.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function xi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function gi(e){return(0,e._init)(e._payload)}function vi(e){function t(t,n){if(e){var a=t.deletions;null===a?(t.deletions=[n],t.flags|=16):a.push(n)}}function n(n,a){if(!e)return null;for(;null!==a;)t(n,a),a=a.sibling;return null}function a(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function r(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function s(t,n,a){return t.index=a,e?null!==(a=t.alternate)?(a=a.index)<n?(t.flags|=2,n):a:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,a){return null===t||6!==t.tag?((t=Ac(n,e.mode,a)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,a){var i=n.type;return i===k?u(e,t,n.props.children,a,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===T&&gi(i)===t.type)?((a=r(t,n.props)).ref=yi(e,t,n),a.return=e,a):((a=Oc(n.type,n.key,n.props,null,e.mode,a)).ref=yi(e,t,n),a.return=e,a)}function d(e,t,n,a){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Dc(n,e.mode,a)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function u(e,t,n,a,i){return null===t||7!==t.tag?((t=Rc(n,e.mode,a,i)).return=e,t):((t=r(t,n)).return=e,t)}function p(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ac(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case b:return(t=Dc(t,e.mode,n)).return=e,t;case T:return p(e,(0,t._init)(t._payload),n)}if(te(t)||R(t))return(t=Rc(t,e.mode,n,null)).return=e,t;xi(e,t)}return null}function m(e,t,n,a){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==r?null:o(e,t,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===r?c(e,t,n,a):null;case b:return n.key===r?d(e,t,n,a):null;case T:return m(e,t,(r=n._init)(n._payload),a)}if(te(n)||R(n))return null!==r?null:u(e,t,n,a,null);xi(e,n)}return null}function f(e,t,n,a,r){if("string"===typeof a&&""!==a||"number"===typeof a)return o(t,e=e.get(n)||null,""+a,r);if("object"===typeof a&&null!==a){switch(a.$$typeof){case w:return c(t,e=e.get(null===a.key?n:a.key)||null,a,r);case b:return d(t,e=e.get(null===a.key?n:a.key)||null,a,r);case T:return f(e,t,n,(0,a._init)(a._payload),r)}if(te(a)||R(a))return u(t,e=e.get(n)||null,a,r,null);xi(t,a)}return null}function h(r,i,l,o){for(var c=null,d=null,u=i,h=i=0,y=null;null!==u&&h<l.length;h++){u.index>h?(y=u,u=null):y=u.sibling;var x=m(r,u,l[h],o);if(null===x){null===u&&(u=y);break}e&&u&&null===x.alternate&&t(r,u),i=s(x,i,h),null===d?c=x:d.sibling=x,d=x,u=y}if(h===l.length)return n(r,u),ri&&Yr(r,h),c;if(null===u){for(;h<l.length;h++)null!==(u=p(r,l[h],o))&&(i=s(u,i,h),null===d?c=u:d.sibling=u,d=u);return ri&&Yr(r,h),c}for(u=a(r,u);h<l.length;h++)null!==(y=f(u,r,h,l[h],o))&&(e&&null!==y.alternate&&u.delete(null===y.key?h:y.key),i=s(y,i,h),null===d?c=y:d.sibling=y,d=y);return e&&u.forEach((function(e){return t(r,e)})),ri&&Yr(r,h),c}function y(r,l,o,c){var d=R(o);if("function"!==typeof d)throw Error(i(150));if(null==(o=d.call(o)))throw Error(i(151));for(var u=d=null,h=l,y=l=0,x=null,g=o.next();null!==h&&!g.done;y++,g=o.next()){h.index>y?(x=h,h=null):x=h.sibling;var v=m(r,h,g.value,c);if(null===v){null===h&&(h=x);break}e&&h&&null===v.alternate&&t(r,h),l=s(v,l,y),null===u?d=v:u.sibling=v,u=v,h=x}if(g.done)return n(r,h),ri&&Yr(r,y),d;if(null===h){for(;!g.done;y++,g=o.next())null!==(g=p(r,g.value,c))&&(l=s(g,l,y),null===u?d=g:u.sibling=g,u=g);return ri&&Yr(r,y),d}for(h=a(r,h);!g.done;y++,g=o.next())null!==(g=f(h,r,y,g.value,c))&&(e&&null!==g.alternate&&h.delete(null===g.key?y:g.key),l=s(g,l,y),null===u?d=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(r,e)})),ri&&Yr(r,y),d}return function e(a,i,s,o){if("object"===typeof s&&null!==s&&s.type===k&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case w:e:{for(var c=s.key,d=i;null!==d;){if(d.key===c){if((c=s.type)===k){if(7===d.tag){n(a,d.sibling),(i=r(d,s.props.children)).return=a,a=i;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===T&&gi(c)===d.type){n(a,d.sibling),(i=r(d,s.props)).ref=yi(a,d,s),i.return=a,a=i;break e}n(a,d);break}t(a,d),d=d.sibling}s.type===k?((i=Rc(s.props.children,a.mode,o,s.key)).return=a,a=i):((o=Oc(s.type,s.key,s.props,null,a.mode,o)).ref=yi(a,i,s),o.return=a,a=o)}return l(a);case b:e:{for(d=s.key;null!==i;){if(i.key===d){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(a,i.sibling),(i=r(i,s.children||[])).return=a,a=i;break e}n(a,i);break}t(a,i),i=i.sibling}(i=Dc(s,a.mode,o)).return=a,a=i}return l(a);case T:return e(a,i,(d=s._init)(s._payload),o)}if(te(s))return h(a,i,s,o);if(R(s))return y(a,i,s,o);xi(a,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(a,i.sibling),(i=r(i,s)).return=a,a=i):(n(a,i),(i=Ac(s,a.mode,o)).return=a,a=i),l(a)):n(a,i)}}var ji=vi(!0),wi=vi(!1),bi=Nr(null),ki=null,Ni=null,zi=null;function Pi(){zi=Ni=ki=null}function Ei(e){var t=bi.current;zr(bi),e._currentValue=t}function Si(e,t,n){for(;null!==e;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==a&&(a.childLanes|=t)):null!==a&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function _i(e,t){ki=e,zi=Ni=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(gl=!0),e.firstContext=null)}function Ci(e){var t=e._currentValue;if(zi!==e)if(e={context:e,memoizedValue:t,next:null},null===Ni){if(null===ki)throw Error(i(308));Ni=e,ki.dependencies={lanes:0,firstContext:e}}else Ni=Ni.next=e;return t}var Mi=null;function Ti(e){null===Mi?Mi=[e]:Mi.push(e)}function Li(e,t,n,a){var r=t.interleaved;return null===r?(n.next=n,Ti(t)):(n.next=r.next,r.next=n),t.interleaved=n,Oi(e,a)}function Oi(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ri=!1;function Ii(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ai(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Di(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Wi(e,t,n){var a=e.updateQueue;if(null===a)return null;if(a=a.shared,0!==(2&So)){var r=a.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),a.pending=t,Oi(e,n)}return null===(r=a.interleaved)?(t.next=t,Ti(a)):(t.next=r.next,r.next=t),a.interleaved=t,Oi(e,n)}function Fi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,gt(e,n)}}function $i(e,t){var n=e.updateQueue,a=e.alternate;if(null!==a&&n===(a=a.updateQueue)){var r=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?r=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?r=i=t:i=i.next=t}else r=i=t;return n={baseState:a.baseState,firstBaseUpdate:r,lastBaseUpdate:i,shared:a.shared,effects:a.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ui(e,t,n,a){var r=e.updateQueue;Ri=!1;var i=r.firstBaseUpdate,s=r.lastBaseUpdate,l=r.shared.pending;if(null!==l){r.shared.pending=null;var o=l,c=o.next;o.next=null,null===s?i=c:s.next=c,s=o;var d=e.alternate;null!==d&&((l=(d=d.updateQueue).lastBaseUpdate)!==s&&(null===l?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=o))}if(null!==i){var u=r.baseState;for(s=0,d=c=o=null,l=i;;){var p=l.lane,m=l.eventTime;if((a&p)===p){null!==d&&(d=d.next={eventTime:m,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,h=l;switch(p=t,m=n,h.tag){case 1:if("function"===typeof(f=h.payload)){u=f.call(m,u,p);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(p="function"===typeof(f=h.payload)?f.call(m,u,p):f)||void 0===p)break e;u=A({},u,p);break e;case 2:Ri=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(p=r.effects)?r.effects=[l]:p.push(l))}else m={eventTime:m,lane:p,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===d?(c=d=m,o=u):d=d.next=m,s|=p;if(null===(l=l.next)){if(null===(l=r.shared.pending))break;l=(p=l).next,p.next=null,r.lastBaseUpdate=p,r.shared.pending=null}}if(null===d&&(o=u),r.baseState=o,r.firstBaseUpdate=c,r.lastBaseUpdate=d,null!==(t=r.shared.interleaved)){r=t;do{s|=r.lane,r=r.next}while(r!==t)}else null===i&&(r.shared.lanes=0);Io|=s,e.lanes=s,e.memoizedState=u}}function Bi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var a=e[t],r=a.callback;if(null!==r){if(a.callback=null,a=n,"function"!==typeof r)throw Error(i(191,r));r.call(a)}}}var Vi={},qi=Nr(Vi),Hi=Nr(Vi),Zi=Nr(Vi);function Gi(e){if(e===Vi)throw Error(i(174));return e}function Ki(e,t){switch(Pr(Zi,t),Pr(Hi,e),Pr(qi,Vi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}zr(qi),Pr(qi,t)}function Qi(){zr(qi),zr(Hi),zr(Zi)}function Ji(e){Gi(Zi.current);var t=Gi(qi.current),n=oe(t,e.type);t!==n&&(Pr(Hi,e),Pr(qi,n))}function Yi(e){Hi.current===e&&(zr(qi),zr(Hi))}var Xi=Nr(0);function es(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ts=[];function ns(){for(var e=0;e<ts.length;e++)ts[e]._workInProgressVersionPrimary=null;ts.length=0}var as=j.ReactCurrentDispatcher,rs=j.ReactCurrentBatchConfig,is=0,ss=null,ls=null,os=null,cs=!1,ds=!1,us=0,ps=0;function ms(){throw Error(i(321))}function fs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!la(e[n],t[n]))return!1;return!0}function hs(e,t,n,a,r,s){if(is=s,ss=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,as.current=null===e||null===e.memoizedState?Ys:Xs,e=n(a,r),ds){s=0;do{if(ds=!1,us=0,25<=s)throw Error(i(301));s+=1,os=ls=null,t.updateQueue=null,as.current=el,e=n(a,r)}while(ds)}if(as.current=Js,t=null!==ls&&null!==ls.next,is=0,os=ls=ss=null,cs=!1,t)throw Error(i(300));return e}function ys(){var e=0!==us;return us=0,e}function xs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===os?ss.memoizedState=os=e:os=os.next=e,os}function gs(){if(null===ls){var e=ss.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===os?ss.memoizedState:os.next;if(null!==t)os=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===os?ss.memoizedState=os=e:os=os.next=e}return os}function vs(e,t){return"function"===typeof t?t(e):t}function js(e){var t=gs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=ls,r=a.baseQueue,s=n.pending;if(null!==s){if(null!==r){var l=r.next;r.next=s.next,s.next=l}a.baseQueue=r=s,n.pending=null}if(null!==r){s=r.next,a=a.baseState;var o=l=null,c=null,d=s;do{var u=d.lane;if((is&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var p={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(o=c=p,l=a):c=c.next=p,ss.lanes|=u,Io|=u}d=d.next}while(null!==d&&d!==s);null===c?l=a:c.next=o,la(a,t.memoizedState)||(gl=!0),t.memoizedState=a,t.baseState=l,t.baseQueue=c,n.lastRenderedState=a}if(null!==(e=n.interleaved)){r=e;do{s=r.lane,ss.lanes|=s,Io|=s,r=r.next}while(r!==e)}else null===r&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ws(e){var t=gs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var a=n.dispatch,r=n.pending,s=t.memoizedState;if(null!==r){n.pending=null;var l=r=r.next;do{s=e(s,l.action),l=l.next}while(l!==r);la(s,t.memoizedState)||(gl=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,a]}function bs(){}function ks(e,t){var n=ss,a=gs(),r=t(),s=!la(a.memoizedState,r);if(s&&(a.memoizedState=r,gl=!0),a=a.queue,Rs(Ps.bind(null,n,a,e),[e]),a.getSnapshot!==t||s||null!==os&&1&os.memoizedState.tag){if(n.flags|=2048,Cs(9,zs.bind(null,n,a,r,t),void 0,null),null===_o)throw Error(i(349));0!==(30&is)||Ns(n,t,r)}return r}function Ns(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function zs(e,t,n,a){t.value=n,t.getSnapshot=a,Es(t)&&Ss(e)}function Ps(e,t,n){return n((function(){Es(t)&&Ss(e)}))}function Es(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!la(e,n)}catch(a){return!0}}function Ss(e){var t=Oi(e,1);null!==t&&nc(t,e,1,-1)}function _s(e){var t=xs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vs,lastRenderedState:e},t.queue=e,e=e.dispatch=Zs.bind(null,ss,e),[t.memoizedState,e]}function Cs(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},null===(t=ss.updateQueue)?(t={lastEffect:null,stores:null},ss.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e),e}function Ms(){return gs().memoizedState}function Ts(e,t,n,a){var r=xs();ss.flags|=e,r.memoizedState=Cs(1|t,n,void 0,void 0===a?null:a)}function Ls(e,t,n,a){var r=gs();a=void 0===a?null:a;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==a&&fs(a,s.deps))return void(r.memoizedState=Cs(t,n,i,a))}ss.flags|=e,r.memoizedState=Cs(1|t,n,i,a)}function Os(e,t){return Ts(8390656,8,e,t)}function Rs(e,t){return Ls(2048,8,e,t)}function Is(e,t){return Ls(4,2,e,t)}function As(e,t){return Ls(4,4,e,t)}function Ds(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ws(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ls(4,4,Ds.bind(null,t,e),n)}function Fs(){}function $s(e,t){var n=gs();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&fs(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Us(e,t){var n=gs();t=void 0===t?null:t;var a=n.memoizedState;return null!==a&&null!==t&&fs(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Bs(e,t,n){return 0===(21&is)?(e.baseState&&(e.baseState=!1,gl=!0),e.memoizedState=n):(la(n,t)||(n=ht(),ss.lanes|=n,Io|=n,e.baseState=!0),t)}function Vs(e,t){var n=vt;vt=0!==n&&4>n?n:4,e(!0);var a=rs.transition;rs.transition={};try{e(!1),t()}finally{vt=n,rs.transition=a}}function qs(){return gs().memoizedState}function Hs(e,t,n){var a=tc(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Gs(e))Ks(t,n);else if(null!==(n=Li(e,t,n,a))){nc(n,e,a,ec()),Qs(n,t,a)}}function Zs(e,t,n){var a=tc(e),r={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Ks(t,r);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,l=i(s,n);if(r.hasEagerState=!0,r.eagerState=l,la(l,s)){var o=t.interleaved;return null===o?(r.next=r,Ti(t)):(r.next=o.next,o.next=r),void(t.interleaved=r)}}catch(c){}null!==(n=Li(e,t,r,a))&&(nc(n,e,a,r=ec()),Qs(n,t,a))}}function Gs(e){var t=e.alternate;return e===ss||null!==t&&t===ss}function Ks(e,t){ds=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qs(e,t,n){if(0!==(4194240&n)){var a=t.lanes;n|=a&=e.pendingLanes,t.lanes=n,gt(e,n)}}var Js={readContext:Ci,useCallback:ms,useContext:ms,useEffect:ms,useImperativeHandle:ms,useInsertionEffect:ms,useLayoutEffect:ms,useMemo:ms,useReducer:ms,useRef:ms,useState:ms,useDebugValue:ms,useDeferredValue:ms,useTransition:ms,useMutableSource:ms,useSyncExternalStore:ms,useId:ms,unstable_isNewReconciler:!1},Ys={readContext:Ci,useCallback:function(e,t){return xs().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:Os,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ts(4194308,4,Ds.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ts(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ts(4,2,e,t)},useMemo:function(e,t){var n=xs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=xs();return t=void 0!==n?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Hs.bind(null,ss,e),[a.memoizedState,e]},useRef:function(e){return e={current:e},xs().memoizedState=e},useState:_s,useDebugValue:Fs,useDeferredValue:function(e){return xs().memoizedState=e},useTransition:function(){var e=_s(!1),t=e[0];return e=Vs.bind(null,e[1]),xs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=ss,r=xs();if(ri){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===_o)throw Error(i(349));0!==(30&is)||Ns(a,t,n)}r.memoizedState=n;var s={value:n,getSnapshot:t};return r.queue=s,Os(Ps.bind(null,a,s,e),[e]),a.flags|=2048,Cs(9,zs.bind(null,a,s,n,t),void 0,null),n},useId:function(){var e=xs(),t=_o.identifierPrefix;if(ri){var n=Jr;t=":"+t+"R"+(n=(Qr&~(1<<32-st(Qr)-1)).toString(32)+n),0<(n=us++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xs={readContext:Ci,useCallback:$s,useContext:Ci,useEffect:Rs,useImperativeHandle:Ws,useInsertionEffect:Is,useLayoutEffect:As,useMemo:Us,useReducer:js,useRef:Ms,useState:function(){return js(vs)},useDebugValue:Fs,useDeferredValue:function(e){return Bs(gs(),ls.memoizedState,e)},useTransition:function(){return[js(vs)[0],gs().memoizedState]},useMutableSource:bs,useSyncExternalStore:ks,useId:qs,unstable_isNewReconciler:!1},el={readContext:Ci,useCallback:$s,useContext:Ci,useEffect:Rs,useImperativeHandle:Ws,useInsertionEffect:Is,useLayoutEffect:As,useMemo:Us,useReducer:ws,useRef:Ms,useState:function(){return ws(vs)},useDebugValue:Fs,useDeferredValue:function(e){var t=gs();return null===ls?t.memoizedState=e:Bs(t,ls.memoizedState,e)},useTransition:function(){return[ws(vs)[0],gs().memoizedState]},useMutableSource:bs,useSyncExternalStore:ks,useId:qs,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var n in t=A({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function nl(e,t,n,a){n=null===(n=n(a,t=e.memoizedState))||void 0===n?t:A({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var al={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),i=Di(a,r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Wi(e,i,r))&&(nc(t,e,r,a),Fi(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=ec(),r=tc(e),i=Di(a,r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=Wi(e,i,r))&&(nc(t,e,r,a),Fi(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),a=tc(e),r=Di(n,a);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=Wi(e,r,a))&&(nc(t,e,a,n),Fi(t,e,a))}};function rl(e,t,n,a,r,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(a,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!oa(n,a)||!oa(r,i))}function il(e,t,n){var a=!1,r=Er,i=t.contextType;return"object"===typeof i&&null!==i?i=Ci(i):(r=Tr(t)?Cr:Sr.current,i=(a=null!==(a=t.contextTypes)&&void 0!==a)?Mr(e,r):Er),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=al,e.stateNode=t,t._reactInternals=e,a&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=r,e.__reactInternalMemoizedMaskedChildContext=i),t}function sl(e,t,n,a){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,a),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&al.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,a){var r=e.stateNode;r.props=n,r.state=e.memoizedState,r.refs={},Ii(e);var i=t.contextType;"object"===typeof i&&null!==i?r.context=Ci(i):(i=Tr(t)?Cr:Sr.current,r.context=Mr(e,i)),r.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(nl(e,t,i,n),r.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof r.getSnapshotBeforeUpdate||"function"!==typeof r.UNSAFE_componentWillMount&&"function"!==typeof r.componentWillMount||(t=r.state,"function"===typeof r.componentWillMount&&r.componentWillMount(),"function"===typeof r.UNSAFE_componentWillMount&&r.UNSAFE_componentWillMount(),t!==r.state&&al.enqueueReplaceState(r,r.state,null),Ui(e,n,r,a),r.state=e.memoizedState),"function"===typeof r.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var n="",a=t;do{n+=$(a),a=a.return}while(a);var r=n}catch(i){r="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:r,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function dl(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var ul="function"===typeof WeakMap?WeakMap:Map;function pl(e,t,n){(n=Di(-1,n)).tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Vo||(Vo=!0,qo=a),dl(0,t)},n}function ml(e,t,n){(n=Di(-1,n)).tag=3;var a=e.type.getDerivedStateFromError;if("function"===typeof a){var r=t.value;n.payload=function(){return a(r)},n.callback=function(){dl(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){dl(0,t),"function"!==typeof a&&(null===Ho?Ho=new Set([this]):Ho.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fl(e,t,n){var a=e.pingCache;if(null===a){a=e.pingCache=new ul;var r=new Set;a.set(t,r)}else void 0===(r=a.get(t))&&(r=new Set,a.set(t,r));r.has(n)||(r.add(n),e=zc.bind(null,e,t,n),t.then(e,e))}function hl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yl(e,t,n,a,r){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Di(-1,1)).tag=2,Wi(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=r,e)}var xl=j.ReactCurrentOwner,gl=!1;function vl(e,t,n,a){t.child=null===e?wi(t,null,n,a):ji(t,e.child,n,a)}function jl(e,t,n,a,r){n=n.render;var i=t.ref;return _i(t,r),a=hs(e,t,n,a,i,r),n=ys(),null===e||gl?(ri&&n&&ei(t),t.flags|=1,vl(e,t,a,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Bl(e,t,r))}function wl(e,t,n,a,r){if(null===e){var i=n.type;return"function"!==typeof i||Tc(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,a,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,bl(e,t,i,a,r))}if(i=e.child,0===(e.lanes&r)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:oa)(s,a)&&e.ref===t.ref)return Bl(e,t,r)}return t.flags|=1,(e=Lc(i,a)).ref=t.ref,e.return=t,t.child=e}function bl(e,t,n,a,r){if(null!==e){var i=e.memoizedProps;if(oa(i,a)&&e.ref===t.ref){if(gl=!1,t.pendingProps=a=i,0===(e.lanes&r))return t.lanes=e.lanes,Bl(e,t,r);0!==(131072&e.flags)&&(gl=!0)}}return zl(e,t,n,a,r)}function kl(e,t,n){var a=t.pendingProps,r=a.children,i=null!==e?e.memoizedState:null;if("hidden"===a.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pr(Lo,To),To|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Pr(Lo,To),To|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=null!==i?i.baseLanes:n,Pr(Lo,To),To|=a}else null!==i?(a=i.baseLanes|n,t.memoizedState=null):a=n,Pr(Lo,To),To|=a;return vl(e,t,r,n),t.child}function Nl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function zl(e,t,n,a,r){var i=Tr(n)?Cr:Sr.current;return i=Mr(t,i),_i(t,r),n=hs(e,t,n,a,i,r),a=ys(),null===e||gl?(ri&&a&&ei(t),t.flags|=1,vl(e,t,n,r),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~r,Bl(e,t,r))}function Pl(e,t,n,a,r){if(Tr(n)){var i=!0;Ir(t)}else i=!1;if(_i(t,r),null===t.stateNode)Ul(e,t),il(t,n,a),ll(t,n,a,r),a=!0;else if(null===e){var s=t.stateNode,l=t.memoizedProps;s.props=l;var o=s.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ci(c):c=Mr(t,c=Tr(n)?Cr:Sr.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof s.getSnapshotBeforeUpdate;u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==a||o!==c)&&sl(t,s,a,c),Ri=!1;var p=t.memoizedState;s.state=p,Ui(t,a,s,r),o=t.memoizedState,l!==a||p!==o||_r.current||Ri?("function"===typeof d&&(nl(t,n,d,a),o=t.memoizedState),(l=Ri||rl(t,n,l,a,p,o,c))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=o),s.props=a,s.state=o,s.context=c,a=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),a=!1)}else{s=t.stateNode,Ai(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),s.props=c,u=t.pendingProps,p=s.context,"object"===typeof(o=n.contextType)&&null!==o?o=Ci(o):o=Mr(t,o=Tr(n)?Cr:Sr.current);var m=n.getDerivedStateFromProps;(d="function"===typeof m||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(l!==u||p!==o)&&sl(t,s,a,o),Ri=!1,p=t.memoizedState,s.state=p,Ui(t,a,s,r);var f=t.memoizedState;l!==u||p!==f||_r.current||Ri?("function"===typeof m&&(nl(t,n,m,a),f=t.memoizedState),(c=Ri||rl(t,n,c,a,p,f,o)||!1)?(d||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(a,f,o),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(a,f,o)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=f),s.props=a,s.state=f,s.context=o,a=c):("function"!==typeof s.componentDidUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||l===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),a=!1)}return El(e,t,n,a,i,r)}function El(e,t,n,a,r,i){Nl(e,t);var s=0!==(128&t.flags);if(!a&&!s)return r&&Ar(t,n,!1),Bl(e,t,i);a=t.stateNode,xl.current=t;var l=s&&"function"!==typeof n.getDerivedStateFromError?null:a.render();return t.flags|=1,null!==e&&s?(t.child=ji(t,e.child,null,i),t.child=ji(t,null,l,i)):vl(e,t,l,i),t.memoizedState=a.state,r&&Ar(t,n,!0),t.child}function Sl(e){var t=e.stateNode;t.pendingContext?Or(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Or(0,t.context,!1),Ki(e,t.containerInfo)}function _l(e,t,n,a,r){return mi(),fi(r),t.flags|=256,vl(e,t,n,a),t.child}var Cl,Ml,Tl,Ll,Ol={dehydrated:null,treeContext:null,retryLane:0};function Rl(e){return{baseLanes:e,cachePool:null,transitions:null}}function Il(e,t,n){var a,r=t.pendingProps,s=Xi.current,l=!1,o=0!==(128&t.flags);if((a=o)||(a=(null===e||null!==e.memoizedState)&&0!==(2&s)),a?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Pr(Xi,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=r.children,e=r.fallback,l?(r=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&r)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Ic(o,r,0,null),e=Rc(e,r,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Rl(n),t.memoizedState=Ol,e):Al(t,o));if(null!==(s=e.memoizedState)&&null!==(a=s.dehydrated))return function(e,t,n,a,r,s,l){if(n)return 256&t.flags?(t.flags&=-257,Dl(e,t,l,a=cl(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=a.fallback,r=t.mode,a=Ic({mode:"visible",children:a.children},r,0,null),(s=Rc(s,r,l,null)).flags|=2,a.return=t,s.return=t,a.sibling=s,t.child=a,0!==(1&t.mode)&&ji(t,e.child,null,l),t.child.memoizedState=Rl(l),t.memoizedState=Ol,s);if(0===(1&t.mode))return Dl(e,t,l,null);if("$!"===r.data){if(a=r.nextSibling&&r.nextSibling.dataset)var o=a.dgst;return a=o,Dl(e,t,l,a=cl(s=Error(i(419)),a,void 0))}if(o=0!==(l&e.childLanes),gl||o){if(null!==(a=_o)){switch(l&-l){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}0!==(r=0!==(r&(a.suspendedLanes|l))?0:r)&&r!==s.retryLane&&(s.retryLane=r,Oi(e,r),nc(a,e,r,-1))}return hc(),Dl(e,t,l,a=cl(Error(i(421))))}return"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,null):(e=s.treeContext,ai=cr(r.nextSibling),ni=t,ri=!0,ii=null,null!==e&&(Zr[Gr++]=Qr,Zr[Gr++]=Jr,Zr[Gr++]=Kr,Qr=e.id,Jr=e.overflow,Kr=t),t=Al(t,a.children),t.flags|=4096,t)}(e,t,o,r,a,s,n);if(l){l=r.fallback,o=t.mode,a=(s=e.child).sibling;var c={mode:"hidden",children:r.children};return 0===(1&o)&&t.child!==s?((r=t.child).childLanes=0,r.pendingProps=c,t.deletions=null):(r=Lc(s,c)).subtreeFlags=14680064&s.subtreeFlags,null!==a?l=Lc(a,l):(l=Rc(l,o,n,null)).flags|=2,l.return=t,r.return=t,r.sibling=l,t.child=r,r=l,l=t.child,o=null===(o=e.child.memoizedState)?Rl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Ol,r}return e=(l=e.child).sibling,r=Lc(l,{mode:"visible",children:r.children}),0===(1&t.mode)&&(r.lanes=n),r.return=t,r.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Al(e,t){return(t=Ic({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Dl(e,t,n,a){return null!==a&&fi(a),ji(t,e.child,null,n),(e=Al(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wl(e,t,n){e.lanes|=t;var a=e.alternate;null!==a&&(a.lanes|=t),Si(e.return,t,n)}function Fl(e,t,n,a,r){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:r}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=a,i.tail=n,i.tailMode=r)}function $l(e,t,n){var a=t.pendingProps,r=a.revealOrder,i=a.tail;if(vl(e,t,a.children,n),0!==(2&(a=Xi.current)))a=1&a|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wl(e,n,t);else if(19===e.tag)Wl(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Pr(Xi,a),0===(1&t.mode))t.memoizedState=null;else switch(r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===es(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),Fl(t,!1,r,n,i);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===es(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}Fl(t,!0,n,null,i);break;case"together":Fl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Bl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Io|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Vl(e,t){if(!ri)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;null!==n;)null!==n.alternate&&(a=n),n=n.sibling;null===a?t||null===e.tail?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ql(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,a=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=14680064&r.subtreeFlags,a|=14680064&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,a|=r.subtreeFlags,a|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Hl(e,t,n){var a=t.pendingProps;switch(ti(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ql(t),null;case 1:case 17:return Tr(t.type)&&Lr(),ql(t),null;case 3:return a=t.stateNode,Qi(),zr(_r),zr(Sr),ns(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==e&&null!==e.child||(ui(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ii&&(sc(ii),ii=null))),Ml(e,t),ql(t),null;case 5:Yi(t);var r=Gi(Zi.current);if(n=t.type,null!==e&&null!=t.stateNode)Tl(e,t,n,a,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(null===t.stateNode)throw Error(i(166));return ql(t),null}if(e=Gi(qi.current),ui(t)){a=t.stateNode,n=t.type;var s=t.memoizedProps;switch(a[pr]=t,a[mr]=s,e=0!==(1&t.mode),n){case"dialog":Wa("cancel",a),Wa("close",a);break;case"iframe":case"object":case"embed":Wa("load",a);break;case"video":case"audio":for(r=0;r<Ra.length;r++)Wa(Ra[r],a);break;case"source":Wa("error",a);break;case"img":case"image":case"link":Wa("error",a),Wa("load",a);break;case"details":Wa("toggle",a);break;case"input":Q(a,s),Wa("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!s.multiple},Wa("invalid",a);break;case"textarea":re(a,s),Wa("invalid",a)}for(var o in ge(n,s),r=null,s)if(s.hasOwnProperty(o)){var c=s[o];"children"===o?"string"===typeof c?a.textContent!==c&&(!0!==s.suppressHydrationWarning&&Ya(a.textContent,c,e),r=["children",c]):"number"===typeof c&&a.textContent!==""+c&&(!0!==s.suppressHydrationWarning&&Ya(a.textContent,c,e),r=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Wa("scroll",a)}switch(n){case"input":H(a),X(a,s,!0);break;case"textarea":H(a),se(a);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(a.onclick=Xa)}a=r,t.updateQueue=a,null!==a&&(t.flags|=4)}else{o=9===r.nodeType?r:r.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof a.is?e=o.createElement(n,{is:a.is}):(e=o.createElement(n),"select"===n&&(o=e,a.multiple?o.multiple=!0:a.size&&(o.size=a.size))):e=o.createElementNS(e,n),e[pr]=t,e[mr]=a,Cl(e,t,!1,!1),t.stateNode=e;e:{switch(o=ve(n,a),n){case"dialog":Wa("cancel",e),Wa("close",e),r=a;break;case"iframe":case"object":case"embed":Wa("load",e),r=a;break;case"video":case"audio":for(r=0;r<Ra.length;r++)Wa(Ra[r],e);r=a;break;case"source":Wa("error",e),r=a;break;case"img":case"image":case"link":Wa("error",e),Wa("load",e),r=a;break;case"details":Wa("toggle",e),r=a;break;case"input":Q(e,a),r=K(e,a),Wa("invalid",e);break;case"option":default:r=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},r=A({},a,{value:void 0}),Wa("invalid",e);break;case"textarea":re(e,a),r=ae(e,a),Wa("invalid",e)}for(s in ge(n,r),c=r)if(c.hasOwnProperty(s)){var d=c[s];"style"===s?ye(e,d):"dangerouslySetInnerHTML"===s?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===s?"string"===typeof d?("textarea"!==n||""!==d)&&pe(e,d):"number"===typeof d&&pe(e,""+d):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=d&&"onScroll"===s&&Wa("scroll",e):null!=d&&v(e,s,d,o))}switch(n){case"input":H(e),X(e,a,!1);break;case"textarea":H(e),se(e);break;case"option":null!=a.value&&e.setAttribute("value",""+V(a.value));break;case"select":e.multiple=!!a.multiple,null!=(s=a.value)?ne(e,!!a.multiple,s,!1):null!=a.defaultValue&&ne(e,!!a.multiple,a.defaultValue,!0);break;default:"function"===typeof r.onClick&&(e.onclick=Xa)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return ql(t),null;case 6:if(e&&null!=t.stateNode)Ll(e,t,e.memoizedProps,a);else{if("string"!==typeof a&&null===t.stateNode)throw Error(i(166));if(n=Gi(Zi.current),Gi(qi.current),ui(t)){if(a=t.stateNode,n=t.memoizedProps,a[pr]=t,(s=a.nodeValue!==n)&&null!==(e=ni))switch(e.tag){case 3:Ya(a.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Ya(a.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(a=(9===n.nodeType?n:n.ownerDocument).createTextNode(a))[pr]=t,t.stateNode=a}return ql(t),null;case 13:if(zr(Xi),a=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ri&&null!==ai&&0!==(1&t.mode)&&0===(128&t.flags))pi(),mi(),t.flags|=98560,s=!1;else if(s=ui(t),null!==a&&null!==a.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[pr]=t}else mi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;ql(t),s=!1}else null!==ii&&(sc(ii),ii=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((a=null!==a)!==(null!==e&&null!==e.memoizedState)&&a&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xi.current)?0===Oo&&(Oo=3):hc())),null!==t.updateQueue&&(t.flags|=4),ql(t),null);case 4:return Qi(),Ml(e,t),null===e&&Ua(t.stateNode.containerInfo),ql(t),null;case 10:return Ei(t.type._context),ql(t),null;case 19:if(zr(Xi),null===(s=t.memoizedState))return ql(t),null;if(a=0!==(128&t.flags),null===(o=s.rendering))if(a)Vl(s,!1);else{if(0!==Oo||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=es(e))){for(t.flags|=128,Vl(s,!1),null!==(a=o.updateQueue)&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;null!==n;)e=a,(s=n).flags&=14680066,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Pr(Xi,1&Xi.current|2),t.child}e=e.sibling}null!==s.tail&&Je()>Uo&&(t.flags|=128,a=!0,Vl(s,!1),t.lanes=4194304)}else{if(!a)if(null!==(e=es(o))){if(t.flags|=128,a=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Vl(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!ri)return ql(t),null}else 2*Je()-s.renderingStartTime>Uo&&1073741824!==n&&(t.flags|=128,a=!0,Vl(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=s.last)?n.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Je(),t.sibling=null,n=Xi.current,Pr(Xi,a?1&n|2:1&n),t):(ql(t),null);case 22:case 23:return uc(),a=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==a&&(t.flags|=8192),a&&0!==(1&t.mode)?0!==(1073741824&To)&&(ql(t),6&t.subtreeFlags&&(t.flags|=8192)):ql(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Zl(e,t){switch(ti(t),t.tag){case 1:return Tr(t.type)&&Lr(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qi(),zr(_r),zr(Sr),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Yi(t),null;case 13:if(zr(Xi),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));mi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return zr(Xi),null;case 4:return Qi(),null;case 10:return Ei(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Cl=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ml=function(){},Tl=function(e,t,n,a){var r=e.memoizedProps;if(r!==a){e=t.stateNode,Gi(qi.current);var i,s=null;switch(n){case"input":r=K(e,r),a=K(e,a),s=[];break;case"select":r=A({},r,{value:void 0}),a=A({},a,{value:void 0}),s=[];break;case"textarea":r=ae(e,r),a=ae(e,a),s=[];break;default:"function"!==typeof r.onClick&&"function"===typeof a.onClick&&(e.onclick=Xa)}for(d in ge(n,a),n=null,r)if(!a.hasOwnProperty(d)&&r.hasOwnProperty(d)&&null!=r[d])if("style"===d){var o=r[d];for(i in o)o.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(l.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in a){var c=a[d];if(o=null!=r?r[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(null!=c||null!=o))if("style"===d)if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(n||(n={}),n[i]=c[i])}else n||(s||(s=[]),s.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(s=s||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(s=s||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(l.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Wa("scroll",e),s||o===c||(s=[])):(s=s||[]).push(d,c))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}},Ll=function(e,t,n,a){n!==a&&(t.flags|=4)};var Gl=!1,Kl=!1,Ql="function"===typeof WeakSet?WeakSet:Set,Jl=null;function Yl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(a){Nc(e,t,a)}else n.current=null}function Xl(e,t,n){try{n()}catch(a){Nc(e,t,a)}}var eo=!1;function to(e,t,n){var a=t.updateQueue;if(null!==(a=null!==a?a.lastEffect:null)){var r=a=a.next;do{if((r.tag&e)===e){var i=r.destroy;r.destroy=void 0,void 0!==i&&Xl(t,n,i)}r=r.next}while(r!==a)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function ao(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ro(e){var t=e.alternate;null!==t&&(e.alternate=null,ro(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[pr],delete t[mr],delete t[hr],delete t[yr],delete t[xr])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function io(e){return 5===e.tag||3===e.tag||4===e.tag}function so(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||io(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xa));else if(4!==a&&null!==(e=e.child))for(lo(e,t,n),e=e.sibling;null!==e;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var a=e.tag;if(5===a||6===a)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==a&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function po(e,t,n){for(n=n.child;null!==n;)mo(e,t,n),n=n.sibling}function mo(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(rt,n)}catch(l){}switch(n.tag){case 5:Kl||Yl(n,t);case 6:var a=co,r=uo;co=null,po(e,t,n),uo=r,null!==(co=a)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?or(e.parentNode,n):1===e.nodeType&&or(e,n),Ut(e)):or(co,n.stateNode));break;case 4:a=co,r=uo,co=n.stateNode.containerInfo,uo=!0,po(e,t,n),co=a,uo=r;break;case 0:case 11:case 14:case 15:if(!Kl&&(null!==(a=n.updateQueue)&&null!==(a=a.lastEffect))){r=a=a.next;do{var i=r,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&Xl(n,t,s),r=r.next}while(r!==a)}po(e,t,n);break;case 1:if(!Kl&&(Yl(n,t),"function"===typeof(a=n.stateNode).componentWillUnmount))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(l){Nc(n,t,l)}po(e,t,n);break;case 21:po(e,t,n);break;case 22:1&n.mode?(Kl=(a=Kl)||null!==n.memoizedState,po(e,t,n),Kl=a):po(e,t,n);break;default:po(e,t,n)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ql),t.forEach((function(t){var a=Sc.bind(null,e,t);n.has(t)||(n.add(t),t.then(a,a))}))}}function ho(e,t){var n=t.deletions;if(null!==n)for(var a=0;a<n.length;a++){var r=n[a];try{var s=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(i(160));mo(s,l,r),co=null,uo=!1;var c=r.alternate;null!==c&&(c.return=null),r.return=null}catch(d){Nc(r,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yo(t,e),t=t.sibling}function yo(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ho(t,e),xo(e),4&a){try{to(3,e,e.return),no(3,e)}catch(y){Nc(e,e.return,y)}try{to(5,e,e.return)}catch(y){Nc(e,e.return,y)}}break;case 1:ho(t,e),xo(e),512&a&&null!==n&&Yl(n,n.return);break;case 5:if(ho(t,e),xo(e),512&a&&null!==n&&Yl(n,n.return),32&e.flags){var r=e.stateNode;try{pe(r,"")}catch(y){Nc(e,e.return,y)}}if(4&a&&null!=(r=e.stateNode)){var s=e.memoizedProps,l=null!==n?n.memoizedProps:s,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===s.type&&null!=s.name&&J(r,s),ve(o,l);var d=ve(o,s);for(l=0;l<c.length;l+=2){var u=c[l],p=c[l+1];"style"===u?ye(r,p):"dangerouslySetInnerHTML"===u?ue(r,p):"children"===u?pe(r,p):v(r,u,p,d)}switch(o){case"input":Y(r,s);break;case"textarea":ie(r,s);break;case"select":var m=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?ne(r,!!s.multiple,f,!1):m!==!!s.multiple&&(null!=s.defaultValue?ne(r,!!s.multiple,s.defaultValue,!0):ne(r,!!s.multiple,s.multiple?[]:"",!1))}r[mr]=s}catch(y){Nc(e,e.return,y)}}break;case 6:if(ho(t,e),xo(e),4&a){if(null===e.stateNode)throw Error(i(162));r=e.stateNode,s=e.memoizedProps;try{r.nodeValue=s}catch(y){Nc(e,e.return,y)}}break;case 3:if(ho(t,e),xo(e),4&a&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(y){Nc(e,e.return,y)}break;case 4:default:ho(t,e),xo(e);break;case 13:ho(t,e),xo(e),8192&(r=e.child).flags&&(s=null!==r.memoizedState,r.stateNode.isHidden=s,!s||null!==r.alternate&&null!==r.alternate.memoizedState||($o=Je())),4&a&&fo(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Kl=(d=Kl)||u,ho(t,e),Kl=d):ho(t,e),xo(e),8192&a){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Jl=e,u=e.child;null!==u;){for(p=Jl=u;null!==Jl;){switch(f=(m=Jl).child,m.tag){case 0:case 11:case 14:case 15:to(4,m,m.return);break;case 1:Yl(m,m.return);var h=m.stateNode;if("function"===typeof h.componentWillUnmount){a=m,n=m.return;try{t=a,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(y){Nc(a,n,y)}}break;case 5:Yl(m,m.return);break;case 22:if(null!==m.memoizedState){wo(p);continue}}null!==f?(f.return=m,Jl=f):wo(p)}u=u.sibling}e:for(u=null,p=e;;){if(5===p.tag){if(null===u){u=p;try{r=p.stateNode,d?"function"===typeof(s=r.style).setProperty?s.setProperty("display","none","important"):s.display="none":(o=p.stateNode,l=void 0!==(c=p.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=he("display",l))}catch(y){Nc(e,e.return,y)}}}else if(6===p.tag){if(null===u)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(y){Nc(e,e.return,y)}}else if((22!==p.tag&&23!==p.tag||null===p.memoizedState||p===e)&&null!==p.child){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;null===p.sibling;){if(null===p.return||p.return===e)break e;u===p&&(u=null),p=p.return}u===p&&(u=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ho(t,e),xo(e),4&a&&fo(e);case 21:}}function xo(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(io(n)){var a=n;break e}n=n.return}throw Error(i(160))}switch(a.tag){case 5:var r=a.stateNode;32&a.flags&&(pe(r,""),a.flags&=-33),oo(e,so(e),r);break;case 3:case 4:var s=a.stateNode.containerInfo;lo(e,so(e),s);break;default:throw Error(i(161))}}catch(l){Nc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function go(e,t,n){Jl=e,vo(e,t,n)}function vo(e,t,n){for(var a=0!==(1&e.mode);null!==Jl;){var r=Jl,i=r.child;if(22===r.tag&&a){var s=null!==r.memoizedState||Gl;if(!s){var l=r.alternate,o=null!==l&&null!==l.memoizedState||Kl;l=Gl;var c=Kl;if(Gl=s,(Kl=o)&&!c)for(Jl=r;null!==Jl;)o=(s=Jl).child,22===s.tag&&null!==s.memoizedState?bo(r):null!==o?(o.return=s,Jl=o):bo(r);for(;null!==i;)Jl=i,vo(i,t,n),i=i.sibling;Jl=r,Gl=l,Kl=c}jo(e)}else 0!==(8772&r.subtreeFlags)&&null!==i?(i.return=r,Jl=i):jo(e)}}function jo(e){for(;null!==Jl;){var t=Jl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Kl||no(5,t);break;case 1:var a=t.stateNode;if(4&t.flags&&!Kl)if(null===n)a.componentDidMount();else{var r=t.elementType===t.type?n.memoizedProps:tl(t.type,n.memoizedProps);a.componentDidUpdate(r,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Bi(t,s,a);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Bi(t,l,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var p=u.dehydrated;null!==p&&Ut(p)}}}break;default:throw Error(i(163))}Kl||512&t.flags&&ao(t)}catch(m){Nc(t,t.return,m)}}if(t===e){Jl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Jl=n;break}Jl=t.return}}function wo(e){for(;null!==Jl;){var t=Jl;if(t===e){Jl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Jl=n;break}Jl=t.return}}function bo(e){for(;null!==Jl;){var t=Jl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){Nc(t,n,o)}break;case 1:var a=t.stateNode;if("function"===typeof a.componentDidMount){var r=t.return;try{a.componentDidMount()}catch(o){Nc(t,r,o)}}var i=t.return;try{ao(t)}catch(o){Nc(t,i,o)}break;case 5:var s=t.return;try{ao(t)}catch(o){Nc(t,s,o)}}}catch(o){Nc(t,t.return,o)}if(t===e){Jl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Jl=l;break}Jl=t.return}}var ko,No=Math.ceil,zo=j.ReactCurrentDispatcher,Po=j.ReactCurrentOwner,Eo=j.ReactCurrentBatchConfig,So=0,_o=null,Co=null,Mo=0,To=0,Lo=Nr(0),Oo=0,Ro=null,Io=0,Ao=0,Do=0,Wo=null,Fo=null,$o=0,Uo=1/0,Bo=null,Vo=!1,qo=null,Ho=null,Zo=!1,Go=null,Ko=0,Qo=0,Jo=null,Yo=-1,Xo=0;function ec(){return 0!==(6&So)?Je():-1!==Yo?Yo:Yo=Je()}function tc(e){return 0===(1&e.mode)?1:0!==(2&So)&&0!==Mo?Mo&-Mo:null!==hi.transition?(0===Xo&&(Xo=ht()),Xo):0!==(e=vt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,a){if(50<Qo)throw Qo=0,Jo=null,Error(i(185));xt(e,n,a),0!==(2&So)&&e===_o||(e===_o&&(0===(2&So)&&(Ao|=n),4===Oo&&lc(e,Mo)),ac(e,a),1===n&&0===So&&0===(1&t.mode)&&(Uo=Je()+500,Wr&&Ur()))}function ac(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,r=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),l=1<<s,o=r[s];-1===o?0!==(l&n)&&0===(l&a)||(r[s]=mt(l,t)):o<=t&&(e.expiredLanes|=l),i&=~l}}(e,t);var a=pt(e,e===_o?Mo:0);if(0===a)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Wr=!0,$r(e)}(oc.bind(null,e)):$r(oc.bind(null,e)),sr((function(){0===(6&So)&&Ur()})),n=null;else{switch(jt(a)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=at}n=_c(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if(Yo=-1,Xo=0,0!==(6&So))throw Error(i(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var a=pt(e,e===_o?Mo:0);if(0===a)return null;if(0!==(30&a)||0!==(a&e.expiredLanes)||t)t=yc(e,a);else{t=a;var r=So;So|=2;var s=fc();for(_o===e&&Mo===t||(Bo=null,Uo=Je()+500,pc(e,t));;)try{gc();break}catch(o){mc(e,o)}Pi(),zo.current=s,So=r,null!==Co?t=0:(_o=null,Mo=0,t=Oo)}if(0!==t){if(2===t&&(0!==(r=ft(e))&&(a=r,t=ic(e,r))),1===t)throw n=Ro,pc(e,0),lc(e,a),ac(e,Je()),n;if(6===t)lc(e,a);else{if(r=e.current.alternate,0===(30&a)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var a=0;a<n.length;a++){var r=n[a],i=r.getSnapshot;r=r.value;try{if(!la(i(),r))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(r)&&(2===(t=yc(e,a))&&(0!==(s=ft(e))&&(a=s,t=ic(e,s))),1===t))throw n=Ro,pc(e,0),lc(e,a),ac(e,Je()),n;switch(e.finishedWork=r,e.finishedLanes=a,t){case 0:case 1:throw Error(i(345));case 2:case 5:wc(e,Fo,Bo);break;case 3:if(lc(e,a),(130023424&a)===a&&10<(t=$o+500-Je())){if(0!==pt(e,0))break;if(((r=e.suspendedLanes)&a)!==a){ec(),e.pingedLanes|=e.suspendedLanes&r;break}e.timeoutHandle=ar(wc.bind(null,e,Fo,Bo),t);break}wc(e,Fo,Bo);break;case 4:if(lc(e,a),(4194240&a)===a)break;for(t=e.eventTimes,r=-1;0<a;){var l=31-st(a);s=1<<l,(l=t[l])>r&&(r=l),a&=~s}if(a=r,10<(a=(120>(a=Je()-a)?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*No(a/1960))-a)){e.timeoutHandle=ar(wc.bind(null,e,Fo,Bo),a);break}wc(e,Fo,Bo);break;default:throw Error(i(329))}}}return ac(e,Je()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Wo;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Fo,Fo=n,null!==t&&sc(t)),e}function sc(e){null===Fo?Fo=e:Fo.push.apply(Fo,e)}function lc(e,t){for(t&=~Do,t&=~Ao,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),a=1<<n;e[n]=-1,t&=~a}}function oc(e){if(0!==(6&So))throw Error(i(327));bc();var t=pt(e,0);if(0===(1&t))return ac(e,Je()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var a=ft(e);0!==a&&(t=a,n=ic(e,a))}if(1===n)throw n=Ro,pc(e,0),lc(e,t),ac(e,Je()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fo,Bo),ac(e,Je()),null}function cc(e,t){var n=So;So|=1;try{return e(t)}finally{0===(So=n)&&(Uo=Je()+500,Wr&&Ur())}}function dc(e){null!==Go&&0===Go.tag&&0===(6&So)&&bc();var t=So;So|=1;var n=Eo.transition,a=vt;try{if(Eo.transition=null,vt=1,e)return e()}finally{vt=a,Eo.transition=n,0===(6&(So=t))&&Ur()}}function uc(){To=Lo.current,zr(Lo)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,rr(n)),null!==Co)for(n=Co.return;null!==n;){var a=n;switch(ti(a),a.tag){case 1:null!==(a=a.type.childContextTypes)&&void 0!==a&&Lr();break;case 3:Qi(),zr(_r),zr(Sr),ns();break;case 5:Yi(a);break;case 4:Qi();break;case 13:case 19:zr(Xi);break;case 10:Ei(a.type._context);break;case 22:case 23:uc()}n=n.return}if(_o=e,Co=e=Lc(e.current,null),Mo=To=t,Oo=0,Ro=null,Do=Ao=Io=0,Fo=Wo=null,null!==Mi){for(t=0;t<Mi.length;t++)if(null!==(a=(n=Mi[t]).interleaved)){n.interleaved=null;var r=a.next,i=n.pending;if(null!==i){var s=i.next;i.next=r,a.next=s}n.pending=a}Mi=null}return e}function mc(e,t){for(;;){var n=Co;try{if(Pi(),as.current=Js,cs){for(var a=ss.memoizedState;null!==a;){var r=a.queue;null!==r&&(r.pending=null),a=a.next}cs=!1}if(is=0,os=ls=ss=null,ds=!1,us=0,Po.current=null,null===n||null===n.return){Oo=1,Ro=t,Co=null;break}e:{var s=e,l=n.return,o=n,c=t;if(t=Mo,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=o,p=u.tag;if(0===(1&u.mode)&&(0===p||11===p||15===p)){var m=u.alternate;m?(u.updateQueue=m.updateQueue,u.memoizedState=m.memoizedState,u.lanes=m.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=hl(l);if(null!==f){f.flags&=-257,yl(f,l,o,0,t),1&f.mode&&fl(s,d,t),c=d;var h=(t=f).updateQueue;if(null===h){var y=new Set;y.add(c),t.updateQueue=y}else h.add(c);break e}if(0===(1&t)){fl(s,d,t),hc();break e}c=Error(i(426))}else if(ri&&1&o.mode){var x=hl(l);if(null!==x){0===(65536&x.flags)&&(x.flags|=256),yl(x,l,o,0,t),fi(ol(c,o));break e}}s=c=ol(c,o),4!==Oo&&(Oo=2),null===Wo?Wo=[s]:Wo.push(s),s=l;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,$i(s,pl(0,c,t));break e;case 1:o=c;var g=s.type,v=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==v&&"function"===typeof v.componentDidCatch&&(null===Ho||!Ho.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,$i(s,ml(s,o,t));break e}}s=s.return}while(null!==s)}jc(n)}catch(j){t=j,Co===n&&null!==n&&(Co=n=n.return);continue}break}}function fc(){var e=zo.current;return zo.current=Js,null===e?Js:e}function hc(){0!==Oo&&3!==Oo&&2!==Oo||(Oo=4),null===_o||0===(268435455&Io)&&0===(268435455&Ao)||lc(_o,Mo)}function yc(e,t){var n=So;So|=2;var a=fc();for(_o===e&&Mo===t||(Bo=null,pc(e,t));;)try{xc();break}catch(r){mc(e,r)}if(Pi(),So=n,zo.current=a,null!==Co)throw Error(i(261));return _o=null,Mo=0,Oo}function xc(){for(;null!==Co;)vc(Co)}function gc(){for(;null!==Co&&!Ke();)vc(Co)}function vc(e){var t=ko(e.alternate,e,To);e.memoizedProps=e.pendingProps,null===t?jc(e):Co=t,Po.current=null}function jc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Hl(n,t,To)))return void(Co=n)}else{if(null!==(n=Zl(n,t)))return n.flags&=32767,void(Co=n);if(null===e)return Oo=6,void(Co=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Co=t);Co=t=e}while(null!==t);0===Oo&&(Oo=5)}function wc(e,t,n){var a=vt,r=Eo.transition;try{Eo.transition=null,vt=1,function(e,t,n,a){do{bc()}while(null!==Go);if(0!==(6&So))throw Error(i(327));n=e.finishedWork;var r=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var r=31-st(n),i=1<<r;t[r]=0,a[r]=-1,e[r]=-1,n&=~i}}(e,s),e===_o&&(Co=_o=null,Mo=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Zo||(Zo=!0,_c(tt,(function(){return bc(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Eo.transition,Eo.transition=null;var l=vt;vt=1;var o=So;So|=4,Po.current=null,function(e,t){if(er=Vt,ma(e=pa())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var a=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(a&&0!==a.rangeCount){n=a.anchorNode;var r=a.anchorOffset,s=a.focusNode;a=a.focusOffset;try{n.nodeType,s.nodeType}catch(w){n=null;break e}var l=0,o=-1,c=-1,d=0,u=0,p=e,m=null;t:for(;;){for(var f;p!==n||0!==r&&3!==p.nodeType||(o=l+r),p!==s||0!==a&&3!==p.nodeType||(c=l+a),3===p.nodeType&&(l+=p.nodeValue.length),null!==(f=p.firstChild);)m=p,p=f;for(;;){if(p===e)break t;if(m===n&&++d===r&&(o=l),m===s&&++u===a&&(c=l),null!==(f=p.nextSibling))break;m=(p=m).parentNode}p=f}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(tr={focusedElem:e,selectionRange:n},Vt=!1,Jl=t;null!==Jl;)if(e=(t=Jl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Jl=e;else for(;null!==Jl;){t=Jl;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var y=h.memoizedProps,x=h.memoizedState,g=t.stateNode,v=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:tl(t.type,y),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var j=t.stateNode.containerInfo;1===j.nodeType?j.textContent="":9===j.nodeType&&j.documentElement&&j.removeChild(j.documentElement);break;default:throw Error(i(163))}}catch(w){Nc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Jl=e;break}Jl=t.return}h=eo,eo=!1}(e,n),yo(n,e),fa(tr),Vt=!!er,tr=er=null,e.current=n,go(n,e,r),Qe(),So=o,vt=l,Eo.transition=s}else e.current=n;if(Zo&&(Zo=!1,Go=e,Ko=r),s=e.pendingLanes,0===s&&(Ho=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(rt,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ac(e,Je()),null!==t)for(a=e.onRecoverableError,n=0;n<t.length;n++)r=t[n],a(r.value,{componentStack:r.stack,digest:r.digest});if(Vo)throw Vo=!1,e=qo,qo=null,e;0!==(1&Ko)&&0!==e.tag&&bc(),s=e.pendingLanes,0!==(1&s)?e===Jo?Qo++:(Qo=0,Jo=e):Qo=0,Ur()}(e,t,n,a)}finally{Eo.transition=r,vt=a}return null}function bc(){if(null!==Go){var e=jt(Ko),t=Eo.transition,n=vt;try{if(Eo.transition=null,vt=16>e?16:e,null===Go)var a=!1;else{if(e=Go,Go=null,Ko=0,0!==(6&So))throw Error(i(331));var r=So;for(So|=4,Jl=e.current;null!==Jl;){var s=Jl,l=s.child;if(0!==(16&Jl.flags)){var o=s.deletions;if(null!==o){for(var c=0;c<o.length;c++){var d=o[c];for(Jl=d;null!==Jl;){var u=Jl;switch(u.tag){case 0:case 11:case 15:to(8,u,s)}var p=u.child;if(null!==p)p.return=u,Jl=p;else for(;null!==Jl;){var m=(u=Jl).sibling,f=u.return;if(ro(u),u===d){Jl=null;break}if(null!==m){m.return=f,Jl=m;break}Jl=f}}}var h=s.alternate;if(null!==h){var y=h.child;if(null!==y){h.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(null!==y)}}Jl=s}}if(0!==(2064&s.subtreeFlags)&&null!==l)l.return=s,Jl=l;else e:for(;null!==Jl;){if(0!==(2048&(s=Jl).flags))switch(s.tag){case 0:case 11:case 15:to(9,s,s.return)}var g=s.sibling;if(null!==g){g.return=s.return,Jl=g;break e}Jl=s.return}}var v=e.current;for(Jl=v;null!==Jl;){var j=(l=Jl).child;if(0!==(2064&l.subtreeFlags)&&null!==j)j.return=l,Jl=j;else e:for(l=v;null!==Jl;){if(0!==(2048&(o=Jl).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(b){Nc(o,o.return,b)}if(o===l){Jl=null;break e}var w=o.sibling;if(null!==w){w.return=o.return,Jl=w;break e}Jl=o.return}}if(So=r,Ur(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(rt,e)}catch(b){}a=!0}return a}finally{vt=n,Eo.transition=t}}return!1}function kc(e,t,n){e=Wi(e,t=pl(0,t=ol(n,t),1),1),t=ec(),null!==e&&(xt(e,1,t),ac(e,t))}function Nc(e,t,n){if(3===e.tag)kc(e,e,n);else for(;null!==t;){if(3===t.tag){kc(t,e,n);break}if(1===t.tag){var a=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof a.componentDidCatch&&(null===Ho||!Ho.has(a))){t=Wi(t,e=ml(t,e=ol(n,e),1),1),e=ec(),null!==t&&(xt(t,1,e),ac(t,e));break}}t=t.return}}function zc(e,t,n){var a=e.pingCache;null!==a&&a.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,_o===e&&(Mo&n)===n&&(4===Oo||3===Oo&&(130023424&Mo)===Mo&&500>Je()-$o?pc(e,0):Do|=n),ac(e,t)}function Pc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Oi(e,t))&&(xt(e,t,n),ac(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Pc(e,n)}function Sc(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(i(314))}null!==a&&a.delete(t),Pc(e,n)}function _c(e,t){return Ze(e,t)}function Cc(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mc(e,t,n,a){return new Cc(e,t,n,a)}function Tc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Mc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,a,r,s){var l=2;if(a=e,"function"===typeof e)Tc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case k:return Rc(n.children,r,s,t);case N:l=8,r|=8;break;case z:return(e=Mc(12,n,t,2|r)).elementType=z,e.lanes=s,e;case _:return(e=Mc(13,n,t,r)).elementType=_,e.lanes=s,e;case C:return(e=Mc(19,n,t,r)).elementType=C,e.lanes=s,e;case L:return Ic(n,r,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case P:l=10;break e;case E:l=9;break e;case S:l=11;break e;case M:l=14;break e;case T:l=16,a=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Mc(l,n,t,r)).elementType=e,t.type=a,t.lanes=s,t}function Rc(e,t,n,a){return(e=Mc(7,e,a,t)).lanes=n,e}function Ic(e,t,n,a){return(e=Mc(22,e,a,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Ac(e,t,n){return(e=Mc(6,e,null,t)).lanes=n,e}function Dc(e,t,n){return(t=Mc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Wc(e,t,n,a,r){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yt(0),this.expirationTimes=yt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yt(0),this.identifierPrefix=a,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function Fc(e,t,n,a,r,i,s,l,o){return e=new Wc(e,t,n,l,o),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Mc(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ii(i),e}function $c(e){if(!e)return Er;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Tr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Tr(n))return Rr(e,n,t)}return t}function Uc(e,t,n,a,r,i,s,l,o){return(e=Fc(n,a,!0,e,0,i,0,l,o)).context=$c(null),n=e.current,(i=Di(a=ec(),r=tc(n))).callback=void 0!==t&&null!==t?t:null,Wi(n,i,r),e.current.lanes=r,xt(e,r,a),ac(e,a),e}function Bc(e,t,n,a){var r=t.current,i=ec(),s=tc(r);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Di(i,s)).payload={element:e},null!==(a=void 0===a?null:a)&&(t.callback=a),null!==(e=Wi(r,t,s))&&(nc(e,r,s,i),Fi(e,r,s)),s}function Vc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function qc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Hc(e,t){qc(e,t),(e=e.alternate)&&qc(e,t)}ko=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||_r.current)gl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return gl=!1,function(e,t,n){switch(t.tag){case 3:Sl(t),mi();break;case 5:Ji(t);break;case 1:Tr(t.type)&&Ir(t);break;case 4:Ki(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,r=t.memoizedProps.value;Pr(bi,a._currentValue),a._currentValue=r;break;case 13:if(null!==(a=t.memoizedState))return null!==a.dehydrated?(Pr(Xi,1&Xi.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Il(e,t,n):(Pr(Xi,1&Xi.current),null!==(e=Bl(e,t,n))?e.sibling:null);Pr(Xi,1&Xi.current);break;case 19:if(a=0!==(n&t.childLanes),0!==(128&e.flags)){if(a)return $l(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),Pr(Xi,Xi.current),a)break;return null;case 22:case 23:return t.lanes=0,kl(e,t,n)}return Bl(e,t,n)}(e,t,n);gl=0!==(131072&e.flags)}else gl=!1,ri&&0!==(1048576&t.flags)&&Xr(t,Hr,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;Ul(e,t),e=t.pendingProps;var r=Mr(t,Sr.current);_i(t,n),r=hs(null,t,a,e,r,n);var s=ys();return t.flags|=1,"object"===typeof r&&null!==r&&"function"===typeof r.render&&void 0===r.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Tr(a)?(s=!0,Ir(t)):s=!1,t.memoizedState=null!==r.state&&void 0!==r.state?r.state:null,Ii(t),r.updater=al,t.stateNode=r,r._reactInternals=t,ll(t,a,e,n),t=El(null,t,a,!0,s,n)):(t.tag=0,ri&&s&&ei(t),vl(null,t,r,n),t=t.child),t;case 16:a=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,a=(r=a._init)(a._payload),t.type=a,r=t.tag=function(e){if("function"===typeof e)return Tc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===S)return 11;if(e===M)return 14}return 2}(a),e=tl(a,e),r){case 0:t=zl(null,t,a,e,n);break e;case 1:t=Pl(null,t,a,e,n);break e;case 11:t=jl(null,t,a,e,n);break e;case 14:t=wl(null,t,a,tl(a.type,e),n);break e}throw Error(i(306,a,""))}return t;case 0:return a=t.type,r=t.pendingProps,zl(e,t,a,r=t.elementType===a?r:tl(a,r),n);case 1:return a=t.type,r=t.pendingProps,Pl(e,t,a,r=t.elementType===a?r:tl(a,r),n);case 3:e:{if(Sl(t),null===e)throw Error(i(387));a=t.pendingProps,r=(s=t.memoizedState).element,Ai(e,t),Ui(t,a,null,n);var l=t.memoizedState;if(a=l.element,s.isDehydrated){if(s={element:a,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=_l(e,t,a,n,r=ol(Error(i(423)),t));break e}if(a!==r){t=_l(e,t,a,n,r=ol(Error(i(424)),t));break e}for(ai=cr(t.stateNode.containerInfo.firstChild),ni=t,ri=!0,ii=null,n=wi(t,null,a,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(mi(),a===r){t=Bl(e,t,n);break e}vl(e,t,a,n)}t=t.child}return t;case 5:return Ji(t),null===e&&ci(t),a=t.type,r=t.pendingProps,s=null!==e?e.memoizedProps:null,l=r.children,nr(a,r)?l=null:null!==s&&nr(a,s)&&(t.flags|=32),Nl(e,t),vl(e,t,l,n),t.child;case 6:return null===e&&ci(t),null;case 13:return Il(e,t,n);case 4:return Ki(t,t.stateNode.containerInfo),a=t.pendingProps,null===e?t.child=ji(t,null,a,n):vl(e,t,a,n),t.child;case 11:return a=t.type,r=t.pendingProps,jl(e,t,a,r=t.elementType===a?r:tl(a,r),n);case 7:return vl(e,t,t.pendingProps,n),t.child;case 8:case 12:return vl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,r=t.pendingProps,s=t.memoizedProps,l=r.value,Pr(bi,a._currentValue),a._currentValue=l,null!==s)if(la(s.value,l)){if(s.children===r.children&&!_r.current){t=Bl(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var o=s.dependencies;if(null!==o){l=s.child;for(var c=o.firstContext;null!==c;){if(c.context===a){if(1===s.tag){(c=Di(-1,n&-n)).tag=2;var d=s.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}s.lanes|=n,null!==(c=s.alternate)&&(c.lanes|=n),Si(s.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===s.tag)l=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(l=s.return))throw Error(i(341));l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),Si(l,n,t),l=s.sibling}else l=s.child;if(null!==l)l.return=s;else for(l=s;null!==l;){if(l===t){l=null;break}if(null!==(s=l.sibling)){s.return=l.return,l=s;break}l=l.return}s=l}vl(e,t,r.children,n),t=t.child}return t;case 9:return r=t.type,a=t.pendingProps.children,_i(t,n),a=a(r=Ci(r)),t.flags|=1,vl(e,t,a,n),t.child;case 14:return r=tl(a=t.type,t.pendingProps),wl(e,t,a,r=tl(a.type,r),n);case 15:return bl(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,r=t.pendingProps,r=t.elementType===a?r:tl(a,r),Ul(e,t),t.tag=1,Tr(a)?(e=!0,Ir(t)):e=!1,_i(t,n),il(t,a,r),ll(t,a,r,n),El(null,t,a,!0,e,n);case 19:return $l(e,t,n);case 22:return kl(e,t,n)}throw Error(i(156,t.tag))};var Zc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Kc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Yc(){}function Xc(e,t,n,a,r){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof r){var l=r;r=function(){var e=Vc(s);l.call(e)}}Bc(t,s,e,r)}else s=function(e,t,n,a,r){if(r){if("function"===typeof a){var i=a;a=function(){var e=Vc(s);i.call(e)}}var s=Uc(t,a,e,0,null,!1,0,"",Yc);return e._reactRootContainer=s,e[fr]=s.current,Ua(8===e.nodeType?e.parentNode:e),dc(),s}for(;r=e.lastChild;)e.removeChild(r);if("function"===typeof a){var l=a;a=function(){var e=Vc(o);l.call(e)}}var o=Fc(e,0,!1,null,0,!1,0,"",Yc);return e._reactRootContainer=o,e[fr]=o.current,Ua(8===e.nodeType?e.parentNode:e),dc((function(){Bc(t,o,n,a)})),o}(n,t,e,r,a);return Vc(s)}Kc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Bc(e,t,null,null)},Kc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc((function(){Bc(null,e,null,null)})),t[fr]=null}},Kc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&At(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(gt(t,1|n),ac(t,Je()),0===(6&So)&&(Uo=Je()+500,Ur()))}break;case 13:dc((function(){var t=Oi(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}})),Hc(e,1)}},bt=function(e){if(13===e.tag){var t=Oi(e,134217728);if(null!==t)nc(t,e,134217728,ec());Hc(e,134217728)}},kt=function(e){if(13===e.tag){var t=tc(e),n=Oi(e,t);if(null!==n)nc(n,e,t,ec());Hc(e,t)}},Nt=function(){return vt},zt=function(e,t){var n=vt;try{return vt=e,t()}finally{vt=n}},be=function(e,t,n){switch(t){case"input":if(Y(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var r=wr(a);if(!r)throw Error(i(90));Z(a),Y(a,r)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Se=cc,_e=dc;var ed={usingClientEntryPoint:!1,Events:[vr,jr,wr,Pe,Ee,cc]},td={findFiberByHostInstance:gr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ad=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ad.isDisabled&&ad.supportsFiber)try{rt=ad.inject(nd),it=ad}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(i(200));return function(e,t,n){var a=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:b,key:null==a?null:""+a,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(i(299));var n=!1,a="",r=Zc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(a=t.identifierPrefix),void 0!==t.onRecoverableError&&(r=t.onRecoverableError)),t=Fc(e,1,!1,null,0,n,0,a,r),e[fr]=t.current,Ua(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(i(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(i(405));var a=null!=n&&n.hydratedSources||null,r=!1,s="",l=Zc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Uc(t,null,e,1,null!=n?n:null,r,0,s,l),e[fr]=t.current,Ua(e),a)for(e=0;e<a.length;e++)r=(r=(n=a[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,r]:t.mutableSourceEagerHydrationData.push(n,r);return new Kc(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(i(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(i(40));return!!e._reactRootContainer&&(dc((function(){Xc(null,null,e,!1,(function(){e._reactRootContainer=null,e[fr]=null}))})),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Jc(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Xc(e,t,n,!1,a)},t.version="18.3.1-next-f1338f8080-20240426"},352:(e,t,n)=>{var a=n(119);t.createRoot=a.createRoot,t.hydrateRoot=a.hydrateRoot},414:(e,t,n)=>{e.exports=n(654)},654:(e,t,n)=>{var a=n(950),r=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,l=a.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var a,i={},c=null,d=null;for(a in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)s.call(t,a)&&!o.hasOwnProperty(a)&&(i[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps)void 0===i[a]&&(i[a]=t[a]);return{$$typeof:r,type:e,key:c,ref:d,props:i,_owner:l.current}}t.Fragment=i,t.jsx=c,t.jsxs=c},761:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var a=n-1>>>1,r=e[a];if(!(0<i(r,t)))break e;e[a]=t,e[n]=r,n=a}}function a(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var a=0,r=e.length,s=r>>>1;a<s;){var l=2*(a+1)-1,o=e[l],c=l+1,d=e[c];if(0>i(o,n))c<r&&0>i(d,o)?(e[a]=d,e[c]=n,a=c):(e[a]=o,e[l]=n,a=l);else{if(!(c<r&&0>i(d,n)))break e;e[a]=d,e[c]=n,a=c}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],d=[],u=1,p=null,m=3,f=!1,h=!1,y=!1,x="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,v="undefined"!==typeof setImmediate?setImmediate:null;function j(e){for(var t=a(d);null!==t;){if(null===t.callback)r(d);else{if(!(t.startTime<=e))break;r(d),t.sortIndex=t.expirationTime,n(c,t)}t=a(d)}}function w(e){if(y=!1,j(e),!h)if(null!==a(c))h=!0,L(b);else{var t=a(d);null!==t&&O(w,t.startTime-e)}}function b(e,n){h=!1,y&&(y=!1,g(P),P=-1),f=!0;var i=m;try{for(j(n),p=a(c);null!==p&&(!(p.expirationTime>n)||e&&!_());){var s=p.callback;if("function"===typeof s){p.callback=null,m=p.priorityLevel;var l=s(p.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?p.callback=l:p===a(c)&&r(c),j(n)}else r(c);p=a(c)}if(null!==p)var o=!0;else{var u=a(d);null!==u&&O(w,u.startTime-n),o=!1}return o}finally{p=null,m=i,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,N=!1,z=null,P=-1,E=5,S=-1;function _(){return!(t.unstable_now()-S<E)}function C(){if(null!==z){var e=t.unstable_now();S=e;var n=!0;try{n=z(!0,e)}finally{n?k():(N=!1,z=null)}}else N=!1}if("function"===typeof v)k=function(){v(C)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,T=M.port2;M.port1.onmessage=C,k=function(){T.postMessage(null)}}else k=function(){x(C,0)};function L(e){z=e,N||(N=!0,k())}function O(e,n){P=x((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||f||(h=!0,L(b))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return a(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,r,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:u++,callback:r,priorityLevel:e,startTime:i,expirationTime:l=i+l,sortIndex:-1},i>s?(e.sortIndex=i,n(d,e),null===a(c)&&e===a(d)&&(y?(g(P),P=-1):y=!0,O(w,i-s))):(e.sortIndex=l,n(c,e),h||f||(h=!0,L(b))),e},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},950:(e,t,n)=>{e.exports=n(49)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var i=t[a]={exports:{}};return e[a](i,i.exports,n),i.exports}var a=n(950),r=n(352),i=n(414);const s={name:"Tw\xf3j Developer",cash:1e8,reputation:100,reputationHistory:[],projects:[],rtbPower:0,totalPower:0,staff:{scouts:[],developers:[],lawyers:[],envSpecialists:[],lobbyists:[]},illegals:{hasIllegalDatabase:!1,corruptionNetwork:0,intimidationPower:0,forgeryExpertise:0,auditRisk:20,lastAuditTurn:0,totalBribes:0,illegalActionHistory:[]},economicMetrics:{totalInvestment:0,totalRevenue:0,totalExpenses:0,avgROI:0,projectsCost:0,projectsValue:0},audits:{totalAudits:0,passedAudits:0,totalFines:0,lastAuditResult:null},loans:[]};function l(e,t){var n,a,r,i;switch(t.type){case"UPDATE_CASH":return{...e,cash:e.cash+t.payload};case"ADD_PROJECT":return{...e,projects:[...e.projects,t.payload],totalPower:e.totalPower+t.payload.power};case"UPDATE_PROJECT":return{...e,projects:e.projects.map((e=>e.id===t.payload.id?{...e,...t.payload.changes}:e))};case"SELL_PROJECT":return{...e,cash:e.cash+t.payload.price,projects:e.projects.filter((e=>e.id!==t.payload.projectId)),totalPower:e.totalPower-((null===(n=e.projects.find((e=>e.id===t.payload.projectId)))||void 0===n?void 0:n.power)||0),rtbPower:e.rtbPower-("ready_to_build"===(null===(a=e.projects.find((e=>e.id===t.payload.projectId)))||void 0===a?void 0:a.status)&&(null===(r=e.projects.find((e=>e.id===t.payload.projectId)))||void 0===r?void 0:r.power)||0),economicMetrics:{...e.economicMetrics,totalRevenue:e.economicMetrics.totalRevenue+t.payload.price,projectsValue:e.economicMetrics.projectsValue-((null===(i=e.projects.find((e=>e.id===t.payload.projectId)))||void 0===i?void 0:i.marketValue)||0)}};case"UPDATE_RTB_POWER":return{...e,rtbPower:e.rtbPower+t.payload};case"HIRE_STAFF":const s=t.payload.staffType.endsWith("s")?t.payload.staffType:`${t.payload.staffType}s`,l=e.staff[s]||[];return{...e,cash:e.cash-t.payload.cost,staff:{...e.staff,[s]:[...l,t.payload.staff]},economicMetrics:{...e.economicMetrics,totalExpenses:e.economicMetrics.totalExpenses+t.payload.cost}};case"FIRE_STAFF":const o=t.payload.staffType.endsWith("s")?t.payload.staffType:`${t.payload.staffType}s`;return{...e,cash:e.cash-t.payload.cost,staff:{...e.staff,[o]:(e.staff[o]||[]).filter((e=>e.id!==t.payload.staffId))},economicMetrics:{...e.economicMetrics,totalExpenses:e.economicMetrics.totalExpenses+t.payload.cost}};case"TRAIN_STAFF":const c=t.payload.staffType.endsWith("s")?t.payload.staffType:`${t.payload.staffType}s`;return{...e,cash:e.cash-t.payload.cost,staff:{...e.staff,[c]:(e.staff[c]||[]).map((e=>e.id===t.payload.staffId?{...e,skill:Math.min(10,e.skill+t.payload.skillGain),experience:e.experience+t.payload.experienceGain,training:[...e.training||[],{date:(new Date).toISOString(),type:t.payload.trainingType,cost:t.payload.cost,skillGain:t.payload.skillGain}]}:e))},economicMetrics:{...e.economicMetrics,totalExpenses:e.economicMetrics.totalExpenses+t.payload.cost}};case"UPDATE_STAFF":const d=t.payload.staffType.endsWith("s")?t.payload.staffType:`${t.payload.staffType}s`;return{...e,staff:{...e.staff,[d]:(e.staff[d]||[]).map((e=>e.id===t.payload.staffId?{...e,...t.payload.changes}:e))}};case"ASSIGN_STAFF_TO_PROJECT":return{...e,projects:e.projects.map((e=>e.id===t.payload.projectId?{...e,assignedStaff:{...e.assignedStaff||{},[t.payload.staffType]:t.payload.staffId}}:e)),staff:{...e.staff,[t.payload.staffType+"s"]:(e.staff[t.payload.staffType+"s"]||[]).map((e=>e.id===t.payload.staffId?{...e,assignedProject:t.payload.projectId,assignedSince:(new Date).toISOString()}:e))}};case"ADD_PROJECT_EVENT":return{...e,projects:e.projects.map((e=>e.id===t.payload.projectId?{...e,events:[...e.events,t.payload.event]}:e))};case"UPDATE_REPUTATION":return{...e,reputation:Math.max(0,Math.min(200,e.reputation+t.payload.change)),reputationHistory:[...e.reputationHistory,{date:(new Date).toISOString(),change:t.payload.change,reason:t.payload.reason,turn:t.payload.turn}]};case"USE_ILLEGAL_ACTION":return{...e,illegals:{...e.illegals,corruptionNetwork:t.payload.updateCorruption?Math.min(100,e.illegals.corruptionNetwork+t.payload.corruptionChange):e.illegals.corruptionNetwork,auditRisk:Math.min(100,e.illegals.auditRisk+t.payload.riskIncrease),totalBribes:e.illegals.totalBribes+(t.payload.bribeCost||0),illegalActionHistory:[...e.illegals.illegalActionHistory,{date:(new Date).toISOString(),type:t.payload.actionType,target:t.payload.target,cost:t.payload.bribeCost||0,turn:t.payload.turn}]},cash:e.cash-(t.payload.bribeCost||0),economicMetrics:{...e.economicMetrics,totalExpenses:e.economicMetrics.totalExpenses+(t.payload.bribeCost||0)}};case"TRIGGER_AUDIT":return{...e,illegals:{...e.illegals,auditRisk:Math.max(10,e.illegals.auditRisk-t.payload.riskReduction),lastAuditTurn:t.payload.turn},audits:{...e.audits,totalAudits:e.audits.totalAudits+1,passedAudits:t.payload.passed?e.audits.passedAudits+1:e.audits.passedAudits,totalFines:e.audits.totalFines+(t.payload.fine||0),lastAuditResult:{date:(new Date).toISOString(),turn:t.payload.turn,passed:t.payload.passed,fine:t.payload.fine||0,reputationLoss:t.payload.reputationLoss||0}},cash:e.cash-(t.payload.fine||0),economicMetrics:{...e.economicMetrics,totalExpenses:e.economicMetrics.totalExpenses+(t.payload.fine||0)}};case"UPDATE_PROJECT_MARKET_VALUE":return{...e,projects:e.projects.map((e=>e.id===t.payload.projectId?{...e,marketValue:t.payload.value}:e)),economicMetrics:{...e.economicMetrics,projectsValue:e.projects.reduce(((e,n)=>e+(n.id===t.payload.projectId?t.payload.value:n.marketValue||0)),0)}};case"UPDATE_PROJECT_TOTAL_COST":return{...e,projects:e.projects.map((e=>e.id===t.payload.projectId?{...e,totalCost:e.totalCost+t.payload.cost}:e)),economicMetrics:{...e.economicMetrics,totalInvestment:e.economicMetrics.totalInvestment+t.payload.cost,projectsCost:e.economicMetrics.projectsCost+t.payload.cost}};case"INITIALIZE_PROJECT_FORMAL_PARAMS":return{...e,projects:e.projects.map((e=>e.id===t.payload.projectId?{...e,formalParams:t.payload.params}:e))};case"UPDATE_ILLEGAL_DATABASE":return{...e,illegals:{...e.illegals,hasIllegalDatabase:t.payload.hasIllegalDatabase}};case"UPDATE_ILLEGALS_STATUS":return{...e,illegals:{...e.illegals,...t.payload}};case"ADD_ILLEGAL_HISTORY":return{...e,illegals:{...e.illegals,illegalActionHistory:[...e.illegals.illegalActionHistory,t.payload]}};case"ADD_ILLEGAL_ACTION":return{...e,cash:e.cash-t.payload.cost,illegals:{...e.illegals,auditRisk:Math.min(100,e.illegals.auditRisk+5),totalBribes:e.illegals.totalBribes+t.payload.cost,illegalActionHistory:[...e.illegals.illegalActionHistory,{date:(new Date).toISOString(),type:t.payload.type,target:t.payload.target,cost:t.payload.cost,turn:t.payload.turn,exposed:t.payload.exposed}]},economicMetrics:{...e.economicMetrics,totalExpenses:e.economicMetrics.totalExpenses+t.payload.cost}};case"ADD_LOAN":return{...e,loans:[...e.loans||[],t.payload],cash:e.cash+t.payload.amount};case"UPDATE_LOAN":return{...e,loans:(e.loans||[]).map((e=>e.id===t.payload.id?{...e,...t.payload.changes}:e))};case"REMOVE_LOAN":return{...e,loans:(e.loans||[]).filter((e=>e.id!==t.payload.id))};case"SEND_PROJECT_TO_MARKET":return e.projects.find((e=>e.id===t.payload.projectId))?{...e,projects:e.projects.map((e=>e.id===t.payload.projectId?{...e,isOnMarket:!0,marketPrice:t.payload.price,marketListingDate:(new Date).toISOString(),events:[...e.events,{date:(new Date).toISOString(),text:`Projekt zosta\u0142 wystawiony na rynek za ${t.payload.price.toLocaleString()} PLN`}]}:e))}:e;case"ACCELERATE_PROJECT":return e.projects.find((e=>e.id===t.payload.projectId))?{...e,cash:e.cash-t.payload.cost,projects:e.projects.map((e=>e.id===t.payload.projectId?{...e,progress:Math.min(100,(e.progress||0)+t.payload.progressGain),events:[...e.events,{date:(new Date).toISOString(),text:`Przyspieszono projekt o ${t.payload.progressGain}% za ${t.payload.cost.toLocaleString()} PLN`}]}:e)),economicMetrics:{...e.economicMetrics,totalExpenses:e.economicMetrics.totalExpenses+t.payload.cost,totalInvestment:e.economicMetrics.totalInvestment+t.payload.cost,projectsCost:e.economicMetrics.projectsCost+t.payload.cost}}:e;case"UPDATE_ECONOMIC_METRICS":return{...e,economicMetrics:{...e.economicMetrics,...t.payload}};default:return e}}const o=(0,a.createContext)(),c=e=>{let{children:t}=e;const[n,r]=(0,a.useReducer)(l,s);return(0,i.jsx)(o.Provider,{value:{state:n,dispatch:r},children:t})},d=()=>{const e=(0,a.useContext)(o);if(!e)throw new Error("usePlayerContext musi by\u0107 u\u017cywany wewn\u0105trz PlayerProvider");return e},u=e=>{let t=.05;if(e.morale<50&&(t+=.05),e.energy<40&&(t+=.07),e.traits&&e.traits.includes("konfliktowy")&&(t+=.03),e.traits&&e.traits.includes("wypalony")&&(t+=.05),Math.random()>t)return null;const n=[{id:"conflict",title:"Konflikt w zespole",description:`${e.name} popad\u0142 w konflikt z innym cz\u0142onkiem zespo\u0142u.`,severity:"negative",effects:{morale:-10,relations:-15}},{id:"innovation",title:"Innowacyjny pomys\u0142",description:`${e.name} zaproponowa\u0142 innowacyjne rozwi\u0105zanie problemu.`,severity:"positive",effects:{morale:15,skill:.2}},{id:"burnout",title:"Oznaki wypalenia",description:`${e.name} wykazuje oznaki wypalenia zawodowego.`,severity:"negative",effects:{energy:-20,morale:-15}},{id:"training_success",title:"Udane szkolenie",description:`${e.name} zdoby\u0142 nowe umiej\u0119tno\u015bci podczas szkolenia.`,severity:"positive",effects:{skill:.5,experience:100,morale:10}},{id:"job_offer",title:"Oferta od konkurencji",description:`${e.name} otrzyma\u0142 ofert\u0119 pracy od konkurencji.`,severity:"neutral",effects:{leaveRisk:.3}}],a=n[Math.floor(Math.random()*n.length)];return{...a,uniqueId:`${a.id}_${Date.now()}`,date:(new Date).toISOString()}},p=e=>{switch(e){case"land_acquisition":return"Pozyskiwanie grunt\xf3w (Greenfield)";case"environmental_decision":return"Decyzja \u015brodowiskowa (EIA/D\u015aU)";case"zoning_conditions":return"Warunki zabudowy (MPZP/WZ)";case"grid_connection":return"Warunki przy\u0142\u0105czenia (WP)";case"ready_to_build":return"Gotowy do budowy (RTB)";case"construction":return"Budowa (COD-1)";case"operating":return"Operacyjny (COD)";default:return e}},m=function(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])switch(e){case"scout":return"pozyskiwacza";case"developer":return"developera";case"lawyer":return"prawnika";case"envSpecialist":return"specjalist\u0119 ds. \u015brodowiska";case"lobbyist":return"lobbyst\u0119";default:return e}else switch(e){case"scout":return"pozyskiwacz";case"developer":return"developer";case"lawyer":return"prawnik";case"envSpecialist":return"specjalista ds. \u015brodowiska";case"lobbyist":return"lobbysta";default:return e}},f=e=>{switch(e){case"junior":return"pocz\u0105tkuj\u0105cego";case"mid":return"do\u015bwiadczonego";case"senior":return"eksperta";default:return e}},h=e=>{switch(e){case"law_change":return"Zmiana prawa";case"energy_price_change":return"Zmiana cen energii";case"grid_issue":return"Problem z sieci\u0105";case"public_opinion":return"Opinia publiczna";case"protest":return"Protest";case"local_authority":return"W\u0142adze lokalne";case"competitor_action":return"Akcja konkurencji";case"environmental_issue":return"Problem \u015brodowiskowy";case"illegal_detection":return"Wykrycie nielegalnych dzia\u0142a\u0144";default:return e}},y=e=>{switch(e){case"aggressive":return"Agresywna";case"balanced":return"Zr\xf3wnowa\u017cona";case"conservative":return"Konserwatywna";default:return e}},x=(e,t)=>e.rtbPower>1.5*t?`Silny lider, posiada ${e.rtbPower.toLocaleString()} MW mocy RTB. Unikaj bezpo\u015bredniej konkurencji.`:e.rtbPower>t?`Nieznacznie wyprzedza Ci\u0119 z moc\u0105 ${e.rtbPower.toLocaleString()} MW. Mo\u017cliwe do nadrobienia.`:e.rtbPower>.7*t?`Blisko za Tob\u0105 z moc\u0105 ${e.rtbPower.toLocaleString()} MW. Pilnuj przewagi.`:`S\u0142abszy konkurent z moc\u0105 ${e.rtbPower.toLocaleString()} MW. Koncentruje si\u0119 na regionach ${e.strongRegions.slice(0,2).join(", ")}.`,g=(0,a.createContext)();const v=()=>{const e=(0,a.useContext)(g);if(!e)throw new Error("useEventsContext must be used within a EventsProvider");return e},j=()=>{const{dispatch:e}=v(),t=(0,a.useCallback)((e=>{if(e>=100)return 1;return 1+.075*Math.max(0,(100-e)/20)}),[]),n=(0,a.useCallback)((e=>{if(e>=100)return 1;return 1+.05*Math.max(0,(100-e)/20)}),[]),r=(0,a.useCallback)(((e,t)=>{if(e.useIllegalMethods){let e=1.4;return t.illegals.corruptionNetwork>0&&(e+=t.illegals.corruptionNetwork/100*.3),e}return 1}),[]),i=(0,a.useCallback)(((e,t)=>{const n=e.illegals.auditRisk/100,a=t.turn-e.illegals.lastAuditTurn,r=Math.min(.2,.05*Math.floor(a/10)),i=e.reputation<50?.1:0,s=e.projects.filter((e=>e.useIllegalMethods)).length,l=n+r+i+Math.min(.3,.03*s);return Math.random()<l}),[]),s=(0,a.useCallback)(((e,t,n,a)=>{const r=e.projects.filter((e=>e.useIllegalMethods)).length,i=e.illegals.illegalActionHistory.length,s=Math.max(.1,1-.1*r-.05*i);if(Math.random()<s)n({type:"TRIGGER_AUDIT",payload:{turn:t.turn,passed:!0,riskReduction:10,fine:0,reputationLoss:0}}),a({type:"ADD_EVENT",payload:{id:Date.now()+Math.random(),type:"audit",title:"Audyt zako\u0144czony sukcesem",description:"Audyt kontrolny nie wykaza\u0142 nieprawid\u0142owo\u015bci. Ryzyko kolejnych kontroli tymczasowo zmniejszone.",severity:"positive",turn:t.turn,expires:t.turn+10}});else{const s=5e4*r+.5*e.illegals.totalBribes,l=10+5*r+2*i;n({type:"TRIGGER_AUDIT",payload:{turn:t.turn,passed:!1,riskReduction:5,fine:s,reputationLoss:l}}),n({type:"UPDATE_REPUTATION",payload:{change:-l,reason:"Nieudany audyt kontrolny",turn:t.turn}}),a({type:"ADD_EVENT",payload:{id:Date.now()+Math.random(),type:"audit",title:"Audyt wykaza\u0142 nieprawid\u0142owo\u015bci",description:`Kontrola wykaza\u0142a naruszenie przepis\xf3w. Na\u0142o\u017cono kar\u0119 w wysoko\u015bci ${s.toLocaleString()} z\u0142 i utracono ${l} punkt\xf3w reputacji.`,severity:"negative",turn:t.turn,expires:t.turn+15,fine:s}})}}),[]);return{updateProjects:(0,a.useCallback)(((t,a,l,o)=>{t&&a&&a.day%2===0&&(t.projects.forEach((i=>{var s,c,d,u,m,f,h;if("ready_to_build"===i.status)return;const y=i.assignedStaff||{},x=y.developer?null===(s=t.staff.developers)||void 0===s?void 0:s.find((e=>e.id===y.developer)):null;let g=x?1+x.skill/10:1;switch(i.status){case"land_acquisition":const e=y.scout?null===(c=t.staff.scouts)||void 0===c?void 0:c.find((e=>e.id===y.scout)):null;e&&(g+=e.skill/5,"land_acquisition"===e.specialization&&(g*=1.5));break;case"environmental_decision":const n=y.envSpecialist?null===(d=t.staff.envSpecialists)||void 0===d?void 0:d.find((e=>e.id===y.envSpecialist)):null;n&&(g+=n.skill/5,"environmental"===n.specialization&&(g*=1.5));break;case"zoning_conditions":const a=y.lawyer?null===(u=t.staff.lawyers)||void 0===u?void 0:u.find((e=>e.id===y.lawyer)):null,r=y.lobbyist?null===(m=t.staff.lobbyists)||void 0===m?void 0:m.find((e=>e.id===y.lobbyist)):null;a&&(g+=a.skill/7,"zoning"===a.specialization&&(g*=1.4)),r&&(g+=r.skill/8);break;case"grid_connection":const i=y.lobbyist?null===(f=t.staff.lobbyists)||void 0===f?void 0:f.find((e=>e.id===y.lobbyist)):null,s=y.lawyer?null===(h=t.staff.lawyers)||void 0===h?void 0:h.find((e=>e.id===y.lawyer)):null;i&&(g+=i.skill/6,"grid"===i.specialization&&(g*=1.6)),s&&(g+=s.skill/10)}if(x){const e={land_acquisition:"acquisition",environmental_decision:"environmental",zoning_conditions:"zoning",grid_connection:"grid"};x.specialization===e[i.status]&&(g*=1.3)}g*=1/n(t.reputation);g*=r(i,t);const v=Math.min(100,i.progress+g);l({type:"UPDATE_PROJECT",payload:{id:i.id,changes:{progress:v}}}),v>=100&&i.progress<100&&(o({type:"SET_NOTIFICATION",payload:{text:`Projekt ${i.name} uko\u0144czy\u0142 etap ${p(i.status)}! Mo\u017cesz teraz przej\u015b\u0107 do nast\u0119pnego etapu.`,type:"success"}}),l({type:"ADD_PROJECT_EVENT",payload:{projectId:i.id,event:{turn:a.turn,text:`Uko\u0144czono etap: ${p(i.status)}`}}}),i.useIllegalMethods||l({type:"UPDATE_REPUTATION",payload:{change:5,reason:`Uko\u0144czenie etapu ${p(i.status)} legalnie`,turn:a.turn}}));const j={land_acquisition:.15,environmental_decision:.35,zoning_conditions:.55,grid_connection:.85,ready_to_build:1},w=15e4*i.power*((j[i.status]||.1)+i.progress/100*(j["land_acquisition"===i.status?"environmental_decision":i.status]-j[i.status]));l({type:"UPDATE_PROJECT_MARKET_VALUE",payload:{projectId:i.id,value:w}}),i.useIllegalMethods&&Math.random()<.1&&(l({type:"UPDATE_REPUTATION",payload:{change:-10,reason:`Wykrycie nielegalnych dzia\u0142a\u0144 w projekcie ${i.name}`,turn:a.turn}}),e({type:"ADD_EVENT",payload:{id:Date.now()+Math.random(),type:"illegal_activity",title:"Wykrycie nielegalnych dzia\u0142a\u0144",description:`W projekcie ${i.name} wykryto nielegalne dzia\u0142ania, co wp\u0142yn\u0119\u0142o negatywnie na reputacj\u0119 firmy.`,severity:"negative",turn:a.turn,expires:a.turn+10,projectId:i.id}}))})),i(t,a)&&s(t,a,l,e))}),[n,r,i,s]),generateStaffEvents:(0,a.useCallback)(((e,t,n,a)=>{e&&t&&t.day%2===0&&Object.keys(e.staff).forEach((r=>{const i=e.staff[r];i&&Array.isArray(i)&&0!==i.length&&i.forEach((e=>{if(Math.random()<.05){const i=u(e);if(i&&(a({type:"ADD_EVENT",payload:{id:Date.now()+Math.random(),type:"staff_event",title:i.title,description:i.description,severity:i.severity,staffId:e.id,staffName:e.name,staffType:r,turn:t.turn,expires:t.turn+5}}),i.effects&&n({type:"UPDATE_STAFF",payload:{staffType:r,staffId:e.id,changes:{morale:Math.max(0,Math.min(100,e.morale+(i.effects.morale||0))),energy:Math.max(0,Math.min(100,e.energy+(i.effects.energy||0))),skill:Math.max(0,Math.min(10,e.skill+(i.effects.skill||0))),experience:Math.max(0,e.experience+(i.effects.experience||0))}}}),"positive"===i.severity||"negative"===i.severity)){const e="positive"===i.severity?2:-2;n({type:"UPDATE_REPUTATION",payload:{change:e,reason:i.title,turn:t.turn}})}}}))}))}),[]),generateEconomicEvents:(0,a.useCallback)(((e,t,n,a)=>{if(t.turn%5===0&&Math.random()<.3){const e=[{id:"energy_price_rise",title:"Wzrost cen energii",description:"Ceny energii na rynku wzros\u0142y o 15%, zwi\u0119kszaj\u0105c potencjaln\u0105 warto\u015b\u0107 projekt\xf3w OZE.",severity:"positive",effect:{type:"market_price_modifier",technology:"all",value:1.15,duration:10}},{id:"energy_price_drop",title:"Spadek cen energii",description:"Ceny energii na rynku spad\u0142y o 10%, obni\u017caj\u0105c warto\u015b\u0107 projekt\xf3w OZE.",severity:"negative",effect:{type:"market_price_modifier",technology:"all",value:.9,duration:8}},{id:"pv_boom",title:"Boom na fotowoltaik\u0119",description:"Zwi\u0119kszony popyt na projekty fotowoltaiczne zwi\u0119kszy\u0142 ich warto\u015b\u0107 rynkow\u0105 o 20%.",severity:"positive",effect:{type:"market_price_modifier",technology:"PV",value:1.2,duration:12}},{id:"wind_regulations",title:"Nowe regulacje dla farm wiatrowych",description:"Nowe regulacje u\u0142atwiaj\u0105 rozw\xf3j projekt\xf3w wiatrowych, zwi\u0119kszaj\u0105c ich warto\u015b\u0107 o 15%.",severity:"positive",effect:{type:"market_price_modifier",technology:"WF",value:1.15,duration:15}},{id:"regulatory_changes",title:"Zmiany regulacyjne",description:"Zmiany w przepisach spowodowa\u0142y op\xf3\u017anienia w procesach administracyjnych.",severity:"negative",effect:{type:"project_speed",value:.85,duration:8}}],r=e[Math.floor(Math.random()*e.length)];a({type:"ADD_EVENT",payload:{id:Date.now()+Math.random(),type:"economic_event",title:r.title,description:r.description,severity:r.severity,turn:t.turn,expires:t.turn+r.effect.duration,effect:r.effect}}),"market_price_modifier"===r.effect.type&&("all"===r.effect.technology?n({type:"UPDATE_MARKET_PRICE_MODIFIERS",payload:{PV:r.effect.value,WF:r.effect.value,BESS:r.effect.value}}):n({type:"UPDATE_MARKET_PRICE_MODIFIERS",payload:{[r.effect.technology]:r.effect.value}}))}}),[]),getReputationCostMultiplier:t,getReputationTimeMultiplier:n,getIllegalActionMultiplier:r,shouldTriggerAudit:i,performAudit:s}};class w{constructor(e,t,n,a){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.id=e||Date.now()+Math.random(),this.name=t,this.description=n,this.duration=a,this.image=r,this.startDate=null,this.expiryDate=null}activate(e){this.startDate=new Date(e);const t=new Date(e);return t.setDate(t.getDate()+this.duration),this.expiryDate=t,this}isExpired(e){return!!this.expiryDate&&e>this.expiryDate}getEffect(){return{}}}class b extends w{constructor(e,t,n,a,r){super(e,t,n,a,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null),this.type="economic",this.effects=r}getEffect(){return this.effects}}class k extends w{constructor(e,t,n,a,r){super(e,t,n,a,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null),this.type="political",this.effects=r}getEffect(){return this.effects}}class N extends w{constructor(e,t,n,a,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;super(e,t,n,a,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null),this.type="social",this.effects=r,this.region=i}getEffect(){const e={...this.effects};return this.region&&(e.regionalEffect={region:this.region,...e.regionalEffect}),e}}class z extends w{constructor(e,t,n,a,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;super(e,t,n,a,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null),this.type="environmental",this.effects=r,this.region=i}getEffect(){const e={...this.effects};return this.region&&(e.regionalEffect={region:this.region,...e.regionalEffect}),e}}class P extends w{constructor(e,t,n,a,r){let i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null;super(e,t,n,a,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null),this.type="technological",this.effects=r,this.technology=i}getEffect(){const e={...this.effects};return this.technology&&(e.technologyEffect={technology:this.technology,...e.technologyEffect}),e}}const E=[...[new b("econ_1","Wzrost cen pr\u0105du na rynku","Ceny energii elektrycznej na rynku wzros\u0142y o 15%, zwi\u0119kszaj\u0105c atrakcyjno\u015b\u0107 projekt\xf3w OZE.",30,{marketModifier:1.15,permitTimeModifier:1}),new b("econ_2","Spadek cen pr\u0105du na rynku","Ceny energii elektrycznej na rynku spad\u0142y o 10%, zmniejszaj\u0105c op\u0142acalno\u015b\u0107 projekt\xf3w OZE.",21,{marketModifier:.9,permitTimeModifier:1}),new b("econ_3","Wzrost st\xf3p procentowych","NBP podni\xf3s\u0142 stopy procentowe, co utrudnia finansowanie projekt\xf3w i zwi\u0119ksza koszty kredyt\xf3w.",60,{buildCostModifier:1.1,marketModifier:.95}),new b("econ_4","Kryzys na rynku surowc\xf3w","Globalny kryzys na rynku surowc\xf3w zwi\u0119ksza koszty budowy farm PV i wiatrowych.",45,{buildCostModifier:1.2,marketModifier:1.05}),new b("econ_5","Nowe fundusze UE dla OZE","Unia Europejska uruchomi\u0142a nowe fundusze na rozw\xf3j OZE, co zwi\u0119ksza warto\u015b\u0107 projekt\xf3w.",90,{marketModifier:1.2,buildCostModifier:.95,reputationChange:5})],...[new k("pol_1","Nowelizacja ustawy o OZE","Sejm przyj\u0105\u0142 nowelizacj\u0119 ustawy o OZE, kt\xf3ra upraszcza procedury administracyjne.",120,{permitTimeModifier:.8,reputationChange:3}),new k("pol_2","Zaostrzenie wymaga\u0144 \u015brodowiskowych","Nowe przepisy zaostrzaj\u0105 wymagania dotycz\u0105ce ocen oddzia\u0142ywania na \u015brodowisko.",90,{permitTimeModifier:1.3,reputationChange:-2}),new k("pol_3","Reforma systemu aukcyjnego","Rz\u0105d zreformowa\u0142 system aukcyjny OZE, wprowadzaj\u0105c korzystniejsze zasady dla inwestor\xf3w.",180,{marketModifier:1.1,permitTimeModifier:.9,reputationChange:5}),new k("pol_4","Ograniczenie dotacji dla OZE","Rz\u0105d ograniczy\u0142 dotacje dla nowych projekt\xf3w OZE, co zmniejsza ich op\u0142acalno\u015b\u0107.",150,{marketModifier:.85,reputationChange:-3}),new k("pol_5","Nowe cele klimatyczne","Polska przyj\u0119\u0142a ambitniejsze cele klimatyczne, zwi\u0119kszaj\u0105c zapotrzebowanie na OZE.",210,{marketModifier:1.15,reputationChange:7})],...[new N("soc_1","Protesty przeciwko farmom wiatrowym","W wielu regionach kraju nasili\u0142y si\u0119 protesty lokalnych spo\u0142eczno\u015bci przeciwko farmom wiatrowym.",60,{permitTimeModifier:1.2,reputationChange:-3}),new N("soc_2","Wzrost poparcia dla OZE","Badania pokazuj\u0105 rekordowy wzrost poparcia spo\u0142ecznego dla energetyki odnawialnej.",90,{permitTimeModifier:.9,reputationChange:4}),new N("soc_3","Lokalna kampania przeciwko PV","W wojew\xf3dztwie ma\u0142opolskim rozwin\u0119\u0142a si\u0119 kampania przeciwko wielkoobszarowym farmom PV.",45,{regionalEffect:{permitTimeModifier:1.3}},"ma\u0142opolskie"),new N("soc_4","Program edukacyjny o OZE","Ministerstwo Klimatu uruchomi\u0142o og\xf3lnopolski program edukacyjny na temat korzy\u015bci z OZE.",120,{permitTimeModifier:.95,reputationChange:2}),new N("soc_5","Konflikt o turbiny przy wybrze\u017cu","Nasili\u0142 si\u0119 konflikt mi\u0119dzy rybakami a inwestorami farm wiatrowych na Ba\u0142tyku.",75,{regionalEffect:{permitTimeModifier:1.4}},"pomorskie")],...[new z("env_1","Rekordowo s\u0142oneczne lato","Tegoroczne lato przynios\u0142o rekordow\u0105 liczb\u0119 dni s\u0142onecznych, co zwi\u0119ksza wydajno\u015b\u0107 PV.",90,{technologyEffect:{technology:"PV",marketModifier:1.1}}),new z("env_2","Silne wiatry na p\xf3\u0142nocy","Na p\xf3\u0142nocy Polski utrzymuj\u0105 si\u0119 wyj\u0105tkowo silne wiatry, zwi\u0119kszaj\u0105c potencja\u0142 farm wiatrowych.",60,{regionalEffect:{marketModifier:1.15},technologyEffect:{technology:"WF",marketModifier:1.1}},"pomorskie"),new z("env_3","Susze w centralnej Polsce","D\u0142ugotrwa\u0142e susze w centralnej Polsce powoduj\u0105 konflikty o wykorzystanie grunt\xf3w.",75,{regionalEffect:{permitTimeModifier:1.2}},"mazowieckie"),new z("env_4","Odkrycie cennego gatunku ptak\xf3w","W wojew\xf3dztwie podlaskim odkryto rzadki gatunek ptak\xf3w, co komplikuje projekty OZE.",120,{regionalEffect:{permitTimeModifier:1.5}},"podlaskie"),new z("env_5","Wysoki poziom zanieczyszczenia powietrza","Zim\u0105 odnotowano rekordowo wysokie poziomy zanieczyszczenia powietrza, co zwi\u0119ksza poparcie dla OZE.",60,{permitTimeModifier:.9,reputationChange:3})],...[new P("tech_1","Prze\u0142om w wydajno\u015bci paneli PV","Naukowcy opracowali now\u0105 technologi\u0119 zwi\u0119kszaj\u0105c\u0105 wydajno\u015b\u0107 paneli fotowoltaicznych o 25%.",150,{technologyEffect:{technology:"PV",buildCostModifier:.9,marketModifier:1.15}},"PV"),new P("tech_2","Nowa generacja turbin wiatrowych","Na rynek wesz\u0142a nowa generacja turbin wiatrowych o lepszej wydajno\u015bci i ni\u017cszej emisji ha\u0142asu.",180,{technologyEffect:{technology:"WF",buildCostModifier:.85,marketModifier:1.2}},"WF"),new P("tech_3","Innowacje w magazynach energii","Prze\u0142omowe innowacje w technologii magazyn\xf3w energii zwi\u0119kszaj\u0105 ich op\u0142acalno\u015b\u0107.",120,{technologyEffect:{technology:"BESS",buildCostModifier:.8,marketModifier:1.3}},"BESS"),new P("tech_4","Problemy jako\u015bciowe z chi\u0144skimi panelami","Wykryto problemy jako\u015bciowe w panelach fotowoltaicznych importowanych z Chin.",90,{technologyEffect:{technology:"PV",buildCostModifier:1.15,marketModifier:.9}},"PV"),new P("tech_5","Nowy system prognozowania wiatru","Opracowano nowy system prognozowania wiatru, zwi\u0119kszaj\u0105cy efektywno\u015b\u0107 farm wiatrowych.",100,{technologyEffect:{technology:"WF",marketModifier:1.1}},"WF")]],S=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=[...E];if(e&&(t=t.filter((t=>t.type===e))),0===t.length)return null;return t[Math.floor(Math.random()*t.length)]},_=(e,t)=>{const n=[];return Object.entries(t).forEach((t=>{let[a,r]=t;if(Math.random()<r){const t=S(a);t&&n.push(t.activate(e))}})),n},C={turn:1,day:1,currentScreen:"map",selectedRegion:null,selectedProject:null,selectedCounty:null,notification:null,gameSpeed:1,competitors:[{id:"competitor1",name:"GreenPower Polska",power:8e3,rtbPower:2e3,growth:1.1,strongRegions:["mazowieckie","wielkopolskie","slaskie"],strategy:"aggressive",reputation:70,description:"Najwi\u0119kszy deweloper OZE w Polsce, agresywnie rozwijaj\u0105cy sw\xf3j portfel projekt\xf3w. Koncentruje si\u0119 na du\u017cych farmach fotowoltaicznych i wiatrowych w centralnej i zachodniej Polsce.",focusTechnologies:["PV","WF"],foundedYear:2010},{id:"competitor2",name:"SolarTech",power:5e3,rtbPower:1500,growth:1.2,strongRegions:["malopolskie","podkarpackie","lubelskie"],strategy:"balanced",reputation:65,description:"Firma specjalizuj\u0105ca si\u0119 w projektach fotowoltaicznych, z rosn\u0105cym zainteresowaniem magazynami energii. Dzia\u0142a g\u0142\xf3wnie w po\u0142udniowo-wschodniej Polsce.",focusTechnologies:["PV","BESS"],foundedYear:2015},{id:"competitor3",name:"WindForce",power:6e3,rtbPower:1800,growth:1.15,strongRegions:["pomorskie","zachodniopomorskie","warminsko-mazurskie"],strategy:"conservative",reputation:80,description:"Do\u015bwiadczony deweloper farm wiatrowych z siln\u0105 pozycj\u0105 w p\xf3\u0142nocnej Polsce. Znany z wysokiej jako\u015bci projekt\xf3w i dobrych relacji z lokalnymi spo\u0142eczno\u015bciami.",focusTechnologies:["WF"],foundedYear:2008},{id:"competitor4",name:"EnergyStorage Systems",power:3e3,rtbPower:900,growth:1.25,strongRegions:["lodzkie","mazowieckie","slaskie"],strategy:"aggressive",reputation:60,description:"Nowy, szybko rozwijaj\u0105cy si\u0119 gracz specjalizuj\u0105cy si\u0119 w magazynach energii. Agresywnie pozyskuje lokalizacje w pobli\u017cu du\u017cych o\u015brodk\xf3w przemys\u0142owych i w\u0119z\u0142\xf3w energetycznych.",focusTechnologies:["BESS","PV"],foundedYear:2018},{id:"competitor5",name:"EcoEnergy",power:4500,rtbPower:1200,growth:1.05,strongRegions:["wielkopolskie","lubuskie","dolnoslaskie"],strategy:"conservative",reputation:75,description:"Stabilna firma z d\u0142ug\u0105 histori\u0105 na rynku OZE, dzia\u0142aj\u0105ca g\u0142\xf3wnie w zachodniej Polsce. Ostro\u017cnie podchodzi do nowych projekt\xf3w, ale ma solidny portfel aktyw\xf3w.",focusTechnologies:["PV","WF"],foundedYear:2005}],marketProjects:[],marketHistory:[],marketPriceModifiers:{PV:1,WF:1,BESS:1},parallelProcessing:{enabled:!0,maxParallelTasks:3},gameDate:new Date(2025,0,1),lastDateUpdate:new Date,gameGoals:{rtbPowerTarget:25e3,cashTarget:1e10,currentRtbPower:0,isWon:!1,winReason:null,startYear:2025},countySettings:{showCounties:!0,filterByPotential:!1,minSolarPotential:0,minWindPotential:0,maxLocalOpposition:100},globalEvents:{currentEvents:[],eventProbabilities:{economic:.1,political:.05,social:.03,environmental:.07,technological:.04}}};function M(e,t){switch(t.type){case"SET_SCREEN":return{...e,currentScreen:t.payload};case"SELECT_REGION":return{...e,selectedRegion:t.payload,selectedCounty:null};case"SELECT_PROJECT":return{...e,selectedProject:t.payload};case"SELECT_COUNTY":return{...e,selectedCounty:{voivodeshipId:t.payload.voivodeshipId,countyId:t.payload.countyId}};case"SET_NOTIFICATION":return{...e,notification:t.payload};case"SET_GAME_SPEED":return{...e,gameSpeed:t.payload};case"NEXT_DAY":const n=e.gameSpeed,a=((e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n})(e.gameDate,n),r=e.globalEvents.currentEvents.filter((e=>!e.isExpired(a)));return{...e,day:e.day+1,turn:e.day%2===1?e.turn+1:e.turn,gameDate:a,lastDateUpdate:new Date,globalEvents:{...e.globalEvents,currentEvents:r}};case"UPDATE_MARKET_PROJECTS":return{...e,marketProjects:t.payload};case"ADD_MARKET_TRANSACTION":return{...e,marketHistory:[...e.marketHistory,t.payload],marketProjects:e.marketProjects.filter((e=>e.id!==t.payload.projectId))};case"UPDATE_MARKET_PRICE_MODIFIERS":return{...e,marketPriceModifiers:{...e.marketPriceModifiers,...t.payload}};case"SET_PARALLEL_PROCESSING":return{...e,parallelProcessing:{...e.parallelProcessing,...t.payload}};case"UPDATE_GAME_GOALS":return{...e,gameGoals:{...e.gameGoals,...t.payload}};case"SET_WIN_CONDITION":return{...e,gameGoals:{...e.gameGoals,isWon:!0,winReason:t.payload}};case"ADD_GLOBAL_EVENT":return{...e,globalEvents:{...e.globalEvents,currentEvents:[...e.globalEvents.currentEvents,t.payload]}};case"ADD_GLOBAL_EVENTS":return{...e,globalEvents:{...e.globalEvents,currentEvents:[...e.globalEvents.currentEvents,...t.payload]}};case"REMOVE_GLOBAL_EVENT":return{...e,globalEvents:{...e.globalEvents,currentEvents:e.globalEvents.currentEvents.filter((e=>e.id!==t.payload))}};case"UPDATE_EVENT_PROBABILITIES":return{...e,globalEvents:{...e.globalEvents,eventProbabilities:{...e.globalEvents.eventProbabilities,...t.payload}}};default:return e}}const T=(0,a.createContext)(),L=e=>{let{children:t}=e;const[n,r]=(0,a.useReducer)(M,C),{updateProjects:s,generateStaffEvents:l}=j(),o=function(e){r({type:"SET_NOTIFICATION",payload:{text:e,type:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info"}}),setTimeout((()=>{r({type:"SET_NOTIFICATION",payload:null})}),5e3)},c=()=>{n.gameGoals.currentRtbPower>=n.gameGoals.rtbPowerTarget&&!n.gameGoals.isWon&&(r({type:"SET_WIN_CONDITION",payload:"rtb_power"}),o("Gratulacje! Osi\u0105gn\u0105\u0142e\u015b cel 25 GW mocy w projektach Ready-to-Build. Jeste\u015b liderem polskiego rynku OZE!","win")),n.gameGoals.cash>=n.gameGoals.cashTarget&&!n.gameGoals.isWon&&(r({type:"SET_WIN_CONDITION",payload:"cash"}),o("Gratulacje! Zgromadzi\u0142e\u015b 10 miliard\xf3w z\u0142otych! Jeste\u015b finansowym gigantem polskiego rynku OZE!","win"))};return(0,i.jsx)(T.Provider,{value:{state:n,dispatch:r,showNotification:o,nextDay:()=>{const e=_(n.gameDate,n.globalEvents.eventProbabilities);e&&e.length>0&&(r({type:"ADD_GLOBAL_EVENTS",payload:e}),e.forEach((e=>{o(`Nowe wydarzenie: ${e.name} - ${e.description.substring(0,100)}${e.description.length>100?"...":""}`,"event")}))),r({type:"NEXT_DAY"}),window.dispatchEvent(new CustomEvent("next-game-day")),c()},checkGameGoals:c,calculateEventsEffect:e=>{if(!n.globalEvents.currentEvents||0===n.globalEvents.currentEvents.length)return 1;let t=1;return n.globalEvents.currentEvents.forEach((n=>{const a=n.getEffect();a[e]&&(t*=a[e]),a.regionalEffect&&a.regionalEffect[e]&&(t*=a.regionalEffect[e]),a.technologyEffect&&a.technologyEffect[e]&&(t*=a.technologyEffect[e])})),t}},children:t})},O=()=>{const e=(0,a.useContext)(T);if(!e)throw new Error("useGameContext musi by\u0107 u\u017cywany wewn\u0105trz GameProvider");return e},R=(0,a.createContext)(),I={events:[],filters:{type:"all",severity:"all",staffId:null,projectId:null}};function A(e,t){switch(t.type){case"ADD_EVENT":return{...e,events:[...e.events,t.payload]};case"REMOVE_EVENT":return{...e,events:e.events.filter((e=>e.id!==t.payload))};case"UPDATE_EVENT":return{...e,events:e.events.map((e=>e.id===t.payload.id?{...e,...t.payload.changes}:e))};case"SET_FILTERS":return{...e,filters:{...e.filters,...t.payload}};case"CLEAR_FILTERS":return{...e,filters:I.filters};case"CLEAR_EXPIRED_EVENTS":return{...e,events:e.events.filter((e=>e.expires>t.payload))};default:return e}}function D(e){let{children:t}=e;const[n,r]=(0,a.useReducer)(A,I);return(0,i.jsx)(R.Provider,{value:{state:n,dispatch:r},children:t})}function W(){const e=(0,a.useContext)(R);if(!e)throw new Error("useEventsContext must be used within an EventsProvider");return e}const F=[{id:"dolnoslaskie",name:"Dolno\u015bl\u0105skie",gridCapacity:500,solarConditions:70,windConditions:60,socialAcceptance:60,environmentalComplexity:1.2,adminEfficiency:.9,availableLand:12e3,landPriceMultiplier:1.1,projects:[],protests:[],dominantPlayer:null,isOPRO:!1},{id:"kujawsko-pomorskie",name:"Kujawsko-Pomorskie",gridCapacity:400,solarConditions:65,windConditions:75,socialAcceptance:50,environmentalComplexity:1,adminEfficiency:1,availableLand:15e3,landPriceMultiplier:.9,projects:[],protests:[],dominantPlayer:null,isOPRO:!0},{id:"lubelskie",name:"Lubelskie",gridCapacity:380,solarConditions:75,windConditions:55,socialAcceptance:65,environmentalComplexity:.9,adminEfficiency:1.1,availableLand:18e3,landPriceMultiplier:.8,projects:[],protests:[],dominantPlayer:null,isOPRO:!1},{id:"lubuskie",name:"Lubuskie",gridCapacity:320,solarConditions:65,windConditions:70,socialAcceptance:55,environmentalComplexity:.8,adminEfficiency:1,availableLand:13e3,landPriceMultiplier:.9,projects:[],protests:[],dominantPlayer:null,isOPRO:!1},{id:"lodzkie",name:"\u0141\xf3dzkie",gridCapacity:450,solarConditions:70,windConditions:65,socialAcceptance:60,environmentalComplexity:1,adminEfficiency:1,availableLand:14e3,landPriceMultiplier:1,projects:[],protests:[],dominantPlayer:null,isOPRO:!0},{id:"malopolskie",name:"Ma\u0142opolskie",gridCapacity:420,solarConditions:65,windConditions:50,socialAcceptance:55,environmentalComplexity:1.3,adminEfficiency:.9,availableLand:9e3,landPriceMultiplier:1.3,projects:[],protests:[],dominantPlayer:null,isOPRO:!1},{id:"mazowieckie",name:"Mazowieckie",gridCapacity:550,solarConditions:70,windConditions:65,socialAcceptance:65,environmentalComplexity:1,adminEfficiency:.8,availableLand:2e4,landPriceMultiplier:1.2,projects:[],protests:[],dominantPlayer:null,isOPRO:!0},{id:"opolskie",name:"Opolskie",gridCapacity:300,solarConditions:65,windConditions:60,socialAcceptance:60,environmentalComplexity:1,adminEfficiency:1.1,availableLand:8e3,landPriceMultiplier:.9,projects:[],protests:[],dominantPlayer:null,isOPRO:!1},{id:"podkarpackie",name:"Podkarpackie",gridCapacity:340,solarConditions:70,windConditions:50,socialAcceptance:60,environmentalComplexity:1.2,adminEfficiency:1,availableLand:12e3,landPriceMultiplier:.8,projects:[],protests:[],dominantPlayer:null,isOPRO:!1},{id:"podlaskie",name:"Podlaskie",gridCapacity:320,solarConditions:65,windConditions:60,socialAcceptance:55,environmentalComplexity:1.1,adminEfficiency:1,availableLand:16e3,landPriceMultiplier:.7,projects:[],protests:[],dominantPlayer:null,isOPRO:!1},{id:"pomorskie",name:"Pomorskie",gridCapacity:430,solarConditions:60,windConditions:85,socialAcceptance:70,environmentalComplexity:1.1,adminEfficiency:.9,availableLand:13e3,landPriceMultiplier:1.1,projects:[],protests:[],dominantPlayer:null,isOPRO:!0},{id:"slaskie",name:"\u015al\u0105skie",gridCapacity:520,solarConditions:65,windConditions:55,socialAcceptance:50,environmentalComplexity:1.4,adminEfficiency:.8,availableLand:7e3,landPriceMultiplier:1.2,projects:[],protests:[],dominantPlayer:null,isOPRO:!1},{id:"swietokrzyskie",name:"\u015awi\u0119tokrzyskie",gridCapacity:310,solarConditions:70,windConditions:55,socialAcceptance:60,environmentalComplexity:1,adminEfficiency:1.1,availableLand:1e4,landPriceMultiplier:.8,projects:[],protests:[],dominantPlayer:null,isOPRO:!1},{id:"warminsko-mazurskie",name:"Warmi\u0144sko-Mazurskie",gridCapacity:350,solarConditions:60,windConditions:75,socialAcceptance:65,environmentalComplexity:1.2,adminEfficiency:1,availableLand:17e3,landPriceMultiplier:.8,projects:[],protests:[],dominantPlayer:null,isOPRO:!0},{id:"wielkopolskie",name:"Wielkopolskie",gridCapacity:480,solarConditions:65,windConditions:70,socialAcceptance:60,environmentalComplexity:1,adminEfficiency:.9,availableLand:19e3,landPriceMultiplier:1,projects:[],protests:[],dominantPlayer:null,isOPRO:!0},{id:"zachodniopomorskie",name:"Zachodniopomorskie",gridCapacity:400,solarConditions:60,windConditions:90,socialAcceptance:70,environmentalComplexity:1,adminEfficiency:1,availableLand:15e3,landPriceMultiplier:.9,projects:[],protests:[],dominantPlayer:null,isOPRO:!0}],$=(0,a.createContext)();function U(e,t){switch(t.type){case"UPDATE_REGION":return e.map((e=>e.id===t.payload.id?{...e,...t.payload.changes}:e));case"ADD_PROJECT_TO_REGION":return e.map((e=>e.id===t.payload.regionId?{...e,projects:[...e.projects,t.payload.project],availableLand:Math.max(0,e.availableLand-t.payload.project.size)}:e));case"UPDATE_REGIONAL_CONDITIONS":return e.map((e=>{const t=Math.floor(5*Math.random())-2,n=Math.floor(5*Math.random())-2,a=Math.floor(3*Math.random())-1;return{...e,solarConditions:Math.min(100,Math.max(0,e.solarConditions+t)),windConditions:Math.min(100,Math.max(0,e.windConditions+n)),socialAcceptance:Math.min(100,Math.max(0,e.socialAcceptance+a))}}));default:return e}}const B=e=>{let{children:t}=e;const[n,r]=(0,a.useReducer)(U,F);return(0,i.jsx)($.Provider,{value:{state:n,dispatch:r},children:t})},V=()=>{const e=(0,a.useContext)($);if(!e)throw new Error("useRegionsContext must be used within a RegionsProvider");return e},q={dolnoslaskie:[{id:"wroclawski",name:"Wroc\u0142awski",capital:"Wroc\u0142aw",population:64e4,area:2930,solarPotential:75,windPotential:60,availableLand:1800,gridCapacity:120,environmentalRestrictions:45,administrativeEfficiency:70,localOpposition:35,propertyPrices:1.8,projects:[],events:[],isNatura2000:!1,isProtectedLandscape:!1,powerLines:{hv:!0,mv:!0}},{id:"jeleniogorski",name:"Jeleniog\xf3rski",capital:"Jelenia G\xf3ra",population:12e4,area:1880,solarPotential:65,windPotential:85,availableLand:1200,gridCapacity:80,environmentalRestrictions:75,administrativeEfficiency:65,localOpposition:45,propertyPrices:1.2,projects:[],events:[],isNatura2000:!0,isProtectedLandscape:!0,powerLines:{hv:!0,mv:!0}},{id:"walbrzyski",name:"Wa\u0142brzyski",capital:"Wa\u0142brzych",population:17e4,area:1650,solarPotential:60,windPotential:70,availableLand:900,gridCapacity:70,environmentalRestrictions:65,administrativeEfficiency:60,localOpposition:50,propertyPrices:.9,projects:[],events:[],isNatura2000:!1,isProtectedLandscape:!0,powerLines:{hv:!0,mv:!0}}],mazowieckie:[{id:"warszawski",name:"Warszawski",capital:"Warszawa",population:18e5,area:3200,solarPotential:70,windPotential:55,availableLand:1300,gridCapacity:250,environmentalRestrictions:50,administrativeEfficiency:80,localOpposition:40,propertyPrices:3.2,projects:[],events:[],isNatura2000:!1,isProtectedLandscape:!1,powerLines:{hv:!0,mv:!0}},{id:"radomski",name:"Radomski",capital:"Radom",population:25e4,area:2500,solarPotential:75,windPotential:60,availableLand:2100,gridCapacity:90,environmentalRestrictions:35,administrativeEfficiency:65,localOpposition:30,propertyPrices:.8,projects:[],events:[],isNatura2000:!1,isProtectedLandscape:!1,powerLines:{hv:!0,mv:!0}},{id:"plocki",name:"P\u0142ocki",capital:"P\u0142ock",population:17e4,area:1800,solarPotential:65,windPotential:70,availableLand:1900,gridCapacity:110,environmentalRestrictions:40,administrativeEfficiency:60,localOpposition:25,propertyPrices:.9,projects:[],events:[],isNatura2000:!1,isProtectedLandscape:!1,powerLines:{hv:!0,mv:!0}}],wielkopolskie:[{id:"poznanski",name:"Pozna\u0144ski",capital:"Pozna\u0144",population:54e4,area:2800,solarPotential:65,windPotential:80,availableLand:2200,gridCapacity:150,environmentalRestrictions:40,administrativeEfficiency:75,localOpposition:30,propertyPrices:2.1,projects:[],events:[],isNatura2000:!1,isProtectedLandscape:!1,powerLines:{hv:!0,mv:!0}},{id:"kaliski",name:"Kaliski",capital:"Kalisz",population:16e4,area:2100,solarPotential:70,windPotential:65,availableLand:1800,gridCapacity:85,environmentalRestrictions:35,administrativeEfficiency:70,localOpposition:25,propertyPrices:1.1,projects:[],events:[],isNatura2000:!1,isProtectedLandscape:!1,powerLines:{hv:!0,mv:!0}}],malopolskie:[{id:"krakowski",name:"Krakowski",capital:"Krak\xf3w",population:76e4,area:2300,solarPotential:65,windPotential:40,availableLand:1100,gridCapacity:130,environmentalRestrictions:70,administrativeEfficiency:75,localOpposition:55,propertyPrices:2.5,projects:[],events:[],isNatura2000:!1,isProtectedLandscape:!0,powerLines:{hv:!0,mv:!0}},{id:"tarnowski",name:"Tarnowski",capital:"Tarn\xf3w",population:15e4,area:1900,solarPotential:70,windPotential:45,availableLand:1500,gridCapacity:70,environmentalRestrictions:55,administrativeEfficiency:65,localOpposition:40,propertyPrices:1,projects:[],events:[],isNatura2000:!1,isProtectedLandscape:!1,powerLines:{hv:!0,mv:!0}}],pomorskie:[{id:"gdanski",name:"Gda\u0144ski",capital:"Gda\u0144sk",population:47e4,area:2200,solarPotential:60,windPotential:95,availableLand:1400,gridCapacity:160,environmentalRestrictions:60,administrativeEfficiency:75,localOpposition:35,propertyPrices:2.3,projects:[],events:[],isNatura2000:!0,isProtectedLandscape:!0,powerLines:{hv:!0,mv:!0}},{id:"slupski",name:"S\u0142upski",capital:"S\u0142upsk",population:12e4,area:2500,solarPotential:55,windPotential:100,availableLand:2e3,gridCapacity:120,environmentalRestrictions:55,administrativeEfficiency:60,localOpposition:30,propertyPrices:.9,projects:[],events:[],isNatura2000:!0,isProtectedLandscape:!0,powerLines:{hv:!0,mv:!0}}]},H=(0,a.createContext)(),Z=(()=>{const e=[];return Object.keys(q).forEach((t=>{q[t].forEach((n=>{e.push({...n,voivodeship:t})}))})),e})();function G(e,t){switch(t.type){case"UPDATE_COUNTY":return e.map((e=>e.id===t.payload.id&&e.voivodeship===t.payload.voivodeship?{...e,...t.payload.changes}:e));case"ADD_PROJECT_TO_COUNTY":return e.map((e=>e.id===t.payload.countyId&&e.voivodeship===t.payload.voivodeship?{...e,projects:[...e.projects,t.payload.project],availableLand:Math.max(0,e.availableLand-t.payload.project.size)}:e));case"REMOVE_PROJECT_FROM_COUNTY":return e.map((e=>e.id===t.payload.countyId&&e.voivodeship===t.payload.voivodeship?{...e,projects:e.projects.filter((e=>e.id!==t.payload.projectId)),availableLand:e.availableLand+t.payload.projectSize}:e));case"ADD_EVENT_TO_COUNTY":return e.map((e=>e.id===t.payload.countyId&&e.voivodeship===t.payload.voivodeship?{...e,events:[...e.events,t.payload.event]}:e));case"REMOVE_EVENT_FROM_COUNTY":return e.map((e=>e.id===t.payload.countyId&&e.voivodeship===t.payload.voivodeship?{...e,events:e.events.filter((e=>e.id!==t.payload.eventId))}:e));case"UPDATE_COUNTY_PARAMETERS":return e.map((e=>e.id===t.payload.countyId&&e.voivodeship===t.payload.voivodeship?{...e,...t.payload.parameters}:e));case"UPDATE_ALL_COUNTIES":return e.map((e=>{const t=5*Math.random()-2.5,n=5*Math.random()-2.5,a=3*Math.random()-1.5,r=(.1*Math.random()-.05)*e.propertyPrices;return{...e,solarPotential:Math.max(0,Math.min(100,e.solarPotential+t)),windPotential:Math.max(0,Math.min(100,e.windPotential+n)),localOpposition:Math.max(0,Math.min(100,e.localOpposition+a)),propertyPrices:Math.max(.5,e.propertyPrices+r)}}));default:return e}}const K=e=>{let{children:t}=e;const[n,r]=(0,a.useReducer)(G,Z);return(0,i.jsx)(H.Provider,{value:{state:n,dispatch:r},children:t})},Q=()=>{const e=(0,a.useContext)(H);if(!e)throw new Error("useCountyContext musi by\u0107 u\u017cywany wewn\u0105trz CountyProvider");return e},J=()=>{const{state:e,dispatch:t}=d(),{state:n,dispatch:r}=O(),{dispatch:i}=W(),{updateProjects:s,generateStaffEvents:l,generateEconomicEvents:o}=j();return(0,a.useEffect)((()=>{const a=()=>{s(e,n,t,r),l(e,n,t,i),o(e,n,r,i)};return window.addEventListener("next-game-day",a),()=>{window.removeEventListener("next-game-day",a)}}),[e,n,t,r,i,s,l,o]),null},Y=e=>{let{children:t}=e;return(0,i.jsx)(D,{children:(0,i.jsx)(c,{children:(0,i.jsx)(B,{children:(0,i.jsx)(K,{children:(0,i.jsxs)(L,{children:[(0,i.jsx)(J,{}),t]})})})})})};var X={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const ee=(e,t)=>{const n=(0,a.forwardRef)(((n,r)=>{let{color:i="currentColor",size:s=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:c="",children:d,...u}=n;return(0,a.createElement)("svg",{ref:r,...X,width:s,height:s,stroke:i,strokeWidth:o?24*Number(l)/Number(s):l,className:["lucide",`lucide-${p=e,p.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim()}`,c].join(" "),...u},[...t.map((e=>{let[t,n]=e;return(0,a.createElement)(t,n)})),...Array.isArray(d)?d:[d]]);var p}));return n.displayName=`${e}`,n},te=ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]),ne=ee("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]),ae=ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),re=ee("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),ie=ee("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),se=ee("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),le=ee("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),oe=ee("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),ce=ee("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),de=ee("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]),ue=e=>{let{text:t,type:n="info",onClose:r,autoClose:s=!0,duration:l=5e3}=e;(0,a.useEffect)((()=>{if(s){const e=setTimeout((()=>{r()}),l);return()=>clearTimeout(e)}}),[s,l,r]);return(0,i.jsxs)("div",{className:(()=>{const e="notification flex items-center";switch(n){case"win":case"success":return`${e} bg-green-500 text-white`;case"error":return`${e} bg-red-500 text-white`;case"warning":return`${e} bg-yellow-500 text-black`;default:return`${e} bg-blue-500 text-white`}})(),children:[(0,i.jsx)("div",{className:"mr-4",children:t}),(0,i.jsx)("button",{className:"ml-4 px-2 py-1 rounded bg-opacity-20 bg-black hover:bg-opacity-30 transition-all",onClick:r,children:"\u2715"})]})},pe=e=>{let{icon:t,screenName:n,label:a,currentScreen:r,onClick:s}=e;const l=r===n;return(0,i.jsxs)("button",{onClick:s,className:"nav-button flex items-center px-3 py-1 rounded text-white "+(l?"active":""),children:[(0,i.jsx)("span",{className:"mr-1",children:t})," ",a]})},me=e=>{let{children:t}=e;const{state:n,dispatch:a,nextDay:r}=O(),{state:s}=d();return(0,i.jsxs)("div",{className:"app-container",children:[(0,i.jsx)("header",{className:"app-header",children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold",children:"OZE Developer Manager"}),(0,i.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(te,{className:"h-4 w-4"}),(0,i.jsxs)("span",{className:"text-sm",children:[(l=n.gameDate,l?l.toLocaleDateString("pl-PL",{year:"numeric",month:"long",day:"numeric"}):"")," ",(0,i.jsxs)("span",{className:"text-xs text-gray-500",children:["(Dzie\u0144: ",n.day,")"]})]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(ne,{className:"h-4 w-4"}),(0,i.jsxs)("span",{className:"text-sm",children:[s.cash.toLocaleString()," PLN"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(ae,{className:"h-4 w-4"}),(0,i.jsxs)("span",{className:"text-sm",children:["Reputacja: ",s.reputation,"/200"]})]}),(0,i.jsxs)("div",{className:"flex items-center gap-1",children:[(0,i.jsx)(re,{className:"h-4 w-4"}),(0,i.jsxs)("span",{className:"text-sm",children:["Moc RTB: ",s.rtbPower.toLocaleString()," MW"]})]}),(0,i.jsxs)("div",{className:"speed-control ml-4",children:[(0,i.jsx)("button",{onClick:()=>a({type:"SET_GAME_SPEED",payload:1}),className:"speed-button "+(1===n.gameSpeed?"active":""),title:"1 dzie\u0144",children:"1x"}),(0,i.jsx)("button",{onClick:()=>a({type:"SET_GAME_SPEED",payload:3}),className:"speed-button "+(3===n.gameSpeed?"active":""),title:"3 dni",children:"3x"}),(0,i.jsx)("button",{onClick:()=>a({type:"SET_GAME_SPEED",payload:5}),className:"speed-button "+(5===n.gameSpeed?"active":""),title:"5 dni",children:"5x"}),(0,i.jsx)("button",{onClick:()=>a({type:"SET_GAME_SPEED",payload:10}),className:"speed-button "+(10===n.gameSpeed?"active":""),title:"10 dni",children:"10x"})]}),(0,i.jsxs)("button",{onClick:r,className:"btn btn-primary px-3 py-1 flex items-center gap-1 text-white rounded",title:`Przejd\u017a do nast\u0119pnego dnia (+${n.gameSpeed} ${1===n.gameSpeed?"dzie\u0144":"dni"})`,children:[(0,i.jsx)(ie,{className:"h-4 w-4"}),n.gameSpeed>1?`+${n.gameSpeed} dni`:"Nast\u0119pny dzie\u0144"]})]})]})}),(0,i.jsx)("nav",{className:"app-nav",children:(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)(pe,{icon:(0,i.jsx)(se,{className:"h-4 w-4"}),screenName:"map",label:"Mapa Polski",currentScreen:n.currentScreen,onClick:()=>a({type:"SET_SCREEN",payload:"map"})}),(0,i.jsx)(pe,{icon:(0,i.jsx)(le,{className:"h-4 w-4"}),screenName:"company",label:"Zarz\u0105dzanie Sp\xf3\u0142k\u0105",currentScreen:n.currentScreen,onClick:()=>a({type:"SET_SCREEN",payload:"company"})}),(0,i.jsx)(pe,{icon:(0,i.jsx)(oe,{className:"h-4 w-4"}),screenName:"events",label:"Wydarzenia",currentScreen:n.currentScreen,onClick:()=>a({type:"SET_SCREEN",payload:"events"})}),(0,i.jsx)(pe,{icon:(0,i.jsx)(ce,{className:"h-4 w-4"}),screenName:"competitors",label:"Konkurencja",currentScreen:n.currentScreen,onClick:()=>a({type:"SET_SCREEN",payload:"competitors"})}),(0,i.jsx)(pe,{icon:(0,i.jsx)(de,{className:"h-4 w-4"}),screenName:"market",label:"Gie\u0142da Projekt\xf3w",currentScreen:n.currentScreen,onClick:()=>a({type:"SET_SCREEN",payload:"market"})})]})}),(0,i.jsx)("main",{className:"flex flex-1 overflow-auto",children:t}),n.notification&&(0,i.jsx)(ue,{text:n.notification.text,type:n.notification.type,onClose:()=>a({type:"SET_NOTIFICATION",payload:null})})]});var l},fe={PV:{name:"Fotowoltaika",shortName:"PV",icon:"Sun",color:"yellow",stages:{land_acquisition:{time:{min:5,max:9},costPerMW:{min:1e4,max:1e4},description:"Pozyskiwanie grunt\xf3w pod instalacje fotowoltaiczne"},environmental_decision:{time:{min:8,max:15},costPerMW:{min:15e3,max:25e3},description:"Uzyskanie decyzji \u015brodowiskowej dla instalacji PV"},zoning_conditions:{time:{min:6,max:12},costPerMW:{min:3e4,max:4e4},description:"Uzyskanie warunk\xf3w zabudowy dla instalacji PV"},grid_connection:{time:{min:10,max:18},costPerMW:{min:12e4,max:15e4},description:"Przy\u0142\u0105czenie do sieci instalacji fotowoltaicznej"},construction:{time:{min:12,max:20},costPerMW:{min:25e5,max:35e5},description:"Budowa instalacji fotowoltaicznej"}},marketPrices:{greenfield:{min:15e3,max:25e3,currency:"PLN"},development:{min:5e4,max:8e4,currency:"EUR"},rtb:{min:61e4,max:61e4,currency:"PLN"},cod:{min:8e5,max:12e5,currency:"EUR"}},specificRisks:[{name:"Problemy z sieci\u0105",probability:.25,impact:"grid_connection_delay",description:"Ograniczenia w przy\u0142\u0105czeniu do sieci"},{name:"Zmiany w systemie wsparcia",probability:.15,impact:"financial_impact",description:"Zmiany w aukcjach OZE"}]},WF:{name:"Farmy Wiatrowe",shortName:"WF",icon:"Wind",color:"blue",stages:{land_acquisition:{time:{min:7,max:12},costPerMW:{min:1e4,max:1e4},description:"Pozyskiwanie grunt\xf3w pod farmy wiatrowe"},environmental_decision:{time:{min:12,max:20},costPerMW:{min:15e3,max:25e3},description:"Uzyskanie decyzji \u015brodowiskowej dla farm wiatrowych"},zoning_conditions:{time:{min:10,max:16},costPerMW:{min:3e4,max:4e4},description:"Uzyskanie warunk\xf3w zabudowy dla farm wiatrowych"},grid_connection:{time:{min:12,max:24},costPerMW:{min:12e4,max:15e4},description:"Przy\u0142\u0105czenie do sieci farm wiatrowych"},construction:{time:{min:18,max:30},costPerMW:{min:4e6,max:6e6},description:"Budowa farm wiatrowych"}},marketPrices:{greenfield:{min:2e5,max:7e5,currency:"PLN"},development:{min:25e4,max:35e4,currency:"PLN"},rtb:{min:4e5,max:4e5,currency:"PLN"},cod:{min:15e5,max:2e6,currency:"EUR"}},specificRisks:[{name:"Protesty ekologiczne",probability:.35,impact:"environmental_decision_delay",description:"Protesty organizacji ekologicznych"},{name:"Zasada 10H",probability:.2,impact:"land_limitation",description:"Ograniczenia lokalizacji turbin"}]},BESS:{name:"Magazyny Energii",shortName:"BESS",icon:"Battery",color:"green",stages:{land_acquisition:{time:{min:4,max:8},costPerMW:{min:1e4,max:1e4},description:"Pozyskiwanie grunt\xf3w pod magazyny energii"},environmental_decision:{time:{min:6,max:12},costPerMW:{min:15e3,max:25e3},description:"Uzyskanie decyzji \u015brodowiskowej dla magazyn\xf3w energii"},zoning_conditions:{time:{min:4,max:10},costPerMW:{min:3e4,max:4e4},description:"Uzyskanie warunk\xf3w zabudowy dla magazyn\xf3w energii"},grid_connection:{time:{min:10,max:18},costPerMW:{min:12e4,max:15e4},description:"Przy\u0142\u0105czenie do sieci magazyn\xf3w energii"},construction:{time:{min:12,max:18},costPerMW:{min:28e5,max:36e5},description:"Budowa magazyn\xf3w energii"}},marketPrices:{greenfield:{min:5e4,max:1e5,currency:"PLN"},development:{min:15e4,max:25e4,currency:"PLN"},rtb:{min:18e5,max:18e5,currency:"PLN"},cod:{min:3e6,max:45e5,currency:"PLN"}},specificRisks:[{name:"Regulacje bezpiecze\u0144stwa",probability:.3,impact:"additional_costs",description:"Dodatkowe wymagania bezpiecze\u0144stwa"},{name:"Problemy z \u0142a\u0144cuchem dostaw",probability:.25,impact:"construction_delay",description:"Op\xf3\u017anienia w dostawie komponent\xf3w"}]}},he=()=>{const{state:e,dispatch:t}=d(),{state:n,dispatch:r}=V(),{state:i,dispatch:s}=Q(),{state:l,dispatch:o,showNotification:c}=O(),{dispatch:u}=v(),m=(0,a.useCallback)((t=>e.projects.filter((e=>e.assignedScout===t)).length),[e.projects]),f=(0,a.useCallback)((()=>{const t=e.staff.scouts;if(0===t.length)return null;let n=null,a=1/0;for(const e of t){const t=m(e.id);t<a&&(a=t,n=e)}return a>=10?null:n}),[e.staff.scouts,m]),h=(0,a.useCallback)((function(a){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PV",d=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!n.find((e=>e.id===a)))return null;if(0===e.staff.scouts.length||0===e.staff.developers.length)return c("Potrzebujesz zatrudni\u0107 przynajmniej jednego pozyskiwacza i jednego developera!","error"),null;const u=f();if(!u)return c("Wszyscy twoi pozyskiwacze obs\u0142uguj\u0105 ju\u017c maksymaln\u0105 liczb\u0119 projekt\xf3w (10). Zatrudnij wi\u0119cej pozyskiwaczy!","error"),null;const p=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=fe[e];if(!a)return null;const r=n.size||Math.floor(30+50*Math.random());let i;switch(e){case"PV":i=Math.floor(r*(1+.5*Math.random()));break;case"WF":i=Math.floor(r*(.5+.3*Math.random()));break;case"BESS":i=Math.floor(r*(2+1*Math.random()));break;default:i=Math.floor(r*(1.2+.8*Math.random()))}const s=Date.now()+Math.floor(1e3*Math.random());return{id:s,name:`${a.shortName}-${t.substring(0,3).toUpperCase()}${s.toString().slice(-4)}`,technology:e,region:t,size:r,power:i,status:"land_acquisition",statusIndex:0,startedOn:n.turn||1,assignedScout:null,assignedDeveloper:null,landCost:0,progress:0,etapTime:{land_acquisition:a.stages.land_acquisition.time.min+Math.floor(Math.random()*(a.stages.land_acquisition.time.max-a.stages.land_acquisition.time.min)),environmental_decision:a.stages.environmental_decision.time.min+Math.floor(Math.random()*(a.stages.environmental_decision.time.max-a.stages.environmental_decision.time.min)),zoning_conditions:a.stages.zoning_conditions.time.min+Math.floor(Math.random()*(a.stages.zoning_conditions.time.max-a.stages.zoning_conditions.time.min)),grid_connection:a.stages.grid_connection.time.min+Math.floor(Math.random()*(a.stages.grid_connection.time.max-a.stages.grid_connection.time.min)),construction:a.stages.construction.time.min+Math.floor(Math.random()*(a.stages.construction.time.max-a.stages.construction.time.min))},etapCosts:{land_acquisition:Math.floor(a.stages.land_acquisition.costPerMW.min+Math.random()*(a.stages.land_acquisition.costPerMW.max-a.stages.land_acquisition.costPerMW.min))*i,environmental_decision:Math.floor(a.stages.environmental_decision.costPerMW.min+Math.random()*(a.stages.environmental_decision.costPerMW.max-a.stages.environmental_decision.costPerMW.min))*i,zoning_conditions:Math.floor(a.stages.zoning_conditions.costPerMW.min+Math.random()*(a.stages.zoning_conditions.costPerMW.max-a.stages.zoning_conditions.costPerMW.min))*i,grid_connection:Math.floor(a.stages.grid_connection.costPerMW.min+Math.random()*(a.stages.grid_connection.costPerMW.max-a.stages.grid_connection.costPerMW.min))*i,construction:Math.floor(a.stages.construction.costPerMW.min+Math.random()*(a.stages.construction.costPerMW.max-a.stages.construction.costPerMW.min))*i},etapPaid:{land_acquisition:!1,environmental_decision:!1,zoning_conditions:!1,grid_connection:!1,construction:!1},risks:{protest:0,corruption:0,delay:0,specific:a.specificRisks.map((e=>({...e,triggered:!1})))},events:[],totalCost:0,estimatedProfit:0,parallelProcesses:{}}}(o,a,{turn:l.turn,countyId:d});p.assignedScout=u.id;let m=0,h=1;if(d){const e=i.find((e=>e.voivodeship===a&&e.id===d));if(e){if(h=e.propertyPrices,e.availableLand<p.size)return c(`W tym powiecie nie ma wystarczaj\u0105cej ilo\u015bci grunt\xf3w na projekt o mocy ${p.power} MW!`,"error"),null;if(e.gridCapacity<p.power)return c(`W tym powiecie nie ma wystarczaj\u0105cej mocy przy\u0142\u0105czeniowej dla projektu o mocy ${p.power} MW!`,"error"),null;p.county={id:e.id,name:e.name,voivodeship:e.voivodeship},"PV"===o?p.productionFactor=e.solarPotential/100:"WF"===o&&(p.productionFactor=e.windPotential/100);const t=1+e.environmentalRestrictions/100*.5;p.environmentalDelayFactor=t;const n=1+e.localOpposition/100*.3;p.oppositionDelayFactor=n;const a=2-e.administrativeEfficiency/100;p.administrationEfficiencyFactor=a,p.totalDelayFactor=(t+n+a)/3}}return m=p.etapCosts.land_acquisition*h,p.etapCosts.land_acquisition=m,p.totalCost=0,p.formalParams={leaseAgreement:{period:29+Math.floor(2*Math.random()),annualRent:Math.floor(3e4+2e4*Math.random()),securityDeposit:Math.floor(3e4*p.power)},dueDiligenceCost:Math.floor(15e3+1e4*Math.random()),useIllegalMethods:!1},p.etapPaid={land_acquisition:!1,environmental_decision:!1,zoning_conditions:!1,grid_connection:!1,construction:!1},e.cash<m?(c(`Nie masz wystarczaj\u0105cych \u015brodk\xf3w! Potrzebujesz ${m.toLocaleString()} PLN.`,"error"),null):(t({type:"ADD_PROJECT",payload:p}),r({type:"ADD_PROJECT_TO_REGION",payload:{regionId:a,project:p}}),d&&s({type:"ADD_PROJECT_TO_COUNTY",payload:{voivodeship:a,countyId:d,project:p}}),t({type:"UPDATE_CASH",payload:-m}),c(`Rozpocz\u0119to nowy projekt: ${p.name} (${p.power} MW)`,"success"),p.id)}),[e,n,i,l,t,r,s,o]),y=(0,a.useCallback)((n=>{const a=e.projects.find((e=>e.id===n));if(!a||"ready_to_build"===a.status)return!1;const r=["land_acquisition","environmental_decision","zoning_conditions","grid_connection","ready_to_build"],i=r.indexOf(a.status),s=r[i+1],d=a.etapCosts[s]||0,u="land_acquisition"===a.status?a.etapCosts.land_acquisition:0,m=d+u;return e.cash<m?(c(`Nie masz wystarczaj\u0105cych \u015brodk\xf3w! Potrzebujesz ${m.toLocaleString()} PLN.`,"error"),!1):(t({type:"UPDATE_PROJECT",payload:{id:n,changes:{status:s,statusIndex:i+1,progress:0,etapPaid:{...a.etapPaid,[s]:!0,land_acquisition:!0},totalCost:a.totalCost+m,events:[...a.events,{turn:l.turn,text:`Rozpocz\u0119to etap: ${p(s)}${u>0?` i op\u0142acono dzier\u017caw\u0119 (${u.toLocaleString()} PLN)`:""}`}]}}}),t({type:"UPDATE_CASH",payload:-m}),t({type:"UPDATE_PROJECT_TOTAL_COST",payload:{projectId:a.id,cost:m}}),"ready_to_build"===s&&(t({type:"UPDATE_RTB_POWER",payload:a.power}),o({type:"UPDATE_GAME_GOALS",payload:{currentRtbPower:l.gameGoals.currentRtbPower+a.power}}),a.useIllegalMethods||(t({type:"UPDATE_REPUTATION",payload:{change:10,reason:`Uko\u0144czenie projektu ${a.name} zgodnie z przepisami`,turn:l.turn}}),c(`Wzrost reputacji (+10) za uko\u0144czenie projektu ${a.name} zgodnie z przepisami.`,"success"))),c(`Projekt ${a.name} przeszed\u0142 do etapu ${p(s)}!`,"success"),!0)}),[e,l,t,o]),x=(0,a.useCallback)((function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=e.projects.find((e=>e.id===n));if(!r)return c("Nie znaleziono projektu","error"),!1;if("ready_to_build"===r.status)return c("Projekt jest ju\u017c gotowy do budowy","warning"),!1;const i=5e4*r.power,s=a||Math.round(.1*i);if(e.cash<s)return c("Niewystarczaj\u0105ca ilo\u015b\u0107 got\xf3wki","error"),!1;const o=Math.min(30,Math.round(s/i*200));return t({type:"UPDATE_PROJECT",payload:{id:n,changes:{progress:Math.min(100,(r.progress||0)+o),events:[...r.events,{turn:l.turn,text:`Przyspieszono projekt o ${o}% za ${s.toLocaleString()} PLN`}]}}}),t({type:"UPDATE_CASH",payload:-s}),t({type:"UPDATE_PROJECT_TOTAL_COST",payload:{projectId:r.id,cost:s}}),c(`Przyspieszono projekt o ${o}% za ${s.toLocaleString()} PLN`,"success"),!0}),[e,l,t,c]),g=(0,a.useCallback)((function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const r=e.projects.find((e=>e.id===n));if(!r)return c("Nie znaleziono projektu","error"),!1;if("ready_to_build"!==r.status)return c("Tylko projekty gotowe do budowy mog\u0105 by\u0107 wystawione na rynek","warning"),!1;const i=15e4*r.power,s=a||i;return t({type:"SEND_PROJECT_TO_MARKET",payload:{projectId:n,price:s}}),c(`Projekt "${r.name}" zosta\u0142 wystawiony na rynek za ${s.toLocaleString()} PLN`,"success"),!0}),[e,t,c]),j=(0,a.useCallback)((function(n){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"bribery";const r=e.projects.find((e=>e.id===n));if(!r)return c("Nie znaleziono projektu","error"),!1;if(e.reputation<120)return c("Niewystarczaj\u0105ca reputacja do wykonania nielegalnych dzia\u0142a\u0144","error"),!1;const i={bribery:{cost:Math.round(25e3*r.power),progressGain:25,reputationLoss:10,riskOfExposure:.3},forgery:{cost:Math.round(15e3*r.power),progressGain:15,reputationLoss:15,riskOfExposure:.4},intimidation:{cost:Math.round(1e4*r.power),progressGain:10,reputationLoss:20,riskOfExposure:.5}},s=i[a]||i.bribery;if(e.cash<s.cost)return c("Niewystarczaj\u0105ca ilo\u015b\u0107 got\xf3wki","error"),!1;const o=Math.random()<s.riskOfExposure;return t({type:"UPDATE_PROJECT",payload:{id:n,changes:{progress:Math.min(100,(r.progress||0)+s.progressGain),useIllegalMethods:!0,events:[...r.events,{turn:l.turn,text:`U\u017cyto nielegalnych metod (${a}) do przyspieszenia projektu o ${s.progressGain}%`,isIllegal:!0}]}}}),t({type:"UPDATE_CASH",payload:-s.cost}),o&&t({type:"UPDATE_REPUTATION",payload:{change:-s.reputationLoss,reason:`Wykryto nielegalne dzia\u0142ania w projekcie ${r.name}`}}),t({type:"ADD_ILLEGAL_ACTION",payload:{type:a,target:r.name,cost:s.cost,turn:l.turn,exposed:o}}),o?c(`Twoje nielegalne dzia\u0142ania zosta\u0142y wykryte! Strata reputacji: ${s.reputationLoss}`,"error"):c(`U\u017cyto nielegalnych metod do przyspieszenia projektu o ${s.progressGain}%`,"success"),!0}),[e,l,t,c]);return{projects:e.projects,startNewProject:h,advanceProject:y,accelerateProject:x,sendProjectToMarket:g,applyIllegalMethod:j,translateStage:p}},ye=e=>e>=75?"#22c55e":e>=50?"#3b82f6":e>=25?"#f59e0b":"#ef4444",xe=e=>{let{region:t,isSelected:n,onSelect:a}=e;const{state:r}=v(),s=r.filter((e=>e.regionId===t.id)).length>0;return(0,i.jsxs)("div",{className:`\n        relative\n        flex items-center justify-center \n        border-2 ${n?"border-blue-600":"border-gray-300"} \n        ${(e=>{const t=(e.solarConditions+e.windConditions)/2;return t>=70?"bg-green-200":t>=55?"bg-yellow-200":"bg-red-200"})(t)}\n        rounded-lg\n        cursor-pointer \n        transition-all duration-200\n        hover:opacity-80\n        p-2\n      `,onClick:()=>a(t.id),children:[(0,i.jsxs)("div",{className:"text-center z-10",children:[(0,i.jsx)("div",{className:"font-bold text-sm",children:t.name}),(0,i.jsxs)("div",{className:"text-xs",children:[t.projects.length," projekt\xf3w"]}),t.isOPRO&&(0,i.jsx)("div",{className:"text-xs text-green-800 font-bold",children:"OPRO"})]}),s&&(0,i.jsx)("div",{className:"absolute top-1 right-1 h-3 w-3 bg-red-500 rounded-full animate-pulse"}),(0,i.jsxs)("div",{className:"absolute bottom-1 left-1 flex gap-1",children:[(0,i.jsx)("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:ye(t.solarConditions)},title:`Nas\u0142onecznienie: ${t.solarConditions}/100`}),(0,i.jsx)("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:ye(t.windConditions)},title:`Warunki wiatrowe: ${t.windConditions}/100`}),(0,i.jsx)("div",{className:"h-2 w-2 rounded-full",style:{backgroundColor:ye(t.socialAcceptance)},title:`Akceptacja spo\u0142eczna: ${t.socialAcceptance}/100`})]})]})},ge=a.memo(xe),ve=e=>{let{children:t,title:n,className:a="",headerAction:r=null,footer:s=null,...l}=e;return(0,i.jsxs)("div",{className:`bg-white p-4 rounded shadow ${a}`,...l,children:[n&&(0,i.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,i.jsx)("h3",{className:"font-bold text-lg",children:n}),r]}),(0,i.jsx)("div",{className:"card-content",children:t}),s&&(0,i.jsx)("div",{className:"card-footer mt-4 pt-3 border-t border-gray-200",children:s})]})},je=e=>{let{children:t,variant:n="primary",size:a="medium",onClick:r,className:s="",disabled:l=!1,...o}=e;return(0,i.jsx)("button",{className:`${{primary:"bg-blue-700 hover:bg-blue-800 text-white",success:"bg-green-500 hover:bg-green-600 text-white",danger:"bg-red-500 hover:bg-red-600 text-white",warning:"bg-yellow-500 hover:bg-yellow-600 text-black",info:"bg-blue-500 hover:bg-blue-600 text-white",secondary:"bg-gray-200 hover:bg-gray-300 text-gray-800"}[n]} ${{small:"px-2 py-1 text-xs",medium:"px-3 py-1",large:"px-4 py-2 text-lg"}[a]} rounded font-medium transition-colors ${l?"opacity-50 cursor-not-allowed":""} ${s}`,onClick:r,disabled:l,...o,children:t})},we=e=>{let{value:t=0,status:n="medium",showPercent:a=!1,className:r="",...s}=e;const l=Math.min(100,Math.max(0,t)),o=`progress-${n}`;return(0,i.jsxs)("div",{className:`relative ${r}`,...s,children:[(0,i.jsx)("div",{className:"progress-bar-container",children:(0,i.jsx)("div",{className:`progress-bar-fill ${o}`,style:{width:`${l}%`}})}),a&&(0,i.jsxs)("div",{className:"text-xs font-medium text-gray-700 text-right mt-1",children:[l,"%"]})]})},be=ee("Battery",[["rect",{width:"16",height:"10",x:"2",y:"7",rx:"2",ry:"2",key:"1w10f2"}],["line",{x1:"22",x2:"22",y1:"11",y2:"13",key:"4dh1rd"}]]),ke=ee("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]),Ne=e=>{switch(e){case"land_acquisition":return"Pozyskiwanie grunt\xf3w";case"environmental_decision":return"Decyzja \u015brodowiskowa";case"zoning_conditions":return"Warunki zabudowy";case"grid_connection":return"Przy\u0142\u0105czenie do sieci";case"construction":return"Budowa";case"ready_to_build":return"Gotowy do budowy";default:return e}},ze=e=>{switch(e){case"land_acquisition":return"blue";case"environmental_decision":return"yellow";case"zoning_conditions":return"orange";case"grid_connection":return"purple";case"construction":return"red";case"ready_to_build":return"green";default:return"gray"}},Pe=e=>{switch(e){case"PV":return"Fotowoltaika";case"WF":return"Farma Wiatrowa";case"BESS":return"Magazyn Energii";default:return e}},Ee=e=>{let{region:t,onStartProject:n}=e;const[r,s]=(0,a.useState)("PV"),{state:l}=v(),o=l.filter((e=>e.regionId===t.id));return(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:t.name}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,i.jsxs)("div",{className:"bg-gray-100 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Dost\u0119pne moce przy\u0142\u0105czeniowe"}),(0,i.jsxs)("div",{className:"text-xl font-bold",children:[t.gridCapacity," MW"]})]}),(0,i.jsxs)("div",{className:"bg-gray-100 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Dost\u0119pne grunty"}),(0,i.jsxs)("div",{className:"text-xl font-bold",children:[t.availableLand.toLocaleString()," ha"]})]}),(0,i.jsxs)("div",{className:"bg-gray-100 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Nas\u0142onecznienie"}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("div",{className:"text-xl font-bold mr-2",children:[t.solarConditions,"/100"]}),(0,i.jsx)("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:ye(t.solarConditions)}})]})]}),(0,i.jsxs)("div",{className:"bg-gray-100 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Warunki wiatrowe"}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("div",{className:"text-xl font-bold mr-2",children:[t.windConditions,"/100"]}),(0,i.jsx)("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:ye(t.windConditions)}})]})]}),(0,i.jsxs)("div",{className:"bg-gray-100 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Akceptacja spo\u0142eczna"}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsxs)("div",{className:"text-xl font-bold mr-2",children:[t.socialAcceptance,"/100"]}),(0,i.jsx)("div",{className:"h-4 w-4 rounded-full",style:{backgroundColor:ye(t.socialAcceptance)}})]})]}),(0,i.jsxs)("div",{className:"bg-gray-100 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Z\u0142o\u017cono\u015b\u0107 \u015brodowiskowa"}),(0,i.jsxs)("div",{className:"text-xl font-bold",children:[t.environmentalComplexity.toFixed(1),"x",(0,i.jsx)("span",{className:"text-sm font-normal text-gray-500 ml-1",children:t.environmentalComplexity>1?"(trudniejsza)":"(\u0142atwiejsza)"})]})]})]}),(0,i.jsx)(ve,{title:"Wydarzenia w regionie",className:"mb-4",children:o&&o.length>0?(0,i.jsx)("div",{className:"space-y-2",children:o.map((e=>(0,i.jsxs)("div",{className:"p-3 rounded text-sm "+("positive"===e.severity?"bg-green-100 text-green-800":"negative"===e.severity?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:[(0,i.jsx)("div",{className:"font-bold",children:e.title}),(0,i.jsx)("div",{children:e.description})]},e.id)))}):(0,i.jsx)("p",{className:"text-gray-500",children:"Brak aktywnych wydarze\u0144 w tym regionie"})}),(0,i.jsx)(ve,{title:"Projekty w regionie",className:"mb-4",children:t.projects&&t.projects.length>0?(0,i.jsx)("div",{className:"max-h-40 overflow-y-auto",children:(0,i.jsxs)("table",{className:"min-w-full",children:[(0,i.jsx)("thead",{className:"bg-gray-100",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"text-left p-2 text-xs",children:"Nazwa"}),(0,i.jsx)("th",{className:"text-center p-2 text-xs",children:"Moc"}),(0,i.jsx)("th",{className:"text-center p-2 text-xs",children:"Status"}),(0,i.jsx)("th",{className:"text-center p-2 text-xs",children:"Post\u0119p"})]})}),(0,i.jsx)("tbody",{className:"divide-y divide-gray-200",children:t.projects.map((e=>(0,i.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,i.jsx)("td",{className:"p-2 text-xs",children:e.name}),(0,i.jsxs)("td",{className:"text-center p-2 text-xs",children:[e.power," MW"]}),(0,i.jsx)("td",{className:"text-center p-2 text-xs",children:Ne(e.status)}),(0,i.jsx)("td",{className:"p-2",children:(0,i.jsx)(we,{value:e.progress,color:ze(e.status),height:"2"})})]},e.id)))})]})}):(0,i.jsx)("p",{className:"text-gray-500",children:"Brak projekt\xf3w w tym regionie"})}),(0,i.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,i.jsxs)("div",{className:"flex mb-4",children:[(0,i.jsxs)("button",{onClick:()=>s("PV"),className:"px-3 py-1 rounded flex items-center "+("PV"===r?"bg-yellow-500 text-white":"bg-gray-200"),children:[(0,i.jsx)(de,{className:"h-4 w-4 mr-1"})," Fotowoltaika"]}),(0,i.jsxs)("button",{onClick:()=>s("WF"),className:"px-3 py-1 rounded ml-2 flex items-center "+("WF"===r?"bg-blue-500 text-white":"bg-gray-200"),children:[(0,i.jsx)(re,{className:"h-4 w-4 mr-1"})," Farma Wiatrowa"]}),(0,i.jsxs)("button",{onClick:()=>s("BESS"),className:"px-3 py-1 rounded ml-2 flex items-center "+("BESS"===r?"bg-purple-500 text-white":"bg-gray-200"),children:[(0,i.jsx)(be,{className:"h-4 w-4 mr-1"})," Magazyn Energii"]})]}),(0,i.jsxs)(je,{onClick:()=>n(r),variant:"success",className:"w-full py-2 font-bold flex items-center justify-center",children:[(0,i.jsx)("div",{className:"mr-2",children:"+"}),"Rozpocznij nowy projekt ",Pe(r)]}),(0,i.jsxs)("div",{className:"p-3 bg-blue-50 rounded text-sm",children:[(0,i.jsxs)("div",{className:"font-bold flex items-center",children:[(0,i.jsx)(ke,{className:"h-4 w-4 mr-1"}),"Informacje o kosztach:"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Koszt pozyskania gruntu:"})," ~",Math.floor(4e5*t.landPriceMultiplier).toLocaleString()," ","PLN/ha"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Szacowana rentowno\u015b\u0107:"})," ",(Math.max(t.solarConditions,t.windConditions)/60*100).toFixed(1),"% \u015bredniej"]}),t.isOPRO&&(0,i.jsx)("div",{className:"text-green-700 font-medium mt-1",children:"Obszar Przyspieszonego Rozwoju OZE: +40% szybko\u015bci procedur"})]})]})]})},Se=e=>{let{voivodeshipId:t}=e;const{state:n,dispatch:a}=Q(),{state:r,dispatch:s}=O(),l=((e,t)=>e.filter((e=>e.voivodeship===t)))(n,t),o=e=>{var n,a;return(null===(n=r.selectedCounty)||void 0===n?void 0:n.voivodeshipId)===t&&(null===(a=r.selectedCounty)||void 0===a?void 0:a.countyId)===e};return t&&0!==l.length?(0,i.jsxs)("div",{className:"bg-white rounded shadow p-4",children:[(0,i.jsx)("h3",{className:"font-bold text-lg mb-3",children:"Powiaty w wojew\xf3dztwie"}),(0,i.jsx)("div",{className:"space-y-2 max-h-96 overflow-y-auto",children:l.map((e=>(0,i.jsxs)("div",{onClick:()=>{return n=e.id,void s({type:"SELECT_COUNTY",payload:{voivodeshipId:t,countyId:n}});var n},className:`\n              cursor-pointer p-3 rounded \n              border-2 \n              ${o(e.id)?"border-blue-500":"border-gray-200"}\n              hover:bg-gray-50 transition-colors\n            `,children:[(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:[e.capital," \u2022 ",e.population.toLocaleString()," mieszka\u0144c\xf3w"]})]}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:[e.projects.length," projekty"]})]}),(0,i.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center text-sm",children:[(0,i.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:ye(e.solarPotential)}}),(0,i.jsxs)("span",{children:["S\u0142o\u0144ce: ",e.solarPotential,"/100"]})]}),(0,i.jsxs)("div",{className:"flex items-center text-sm",children:[(0,i.jsx)("div",{className:"w-3 h-3 rounded-full mr-2",style:{backgroundColor:ye(e.windPotential)}}),(0,i.jsxs)("span",{children:["Wiatr: ",e.windPotential,"/100"]})]})]}),(0,i.jsxs)("div",{className:"mt-1 text-sm flex justify-between",children:[(0,i.jsxs)("span",{children:["Grunty: ",e.availableLand," ha"]}),(0,i.jsxs)("span",{children:["Moc przy\u0142\u0105czeniowa: ",e.gridCapacity," MW"]})]}),e.events.length>0&&(0,i.jsxs)("div",{className:"mt-2 text-xs bg-red-100 text-red-800 px-2 py-1 rounded flex items-center",children:[(0,i.jsx)("span",{className:"w-2 h-2 bg-red-500 rounded-full mr-2 animate-pulse"}),(0,i.jsxs)("span",{children:[e.events.length," aktywnych wydarze\u0144"]})]})]},e.id)))})]}):(0,i.jsx)(ve,{title:"Powiaty",children:(0,i.jsx)("p",{className:"text-gray-500",children:"Wybierz wojew\xf3dztwo, aby zobaczy\u0107 powiaty."})})},_e=e=>{let{voivodeshipId:t,countyId:n,onStartProject:a}=e;const{state:r}=Q(),{state:s,dispatch:l}=O(),o=((e,t,n)=>e.find((e=>e.voivodeship===t&&e.id===n))||null)(r,t,n);if(!o)return(0,i.jsx)(ve,{title:"Powiat",children:(0,i.jsx)("p",{className:"text-gray-500",children:"Nie znaleziono wybranego powiatu."})});const c=e=>{a(e,n)};return(0,i.jsx)(ve,{title:`Powiat ${o.name}`,children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Stolica"}),(0,i.jsx)("div",{className:"font-bold",children:o.capital})]}),(0,i.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Populacja"}),(0,i.jsx)("div",{className:"font-bold",children:o.population.toLocaleString()})]}),(0,i.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Powierzchnia"}),(0,i.jsxs)("div",{className:"font-bold",children:[o.area," km\xb2"]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Ceny grunt\xf3w"}),(0,i.jsxs)("div",{className:"font-bold",children:[o.propertyPrices.toFixed(2),"x \u015brednia"]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Dost\u0119pne grunty"}),(0,i.jsxs)("div",{className:"font-bold",children:[o.availableLand," ha"]})]}),(0,i.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Moc przy\u0142\u0105czeniowa"}),(0,i.jsxs)("div",{className:"font-bold",children:[o.gridCapacity," MW"]})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,i.jsx)("span",{className:"text-sm",children:"Potencja\u0142 s\u0142oneczny"}),(0,i.jsxs)("span",{className:"text-sm font-bold",children:[o.solarPotential,"/100"]})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,i.jsx)("div",{className:"h-2 rounded-full",style:{width:`${o.solarPotential}%`,backgroundColor:ye(o.solarPotential)}})})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,i.jsx)("span",{className:"text-sm",children:"Potencja\u0142 wiatrowy"}),(0,i.jsxs)("span",{className:"text-sm font-bold",children:[o.windPotential,"/100"]})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,i.jsx)("div",{className:"h-2 rounded-full",style:{width:`${o.windPotential}%`,backgroundColor:ye(o.windPotential)}})})]})]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,i.jsx)("span",{className:"text-sm",children:"Ograniczenia \u015brodowiskowe"}),(0,i.jsxs)("span",{className:"text-sm font-bold",children:[o.environmentalRestrictions,"/100"]})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,i.jsx)("div",{className:"h-2 rounded-full",style:{width:`${o.environmentalRestrictions}%`,backgroundColor:ye(100-o.environmentalRestrictions)}})})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,i.jsx)("span",{className:"text-sm",children:"Lokalna opozycja"}),(0,i.jsxs)("span",{className:"text-sm font-bold",children:[o.localOpposition,"/100"]})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,i.jsx)("div",{className:"h-2 rounded-full",style:{width:`${o.localOpposition}%`,backgroundColor:ye(100-o.localOpposition)}})})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,i.jsx)("span",{className:"text-sm",children:"Efektywno\u015b\u0107 administracji"}),(0,i.jsxs)("span",{className:"text-sm font-bold",children:[o.administrativeEfficiency,"/100"]})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,i.jsx)("div",{className:"h-2 rounded-full",style:{width:`${o.administrativeEfficiency}%`,backgroundColor:ye(o.administrativeEfficiency)}})})]})]}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[(0,i.jsx)("div",{className:"text-xs px-2 py-1 rounded "+(o.powerLines.hv?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:o.powerLines.hv?"Linie WN dost\u0119pne":"Brak linii WN"}),(0,i.jsx)("div",{className:"text-xs px-2 py-1 rounded "+(o.powerLines.mv?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:o.powerLines.mv?"Linie SN dost\u0119pne":"Brak linii SN"}),(0,i.jsx)("div",{className:"text-xs px-2 py-1 rounded "+(o.isNatura2000?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:o.isNatura2000?"Obszar Natura 2000":"Bez Natura 2000"})]}),(0,i.jsxs)("div",{className:"pt-3 border-t",children:[(0,i.jsx)("div",{className:"text-sm font-medium mb-2",children:"Rozpocznij nowy projekt:"}),(0,i.jsxs)("div",{className:"flex space-x-2",children:[(0,i.jsx)("button",{onClick:()=>c("PV"),className:"px-3 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 flex-1",children:"Fotowoltaika"}),(0,i.jsx)("button",{onClick:()=>c("WF"),className:"px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 flex-1",children:"Farma Wiatrowa"})]})]}),o.projects.length>0&&(0,i.jsxs)("div",{className:"pt-3 border-t",children:[(0,i.jsx)("div",{className:"text-sm font-medium mb-2",children:"Aktywne projekty:"}),(0,i.jsx)("div",{className:"space-y-2",children:o.projects.map((e=>(0,i.jsxs)("div",{className:"p-2 bg-gray-50 rounded text-sm",children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),(0,i.jsxs)("div",{className:"text-gray-600",children:[e.technology," \u2022 ",e.power," MW"]})]},e.id)))})]}),o.events.length>0&&(0,i.jsxs)("div",{className:"pt-3 border-t",children:[(0,i.jsx)("div",{className:"text-sm font-medium mb-2",children:"Aktywne wydarzenia:"}),(0,i.jsx)("div",{className:"space-y-2",children:o.events.map((e=>(0,i.jsxs)("div",{className:"p-2 rounded text-sm "+("positive"===e.severity?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:[(0,i.jsx)("div",{className:"font-medium",children:e.title}),(0,i.jsx)("div",{children:e.description})]},e.id)))})]})]})})},Ce=()=>{const{state:e}=V(),{state:t}=Q(),{state:n,dispatch:a}=O(),{startNewProject:r}=he(),s=n.selectedRegion?e.find((e=>e.id===n.selectedRegion)):null,l=null!==n.selectedCounty,o=e=>{a({type:"SELECT_REGION",payload:e})},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"PV",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t?r(n.selectedRegion,e,t):n.selectedRegion&&r(n.selectedRegion,e)};return(0,i.jsxs)("div",{className:"flex flex-1",children:[(0,i.jsx)("div",{className:"flex-1 bg-blue-50 p-4 overflow-auto",children:(0,i.jsx)("div",{className:"w-full h-full",children:(0,i.jsx)("div",{className:"w-full min-h-full grid grid-cols-4 auto-rows-min gap-4",children:e.map((e=>(0,i.jsx)(ge,{region:e,isSelected:n.selectedRegion===e.id,onSelect:o},e.id)))})})}),(0,i.jsx)("div",{className:"w-1/3 bg-white p-4 overflow-y-auto",children:s?(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)(Ee,{region:s,onStartProject:c}),n.countySettings.showCounties&&(0,i.jsx)(Se,{voivodeshipId:s.id}),l&&n.selectedCounty.voivodeshipId===s.id&&(0,i.jsx)(_e,{voivodeshipId:n.selectedCounty.voivodeshipId,countyId:n.selectedCounty.countyId,onStartProject:c})]}):(0,i.jsxs)(ve,{title:"Mapa Polski",children:[(0,i.jsx)("p",{children:"Wybierz wojew\xf3dztwo, aby zobaczy\u0107 szczeg\xf3\u0142y."}),(0,i.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"W nowej wersji aplikacji mo\u017cesz teraz zarz\u0105dza\u0107 projektami OZE na poziomie powiat\xf3w. Ka\u017cdy powiat ma unikalne parametry, kt\xf3re wp\u0142ywaj\u0105 na op\u0142acalno\u015b\u0107 i trudno\u015b\u0107 realizacji projekt\xf3w."}),(0,i.jsx)("p",{className:"mt-2 text-sm text-gray-600",children:"Twoim celem jest osi\u0105gni\u0119cie 25 GW mocy w projektach Ready-to-Build lub zgromadzenie 10 miliard\xf3w z\u0142otych."})]})})]})},Me=()=>{const{state:e,dispatch:t}=d(),{state:n,showNotification:r}=O(),{dispatch:i}=W(),[s,l]=(0,a.useState)([]),o={junior:{minSkill:1,maxSkill:3,salaryMultiplier:1},mid:{minSkill:4,maxSkill:7,salaryMultiplier:1.5},senior:{minSkill:8,maxSkill:10,salaryMultiplier:2.2}},c={scout:2500,developer:3e3,lawyer:0,envSpecialist:0,lobbyist:5e3},u={lawyer:3e7,envSpecialist:25e6},h=(0,a.useCallback)((()=>{n.turn>1&&g()}),[n.turn]);(0,a.useEffect)((()=>{h()}),[h]);const y=(e,t)=>{const n=["land_acquisition","environmental_decision","zoning_conditions","grid_connection","ready_to_build"];switch(e){case"scout":case"scouts":return n.indexOf(t)<=n.indexOf("land_acquisition");case"developer":case"developers":return!0;case"lawyer":case"lawyers":return n.indexOf(t)>=n.indexOf("environmental_decision")&&n.indexOf(t)<=n.indexOf("grid_connection");case"envSpecialist":case"envSpecialists":return n.indexOf(t)<=n.indexOf("environmental_decision");case"lobbyist":case"lobbyists":return n.indexOf(t)>=n.indexOf("environmental_decision")&&n.indexOf(t)<=n.indexOf("zoning_conditions");default:return!1}},x=(n,a)=>{const i=n.endsWith("s")?n:`${n}s`,s=e.staff[i];if(!s)return!1;const l=s.find((e=>e.id===a));if(!l||!l.assignedProject)return!1;const o=l.assignedProject,c=e.projects.find((e=>e.id===o));t({type:"UPDATE_STAFF",payload:{staffType:i,staffId:a,changes:{assignedProject:null,assignedSince:null}}});const d=n.endsWith("s")?n.slice(0,-1):n;return c&&(t({type:"UPDATE_PROJECT",payload:{id:o,changes:{assignedStaff:{...c.assignedStaff||{},[d]:null}}}}),r(`Od\u0142\u0105czono ${m(n)} ${l.name} od projektu ${c.name}`,"info")),!0},g=()=>{const t=[];Object.keys(e.staff).forEach((n=>{const a=e.staff[n];a&&0!==a.length&&a.forEach((e=>{if(Math.random()<.05){const n=v(e);n&&(t.push(n),j(e.type,e.id,n))}w(e.type,e.id)}))})),t.length>0&&l((e=>[...e,...t]))},v=e=>{let t=[.15,.1,.05,.1,.1,.2,.3];e.morale<50&&(t[2]*=3,t[4]*=2),e.energy<50&&(t[1]*=2,t[6]*=1.5),e.skill>7&&(t[5]*=2,t[3]*=1.5);const a=t.reduce(((e,t)=>e+t),0);t=t.map((e=>e/a));const r=Math.random();let i=0,s=-1;for(let n=0;n<t.length;n++)if(i+=t[n],r<=i){s=n;break}if(-1===s)return null;const l=["vacation","illness","burnout","promotion","conflict","innovation","mistake"][s];let o={id:Date.now(),staffId:e.id,staffName:e.name,staffType:e.type,type:l,turn:n.turn,title:"",description:"",effects:[]};switch(l){case"vacation":o.title=`${e.name} bierze urlop`,o.description=`Pracownik bierze ${Math.floor(1+3*Math.random())} dni urlopu.`,o.effects.push({type:"energy",value:30}),o.effects.push({type:"morale",value:20}),o.effects.push({type:"productivity",value:-1});break;case"illness":o.title=`${e.name} zachorowa\u0142`,o.description=`Pracownik jest chory i nie mo\u017ce pracowa\u0107 przez ${Math.floor(1+5*Math.random())} dni.`,o.effects.push({type:"energy",value:-20}),o.effects.push({type:"productivity",value:-1});break;case"burnout":o.title=`${e.name} cierpi na wypalenie zawodowe`,o.description="Pracownik jest przem\u0119czony i jego wydajno\u015b\u0107 spada o 50%.",o.effects.push({type:"energy",value:-40}),o.effects.push({type:"morale",value:-30}),o.effects.push({type:"productivity",value:-.5});break;case"promotion":o.title=`${e.name} zas\u0142uguje na awans`,o.description="Pracownik wykazuje si\u0119 du\u017cym zaanga\u017cowaniem i zas\u0142uguje na awans.",o.effects.push({type:"morale",value:40}),o.effects.push({type:"skill",value:1}),o.effects.push({type:"salary",value:.1});break;case"conflict":o.title=`${e.name} ma konflikt w zespole`,o.description="Pracownik ma konflikt z innymi cz\u0142onkami zespo\u0142u, co wp\u0142ywa na jego morale.",o.effects.push({type:"morale",value:-25}),o.effects.push({type:"productivity",value:-.2});break;case"innovation":o.title=`${e.name} ma innowacyjny pomys\u0142`,o.description="Pracownik wpad\u0142 na innowacyjny pomys\u0142, kt\xf3ry mo\u017ce przyspieszy\u0107 rozw\xf3j projekt\xf3w.",o.effects.push({type:"morale",value:15}),o.effects.push({type:"productivity",value:.2}),o.effects.push({type:"experience",value:10});break;case"mistake":o.title=`${e.name} pope\u0142ni\u0142 b\u0142\u0105d`,o.description="Pracownik pope\u0142ni\u0142 b\u0142\u0105d, kt\xf3ry mo\u017ce op\xf3\u017ani\u0107 rozw\xf3j projektu.",o.effects.push({type:"morale",value:-10}),o.effects.push({type:"productivity",value:-.15});break;default:return null}return o},j=(e,n,a)=>{const i={id:n};a.effects.forEach((e=>{switch(e.type){case"energy":i.energy=e.value;break;case"morale":i.morale=e.value;break;case"productivity":i.productivityModifier=e.value;break;case"skill":i.skillIncrease=e.value;break;case"experience":i.experienceIncrease=e.value;break;case"salary":i.salaryModifier=e.value}})),t({type:"UPDATE_STAFF",payload:{staffType:e,staffUpdate:i}}),r(a.title,"info")},w=(n,a)=>{const i=e.staff[`${n}s`];if(!i)return;const s=i.findIndex((e=>e.id===a));if(-1===s)return;const l=i[s];t({type:"UPDATE_STAFF",payload:{staffType:n,staffUpdate:{id:a,experienceIncrease:1}}}),l.experience+1>=100&&l.skill<10&&(t({type:"UPDATE_STAFF",payload:{staffType:n,staffUpdate:{id:a,skillIncrease:1,experience:0}}}),r(`${l.name} zdoby\u0142 nowy poziom umiej\u0119tno\u015bci!`,"success"))},b=(e,t)=>{const n="junior"===e.level?1:"mid"===e.level?1.5:2,a="skill"===t?1:1.5;return Math.floor(5e3*n*a)},k=()=>{const e=["Adam","Anna","Piotr","Katarzyna","Micha\u0142","Magdalena","Jan","Aleksandra","Tomasz","Ma\u0142gorzata","Marek","Barbara","Andrzej","Ewa","Krzysztof","Zofia","Pawe\u0142","Monika","Rafa\u0142","Joanna"],t=["Nowak","Kowalski","Wi\u015bniewski","W\xf3jcik","Kowalczyk","Kami\u0144ski","Lewandowski","Zieli\u0144ski","Wo\u017aniak","Szyma\u0144ski","D\u0105browski","Koz\u0142owski","Jankowski","Mazur","Kwiatkowski","Krawczyk","Piotrowski","Grabowski","Nowakowski","Paw\u0142owski"];return`${e[Math.floor(Math.random()*e.length)]} ${t[Math.floor(Math.random()*t.length)]}`},N=e=>{const t={scout:["PV","WF","BESS","Negocjacje","Analiza grunt\xf3w"],developer:["PV","WF","BESS","Zarz\u0105dzanie projektami","Analiza techniczna"],lawyer:["Prawo energetyczne","Prawo \u015brodowiskowe","Prawo budowlane","Negocjacje"],envSpecialist:["Oceny oddzia\u0142ywania","Ochrona gatunkowa","Rekultywacja","Monitoring"],lobbyist:["W\u0142adze lokalne","Media","NGO","Spo\u0142eczno\u015bci lokalne"]}[e]||["Og\xf3lna"];return t[Math.floor(Math.random()*t.length)]},z=()=>{const e=["Pracowity","Leniwy","Kreatywny","Analityczny","Komunikatywny","Introwertyczny","Dok\u0142adny","Chaotyczny","Ambitny","Ostro\u017cny","Optymista","Pesymista","Zespo\u0142owy","Indywidualista","Elastyczny","Sztywny","Odporny na stres","Wra\u017cliwy","Punktualny","Sp\xf3\u017anialski"],t=1+Math.floor(3*Math.random()),n=[];for(let a=0;a<t;a++){const t=e.filter((e=>!n.includes(e)));if(0===t.length)break;const a=t[Math.floor(Math.random()*t.length)];n.push(a)}return n};return{hireStaff:function(a){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"junior";const s=o[i],l=c[a],d=Math.floor(l*s.salaryMultiplier),p="lawyer"===a||"envSpecialist"===a?u[a]:2*d;if(e.cash<p)return r(`Nie masz wystarczaj\u0105cych \u015brodk\xf3w! Potrzebujesz ${p.toLocaleString()} PLN.`,"error"),!1;const h=Date.now(),y=Math.floor(s.minSkill+Math.random()*(s.maxSkill-s.minSkill+1)),x={id:h,type:a,name:k(),skill:y,experience:0,level:i,salary:d,hiredOn:n.turn,morale:100,energy:100,specialization:N(a),traits:z()};return t({type:"HIRE_STAFF",payload:{staffType:a,staff:x,cost:p}}),r(`Zatrudniono ${f(i)} ${m(a,!0)}: ${x.name}`,"success"),!0},fireStaff:(n,a)=>{const i=e.staff[`${n}s`];if(!i)return!1;const s=i.findIndex((e=>e.id===a));if(-1===s)return!1;const l=i[s],o=l.salary;return e.cash<o?(r(`Nie masz wystarczaj\u0105cych \u015brodk\xf3w na odpraw\u0119! Potrzebujesz ${o.toLocaleString()} PLN.`,"error"),!1):(t({type:"FIRE_STAFF",payload:{staffType:n,staffId:a,cost:o}}),r(`Zwolniono pracownika: ${l.name}`,"warning"),!0)},trainStaff:(n,a,i)=>{const s=e.staff[`${n}s`];if(!s)return!1;const l=s.findIndex((e=>e.id===a));if(-1===l)return!1;const o=s[l],c=b(o,i);return e.cash<c?(r(`Nie masz wystarczaj\u0105cych \u015brodk\xf3w na szkolenie! Potrzebujesz ${c.toLocaleString()} PLN.`,"error"),!1):(t({type:"TRAIN_STAFF",payload:{staffType:n,staffId:a,trainingType:i,cost:c}}),r(`Wys\u0142ano pracownika ${o.name} na szkolenie`,"success"),!0)},assignStaffToProject:(a,s,l)=>{const o=a.endsWith("s")?a:`${a}s`,c=e.staff[o];if(!c)return!1;const d=c.find((e=>e.id===s));if(!d)return!1;const u=e.projects.find((e=>e.id===l));if(!u)return!1;return y(a,u.status)?(d.assignedProject&&x(a,s),t({type:"ASSIGN_STAFF_TO_PROJECT",payload:{staffType:a.endsWith("s")?a.slice(0,-1):a,staffId:s,projectId:l}}),i({type:"ADD_EVENT",payload:{id:Date.now()+Math.random(),type:"staff_event",title:"Przypisanie pracownika",description:`${d.name} (${m(a)}) zosta\u0142 przypisany do projektu ${u.name}`,severity:"info",turn:n.turn,expires:n.turn+5,staffId:d.id,staffName:d.name,projectId:u.id}}),r(`Przypisano ${m(a)} ${d.name} do projektu ${u.name}`,"success"),!0):(r(`${m(a)} nie mo\u017ce by\u0107 przypisany do projektu na etapie ${p(u.status)}`,"error"),!1)},staffEvents:s,calculateTrainingCost:b}},Te=ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]),Le=ee("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]),Oe=ee("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),Re=ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]),Ie=ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]),Ae=ee("ArrowUpDown",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]),De=e=>{let{openStaffDetails:t}=e;const{state:n}=d(),{showNotification:r}=O(),s=Me(),[l,o]=(0,a.useState)("all"),[c,u]=(0,a.useState)(""),[p,h]=(0,a.useState)("name"),[y,x]=(0,a.useState)("asc"),g=[{id:"scouts",name:"Pozyskiwacze",icon:(0,i.jsx)(ae,{className:"h-4 w-4"})},{id:"developers",name:"Developerzy",icon:(0,i.jsx)(Te,{className:"h-4 w-4"})},{id:"lawyers",name:"Prawnicy",icon:(0,i.jsx)(Le,{className:"h-4 w-4"})},{id:"envSpecialists",name:"Specjali\u015bci ds. \u015brodowiska",icon:(0,i.jsx)(Le,{className:"h-4 w-4"})},{id:"lobbyists",name:"Lobby\u015bci",icon:(0,i.jsx)(Le,{className:"h-4 w-4"})}],v=[{id:"junior",name:"Junior",cost:1},{id:"mid",name:"Mid",cost:1.5},{id:"senior",name:"Senior",cost:2.5}],[j,w]=(0,a.useState)(!1),[b,k]=(0,a.useState)(null),[N,z]=(0,a.useState)("junior"),P=()=>Object.entries(n.staff).flatMap((e=>{let[t,n]=e;return n.map((e=>({...e,staffType:t})))})),E=()=>{let e=P();if("all"!==l&&(e=e.filter((e=>e.staffType===l))),c){const t=c.toLowerCase();e=e.filter((e=>e.name.toLowerCase().includes(t)||e.specialization&&e.specialization.toLowerCase().includes(t)))}return e.sort(((e,t)=>{let n,a;switch(p){case"name":default:n=e.name,a=t.name;break;case"skill":n=e.skill,a=t.skill;break;case"experience":n=e.experience,a=t.experience;break;case"salary":n=e.salary,a=t.salary}return"asc"===y?n>a?1:-1:n<a?1:-1})),e},S=(()=>{const e=P();return{totalStaff:e.length,totalSalary:e.reduce(((e,t)=>e+(t.salary||0)),0),averageSkill:e.length>0?Math.round(e.reduce(((e,t)=>e+t.skill),0)/e.length*10)/10:0,staffByType:Object.fromEntries(Object.entries(n.staff).map((e=>{let[t,n]=e;return[t,n.length]}))),staffByLevel:e.reduce(((e,t)=>(e[t.level]=(e[t.level]||0)+1,e)),{})}})();return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md mb-6",children:[(0,i.jsxs)("div",{className:"flex flex-wrap justify-between items-center mb-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold",children:"Zarz\u0105dzanie personelem"}),(0,i.jsx)(je,{variant:"primary",icon:(0,i.jsx)(Oe,{className:"h-4 w-4"}),onClick:()=>{k(null),z("junior"),w(!0)},children:"Zatrudnij pracownika"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,i.jsxs)("div",{className:"bg-blue-50 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-blue-800",children:"\u0141\u0105czna liczba pracownik\xf3w"}),(0,i.jsx)("div",{className:"text-xl font-bold",children:S.totalStaff})]}),(0,i.jsxs)("div",{className:"bg-green-50 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-green-800",children:"\u0141\u0105czne wynagrodzenie miesi\u0119czne"}),(0,i.jsxs)("div",{className:"text-xl font-bold",children:[S.totalSalary.toLocaleString()," PLN"]})]}),(0,i.jsxs)("div",{className:"bg-purple-50 p-3 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-purple-800",children:"\u015aredni poziom umiej\u0119tno\u015bci"}),(0,i.jsxs)("div",{className:"text-xl font-bold",children:[S.averageSkill,"/10"]})]})]}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-3 border-t pt-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(Re,{className:"h-4 w-4 mr-1 text-gray-500"}),(0,i.jsx)("span",{className:"text-sm text-gray-700",children:"Filtruj:"})]}),(0,i.jsxs)("select",{value:l,onChange:e=>o(e.target.value),className:"text-sm border rounded px-2 py-1",children:[(0,i.jsx)("option",{value:"all",children:"Wszyscy pracownicy"}),g.map((e=>(0,i.jsx)("option",{value:e.id,children:e.name},e.id)))]}),(0,i.jsxs)("div",{className:"relative",children:[(0,i.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Szukaj...",className:"text-sm border rounded pl-8 pr-2 py-1 w-40"}),(0,i.jsx)(Ie,{className:"h-4 w-4 text-gray-400 absolute left-2 top-1.5"})]}),(0,i.jsxs)("div",{className:"flex items-center ml-auto",children:[(0,i.jsx)(Ae,{className:"h-4 w-4 mr-1 text-gray-500"}),(0,i.jsx)("span",{className:"text-sm text-gray-700",children:"Sortuj:"})]}),(0,i.jsxs)("select",{value:p,onChange:e=>h(e.target.value),className:"text-sm border rounded px-2 py-1",children:[(0,i.jsx)("option",{value:"name",children:"Imi\u0119 i nazwisko"}),(0,i.jsx)("option",{value:"skill",children:"Umiej\u0119tno\u015bci"}),(0,i.jsx)("option",{value:"experience",children:"Do\u015bwiadczenie"}),(0,i.jsx)("option",{value:"salary",children:"Wynagrodzenie"})]}),(0,i.jsxs)("select",{value:y,onChange:e=>x(e.target.value),className:"text-sm border rounded px-2 py-1",children:[(0,i.jsx)("option",{value:"asc",children:"Rosn\u0105co"}),(0,i.jsx)("option",{value:"desc",children:"Malej\u0105co"})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[E().map((e=>{const n=e.staffType.endsWith("s")?e.staffType.slice(0,-1):e.staffType;return(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 hover:shadow-md transition-shadow cursor-pointer",onClick:()=>t(e.id,n),children:[(0,i.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,i.jsx)("h3",{className:"font-bold",children:e.name}),(0,i.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:m(n)})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-1 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Poziom:"}),(0,i.jsx)("span",{className:"ml-1",children:f(e.level)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Umiej\u0119tno\u015b\u0107:"}),(0,i.jsxs)("span",{className:"ml-1 font-medium",children:[e.skill,"/10"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Do\u015bwiadczenie:"}),(0,i.jsxs)("span",{className:"ml-1",children:[e.experience," pkt"]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Wynagrodzenie:"}),(0,i.jsxs)("span",{className:"ml-1",children:[e.salary.toLocaleString()," PLN"]})]})]}),e.specialization&&(0,i.jsxs)("div",{className:"mt-2 text-sm",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Specjalizacja:"}),(0,i.jsx)("span",{className:"ml-1 font-medium",children:e.specialization})]}),e.assignedProject&&(0,i.jsx)("div",{className:"mt-2 bg-blue-50 p-2 rounded text-sm",children:(0,i.jsx)("span",{className:"text-blue-800",children:"Przypisany do projektu"})})]},e.id)})),0===E().length&&(0,i.jsx)("div",{className:"col-span-full bg-gray-50 p-4 rounded text-center text-gray-600",children:"all"===l&&""===c?"Nie masz jeszcze \u017cadnych pracownik\xf3w. Zatrudnij kogo\u015b, aby rozpocz\u0105\u0107!":"Brak pracownik\xf3w spe\u0142niaj\u0105cych kryteria wyszukiwania."})]}),(()=>{if(!j)return null;const e=b?((e,t)=>{const n={scout:15e3,developer:25e3,lawyer:3e4,envSpecialist:2e4,lobbyist:4e4}[e]||2e4,a={junior:1,mid:1.5,senior:2.2}[t]||1;return Math.round(n*a)})(b,N):0;return(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-xl p-6 w-full max-w-md",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Zatrudnij nowego pracownika"}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 mb-2",children:"Typ pracownika:"}),(0,i.jsx)("div",{className:"grid grid-cols-2 gap-2",children:g.map((e=>(0,i.jsxs)("button",{onClick:()=>k(e.id.endsWith("s")?e.id.slice(0,-1):e.id),className:"p-2 border rounded flex items-center "+(b===(e.id.endsWith("s")?e.id.slice(0,-1):e.id)?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:bg-gray-50"),children:[e.icon,(0,i.jsx)("span",{className:"ml-2",children:e.name})]},e.id)))})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 mb-2",children:"Poziom do\u015bwiadczenia:"}),(0,i.jsx)("div",{className:"grid grid-cols-3 gap-2",children:v.map((e=>(0,i.jsx)("button",{onClick:()=>z(e.id),className:"p-2 border rounded "+(N===e.id?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 hover:bg-gray-50"),children:e.name},e.id)))})]}),b&&(0,i.jsxs)("div",{className:"bg-gray-50 p-3 rounded mb-4",children:[(0,i.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,i.jsx)("span",{className:"font-medium",children:"Koszt zatrudnienia:"}),(0,i.jsxs)("span",{className:"font-bold",children:[e.toLocaleString()," PLN"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"font-medium",children:"Miesi\u0119czne wynagrodzenie:"}),(0,i.jsxs)("span",{className:"font-bold",children:[Math.round(.04*e).toLocaleString()," PLN"]})]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)(je,{variant:"secondary",onClick:()=>w(!1),children:"Anuluj"}),(0,i.jsx)(je,{variant:"primary",disabled:!b,onClick:()=>((e,t)=>{try{s.hireStaff(e,t),w(!1)}catch(n){r(n.message||"Nie uda\u0142o si\u0119 zatrudni\u0107 pracownika","error")}})(b,N),children:"Zatrudnij"})]})]})})})()]})},We=ee("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),Fe=ee("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),$e=ee("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]),Ue=e=>{var t;let{openFinancePanel:n}=e;const{state:a}=d(),r=e=>e.toLocaleString()+" PLN",s={cash:a.cash,totalInvestment:a.economicMetrics.totalInvestment||0,totalRevenue:a.economicMetrics.totalRevenue||0,totalExpenses:a.economicMetrics.totalExpenses||0,avgROI:a.economicMetrics.avgROI||0,projectsValue:a.economicMetrics.projectsValue||0,balance:(a.economicMetrics.totalRevenue||0)-(a.economicMetrics.totalExpenses||0),hasLoans:a.loans&&a.loans.length>0,totalLoansAmount:(null===(t=a.loans)||void 0===t?void 0:t.reduce(((e,t)=>e+t.remainingAmount),0))||0};return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,i.jsx)("h2",{className:"text-xl font-bold",children:"Finanse firmy"}),(0,i.jsx)(je,{variant:"primary",icon:(0,i.jsx)(We,{}),onClick:n,children:"Kredyty i finansowanie"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,i.jsxs)("div",{className:"p-4 bg-blue-50 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-blue-600",children:"Got\xf3wka"}),(0,i.jsx)("div",{className:"text-xl font-bold",children:r(s.cash)})]}),(0,i.jsxs)("div",{className:"p-4 bg-green-50 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-green-600",children:"Ca\u0142kowite przychody"}),(0,i.jsx)("div",{className:"text-xl font-bold",children:r(s.totalRevenue)})]}),(0,i.jsxs)("div",{className:"p-4 bg-red-50 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-red-600",children:"Ca\u0142kowite wydatki"}),(0,i.jsx)("div",{className:"text-xl font-bold",children:r(s.totalExpenses)})]}),(0,i.jsxs)("div",{className:"p-4 bg-purple-50 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-purple-600",children:"Bilans"}),(0,i.jsx)("div",{className:"text-xl font-bold "+(s.balance>=0?"text-green-600":"text-red-600"),children:r(s.balance)})]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md",children:[(0,i.jsxs)("div",{className:"flex items-center mb-4",children:[(0,i.jsx)("div",{className:"p-2 rounded-full bg-green-100 mr-3",children:(0,i.jsx)(Fe,{className:"h-5 w-5 text-green-600"})}),(0,i.jsx)("h3",{className:"font-bold text-lg",children:"Przychody"})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{children:"Sprzeda\u017c projekt\xf3w"}),(0,i.jsx)("span",{className:"font-medium",children:r(s.totalRevenue)})]}),(0,i.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{children:"Warto\u015b\u0107 projekt\xf3w"}),(0,i.jsx)("span",{className:"font-medium",children:r(s.projectsValue)})]})]})]}),(0,i.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md",children:[(0,i.jsxs)("div",{className:"flex items-center mb-4",children:[(0,i.jsx)("div",{className:"p-2 rounded-full bg-red-100 mr-3",children:(0,i.jsx)($e,{className:"h-5 w-5 text-red-600"})}),(0,i.jsx)("h3",{className:"font-bold text-lg",children:"Wydatki"})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{children:"Inwestycje w projekty"}),(0,i.jsx)("span",{className:"font-medium",children:r(s.totalInvestment)})]}),(0,i.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{children:"Koszty personelu"}),(0,i.jsx)("span",{className:"font-medium",children:r(Object.values(a.staff).flat().reduce(((e,t)=>e+(t.salary||0)),0))})]}),s.hasLoans&&(0,i.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{children:"Kredyty i po\u017cyczki"}),(0,i.jsx)("span",{className:"font-medium",children:r(s.totalLoansAmount)})]}),a.illegals.totalBribes>0&&(0,i.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{children:"Wydatki szarej strefy"}),(0,i.jsx)("span",{className:"font-medium",children:r(a.illegals.totalBribes)})]})]})]})]}),a.loans&&a.loans.length>0&&(0,i.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md",children:[(0,i.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"p-2 rounded-full bg-blue-100 mr-3",children:(0,i.jsx)(We,{className:"h-5 w-5 text-blue-600"})}),(0,i.jsx)("h3",{className:"font-bold text-lg",children:"Aktywne kredyty"})]}),(0,i.jsxs)("button",{onClick:n,className:"text-blue-600 hover:text-blue-800 flex items-center",children:[(0,i.jsx)("span",{children:"Zarz\u0105dzaj"}),(0,i.jsx)(ie,{className:"h-4 w-4 ml-1"})]})]}),(0,i.jsx)("div",{className:"space-y-3",children:a.loans.map((e=>(0,i.jsxs)("div",{className:"border p-3 rounded",children:[(0,i.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,i.jsx)("strong",{children:e.bankName}),(0,i.jsx)("span",{children:r(e.remainingAmount)})]}),(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:["Pozosta\u0142o ",e.remainingTerm," rat po ",r(e.monthlyPayment)]})]},e.id)))})]}),(0,i.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md",children:[(0,i.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Wska\u017aniki finansowe"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"p-3 bg-gray-50 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"\u015aredni ROI"}),(0,i.jsxs)("div",{className:"text-xl font-medium "+(s.avgROI>=0?"text-green-600":"text-red-600"),children:[(100*s.avgROI).toFixed(1),"%"]})]}),(0,i.jsxs)("div",{className:"p-3 bg-gray-50 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Warto\u015b\u0107 aktyw\xf3w"}),(0,i.jsx)("div",{className:"text-xl font-medium",children:r(s.cash+s.projectsValue)})]}),(0,i.jsxs)("div",{className:"p-3 bg-gray-50 rounded",children:[(0,i.jsx)("div",{className:"text-sm text-gray-600",children:"Zobowi\u0105zania"}),(0,i.jsx)("div",{className:"text-xl font-medium",children:r(s.totalLoansAmount)})]})]}),(0,i.jsx)("div",{className:"mt-4 text-sm text-gray-600",children:"Wi\u0119cej wska\u017anik\xf3w i narz\u0119dzi finansowych dost\u0119pnych w panelu finansowym."})]})]})},Be=ee("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),Ve=ee("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),qe=()=>{const{state:e}=d(),{state:t}=O(),n={name:e.name,founded:"2024",totalProjects:e.projects.length,completedProjects:e.projects.filter((e=>"ready_to_build"===e.status)).length,totalMW:e.totalPower,rtbMW:e.rtbPower,staffCount:Object.values(e.staff).reduce(((e,t)=>e+t.length),0),cash:e.cash,reputation:e.reputation},a=e=>e.toLocaleString()+" PLN";return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsx)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-2xl font-bold",children:n.name}),(0,i.jsxs)("p",{className:"text-gray-600",children:["Za\u0142o\u017cona w ",n.founded," roku"]})]}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Reputacja"}),(0,i.jsxs)("div",{className:"text-lg font-bold "+(r=n.reputation,r>=150?"text-green-600":r>=100?"text-blue-600":r>=50?"text-yellow-600":"text-red-600"),children:[n.reputation,"/200 (",(e=>e>=150?"Doskona\u0142a":e>=100?"Dobra":e>=50?"Przeci\u0119tna":e>=20?"Z\u0142a":"Fatalna")(n.reputation),")"]})]}),(0,i.jsxs)("div",{className:"text-right",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Got\xf3wka"}),(0,i.jsx)("div",{className:"text-lg font-bold text-green-600",children:a(n.cash)})]})]})]})}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md",children:[(0,i.jsxs)("div",{className:"flex items-center mb-4",children:[(0,i.jsx)("div",{className:"p-3 rounded-full bg-blue-100 mr-4",children:(0,i.jsx)(Te,{className:"h-6 w-6 text-blue-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-bold text-lg",children:"Projekty"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Podsumowanie projekt\xf3w"})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"Wszystkie projekty:"}),(0,i.jsx)("span",{className:"font-medium",children:n.totalProjects})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"Projekty RTB:"}),(0,i.jsx)("span",{className:"font-medium",children:n.completedProjects})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"\u0141\u0105czna moc:"}),(0,i.jsxs)("span",{className:"font-medium",children:[n.totalMW," MW"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"Moc RTB:"}),(0,i.jsxs)("span",{className:"font-medium",children:[n.rtbMW," MW"]})]})]})]}),(0,i.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md",children:[(0,i.jsxs)("div",{className:"flex items-center mb-4",children:[(0,i.jsx)("div",{className:"p-3 rounded-full bg-green-100 mr-4",children:(0,i.jsx)(ae,{className:"h-6 w-6 text-green-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-bold text-lg",children:"Personel"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Kadry firmy"})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"Liczba pracownik\xf3w:"}),(0,i.jsx)("span",{className:"font-medium",children:n.staffCount})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"Developery:"}),(0,i.jsx)("span",{className:"font-medium",children:e.staff.developers.length})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"Pozyskiwacze:"}),(0,i.jsx)("span",{className:"font-medium",children:e.staff.scouts.length})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"Prawnicy i lobby\u015bci:"}),(0,i.jsx)("span",{className:"font-medium",children:e.staff.lawyers.length+e.staff.lobbyists.length})]})]})]}),(0,i.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md",children:[(0,i.jsxs)("div",{className:"flex items-center mb-4",children:[(0,i.jsx)("div",{className:"p-3 rounded-full bg-purple-100 mr-4",children:(0,i.jsx)(Fe,{className:"h-6 w-6 text-purple-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-bold text-lg",children:"Wyniki"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Statystyki firmy"})]})]}),(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"\u0141\u0105czne inwestycje:"}),(0,i.jsx)("span",{className:"font-medium",children:a(e.economicMetrics.totalInvestment||0)})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"\u0141\u0105czne przychody:"}),(0,i.jsx)("span",{className:"font-medium",children:a(e.economicMetrics.totalRevenue||0)})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"\u0141\u0105czne wydatki:"}),(0,i.jsx)("span",{className:"font-medium",children:a(e.economicMetrics.totalExpenses||0)})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"\u015aredni ROI:"}),(0,i.jsxs)("span",{className:"font-medium",children:[(100*(e.economicMetrics.avgROI||0)).toFixed(1),"%"]})]})]})]})]}),(0,i.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md",children:[(0,i.jsxs)("div",{className:"flex items-center mb-4",children:[(0,i.jsx)("div",{className:"p-3 rounded-full bg-yellow-100 mr-4",children:(0,i.jsx)(Be,{className:"h-6 w-6 text-yellow-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-bold text-lg",children:"Reputacja firmy"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Historia zmian reputacji"})]})]}),e.reputationHistory.length>0?(0,i.jsx)("div",{className:"divide-y",children:e.reputationHistory.slice(-5).reverse().map(((e,t)=>(0,i.jsx)("div",{className:"py-2",children:(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"font-medium",children:["Tura ",e.turn,": "]}),(0,i.jsx)("span",{className:"text-gray-700",children:e.reason})]}),(0,i.jsxs)("span",{className:e.change>=0?"text-green-600":"text-red-600",children:[e.change>0?"+":"",e.change]})]})},t)))}):(0,i.jsx)("p",{className:"text-gray-600 italic",children:"Brak historii zmian reputacji"})]}),e.illegals.illegalActionHistory.length>0&&(0,i.jsxs)("div",{className:"bg-white p-5 rounded-lg shadow-md",children:[(0,i.jsxs)("div",{className:"flex items-center mb-4",children:[(0,i.jsx)("div",{className:"p-3 rounded-full bg-red-100 mr-4",children:(0,i.jsx)(Ve,{className:"h-6 w-6 text-red-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-bold text-lg",children:"Dzia\u0142ania szarej strefy"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Historia nielegalnych dzia\u0142a\u0144"})]})]}),(0,i.jsx)("div",{className:"divide-y",children:e.illegals.illegalActionHistory.slice(-5).reverse().map(((e,t)=>(0,i.jsxs)("div",{className:"py-2",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"font-medium",children:["Tura ",e.turn,": "]}),(0,i.jsx)("span",{className:"text-gray-700",children:e.type.replace(/_/g," ")})]}),(0,i.jsx)("span",{className:"text-red-600",children:a(e.cost)})]}),(0,i.jsxs)("div",{className:"text-sm text-gray-600",children:["Cel: ",e.target]})]},t)))})]})]});var r},He=ee("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Ze=ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),Ge=ee("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]),Ke=ee("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Qe=ee("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]),Je=ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),Ye=ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]),Xe=ee("BarChart2",[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]]),et=ee("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),tt=ee("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),nt=ee("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]),at=()=>{const{state:e,dispatch:t}=d(),{state:n,showNotification:r}=O(),{projects:s,accelerateProject:l,sendProjectToMarket:o,applyIllegalMethod:c}=he(),[u,m]=(0,a.useState)(null),[f,h]=(0,a.useState)("all"),[y,x]=(0,a.useState)("progress"),[g,v]=(0,a.useState)("desc"),j=(0,a.useMemo)((()=>e.projects.filter((e=>"all"===f||("pv"===f?"PV"===e.technology:"wf"===f?"WF"===e.technology:"development"===f?"ready_to_build"!==e.status:"rtb"!==f||"ready_to_build"===e.status)))),[e.projects,f]),w=(0,a.useMemo)((()=>[...j].sort(((e,t)=>{if("progress"===y){const n=e.progress||0,a=t.progress||0;return"asc"===g?n-a:a-n}if("power"===y)return"asc"===g?e.power-t.power:t.power-e.power;if("stage"===y){const n=["land_acquisition","environmental_decision","zoning_conditions","grid_connection","ready_to_build"],a=n.indexOf(e.status),r=n.indexOf(t.status);return"asc"===g?a-r:r-a}if("value"===y){const n=e=>15e4*e.power*({land_acquisition:.15,environmental_decision:.35,zoning_conditions:.55,grid_connection:.85,ready_to_build:1}[e.status]||.1),a=n(e),r=n(t);return"asc"===g?a-r:r-a}return 0}))),[j,y,g]),b=(0,a.useMemo)((()=>{const t={total:e.projects.length,pv:0,wf:0,rtb:0,development:0,totalPower:0,totalEstimatedValue:0};return e.projects.forEach((e=>{"PV"===e.technology&&t.pv++,"WF"===e.technology&&t.wf++,"ready_to_build"===e.status&&t.rtb++,"ready_to_build"!==e.status&&t.development++,t.totalPower+=e.power||0;const n=15e4*e.power;t.totalEstimatedValue+=n*({land_acquisition:.15,environmental_decision:.35,zoning_conditions:.55,grid_connection:.85,ready_to_build:1}[e.status]||.1)})),t}),[e.projects]),k=e=>{const t=["land_acquisition","environmental_decision","zoning_conditions","grid_connection","ready_to_build"],n=t.indexOf(e.status),a=t.length,r=n/(a-1)*100;let s=0;"ready_to_build"!==e.status&&e.progress&&(s=e.progress/100*(100/(a-1)));const l=r+s;return(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5 my-1",children:(0,i.jsx)("div",{className:`${o=e.status,{land_acquisition:"bg-green-300",environmental_decision:"bg-green-400",zoning_conditions:"bg-green-500",grid_connection:"bg-green-600",ready_to_build:"bg-green-700"}[o]||"bg-green-300"} h-2.5 rounded-full`,style:{width:`${l}%`}})});var o},N=t=>{const n="ready_to_build"===t.status;return(0,i.jsxs)("div",{className:"flex space-x-2 mt-2",children:[!n&&(0,i.jsxs)("button",{onClick:()=>{l(t.id)},className:"px-2 py-1 bg-blue-500 text-white rounded text-xs flex items-center",children:[(0,i.jsx)(Ze,{className:"h-3 w-3 mr-1"}),"Przyspiesz"]}),n&&(0,i.jsxs)("button",{onClick:()=>{o(t.id)},className:"px-2 py-1 bg-green-500 text-white rounded text-xs flex items-center",children:[(0,i.jsx)(Ge,{className:"h-3 w-3 mr-1"}),"Wystaw na rynek"]}),!n&&e.reputation>=120&&(0,i.jsxs)("button",{onClick:()=>{c(t.id,"bribery")},className:"px-2 py-1 bg-gray-700 text-white rounded text-xs flex items-center",children:[(0,i.jsx)(Ke,{className:"h-3 w-3 mr-1"}),"Szara strefa"]})]})};return(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,i.jsxs)("h2",{className:"text-xl font-semibold mb-4 flex items-center",children:[(0,i.jsx)(Te,{className:"h-6 w-6 mr-2 text-blue-600"}),"Podsumowanie projekt\xf3w"]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-3 mb-4",children:[(0,i.jsxs)("div",{className:"bg-blue-50 p-3 rounded-md",children:[(0,i.jsx)("div",{className:"text-xs text-blue-800",children:"Wszystkie projekty"}),(0,i.jsx)("div",{className:"text-xl font-bold text-blue-900",children:b.total})]}),(0,i.jsxs)("div",{className:"bg-yellow-50 p-3 rounded-md",children:[(0,i.jsx)("div",{className:"text-xs text-yellow-800",children:"Fotowoltaika (PV)"}),(0,i.jsx)("div",{className:"text-xl font-bold text-yellow-900",children:b.pv})]}),(0,i.jsxs)("div",{className:"bg-green-50 p-3 rounded-md",children:[(0,i.jsx)("div",{className:"text-xs text-green-800",children:"Farmy wiatrowe (WF)"}),(0,i.jsx)("div",{className:"text-xl font-bold text-green-900",children:b.wf})]}),(0,i.jsxs)("div",{className:"bg-purple-50 p-3 rounded-md",children:[(0,i.jsx)("div",{className:"text-xs text-purple-800",children:"W developmencie"}),(0,i.jsx)("div",{className:"text-xl font-bold text-purple-900",children:b.development})]}),(0,i.jsxs)("div",{className:"bg-indigo-50 p-3 rounded-md",children:[(0,i.jsx)("div",{className:"text-xs text-indigo-800",children:"Ready-to-Build"}),(0,i.jsx)("div",{className:"text-xl font-bold text-indigo-900",children:b.rtb})]}),(0,i.jsxs)("div",{className:"bg-red-50 p-3 rounded-md",children:[(0,i.jsx)("div",{className:"text-xs text-red-800",children:"Moc ca\u0142kowita"}),(0,i.jsxs)("div",{className:"text-xl font-bold text-red-900",children:[b.totalPower," MW"]})]})]}),(0,i.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4 items-center text-sm",children:[(0,i.jsx)("div",{className:"font-medium",children:"Filtruj:"}),(0,i.jsxs)("select",{value:f,onChange:e=>h(e.target.value),className:"border rounded px-2 py-1 text-sm",children:[(0,i.jsx)("option",{value:"all",children:"Wszystkie projekty"}),(0,i.jsx)("option",{value:"pv",children:"Fotowoltaika (PV)"}),(0,i.jsx)("option",{value:"wf",children:"Farmy wiatrowe (WF)"}),(0,i.jsx)("option",{value:"development",children:"W developmencie"}),(0,i.jsx)("option",{value:"rtb",children:"Ready-to-Build"})]}),(0,i.jsx)("div",{className:"font-medium ml-4",children:"Sortuj:"}),(0,i.jsxs)("select",{value:y,onChange:e=>x(e.target.value),className:"border rounded px-2 py-1 text-sm",children:[(0,i.jsx)("option",{value:"progress",children:"Post\u0119p"}),(0,i.jsx)("option",{value:"power",children:"Moc (MW)"}),(0,i.jsx)("option",{value:"stage",children:"Etap"}),(0,i.jsx)("option",{value:"value",children:"Warto\u015b\u0107"})]}),(0,i.jsx)("button",{onClick:()=>v("asc"===g?"desc":"asc"),className:"border rounded px-2 py-1 flex items-center",children:"asc"===g?(0,i.jsx)(Qe,{className:"h-4 w-4"}):(0,i.jsx)(Je,{className:"h-4 w-4"})})]}),w.length>0?(0,i.jsx)("div",{className:"space-y-3",children:w.map((e=>{return(0,i.jsxs)("div",{className:"border rounded-lg overflow-hidden",children:[(0,i.jsxs)("div",{className:"bg-gray-50 p-3 flex items-center justify-between cursor-pointer",onClick:()=>m(u===e.id?null:e.id),children:[(0,i.jsxs)("div",{className:"flex items-center space-x-3",children:[(t=e.technology,"PV"===t?(0,i.jsx)(de,{className:"h-4 w-4 text-yellow-500"}):"WF"===t?(0,i.jsx)(re,{className:"h-4 w-4 text-blue-500"}):(0,i.jsx)(He,{className:"h-4 w-4 text-yellow-500"})),(0,i.jsx)("span",{className:"font-medium",children:e.name}),(0,i.jsxs)("span",{className:"text-sm text-gray-500",children:[e.power," MW"]})]}),(0,i.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,i.jsx)("div",{className:"text-sm font-medium",children:p(e.status)}),u===e.id?(0,i.jsx)(Qe,{className:"h-4 w-4"}):(0,i.jsx)(Je,{className:"h-4 w-4"})]})]}),(0,i.jsx)("div",{className:"px-3 py-2 bg-white",children:k(e)}),u===e.id&&(0,i.jsx)("div",{className:"p-3 bg-white border-t",children:(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("h4",{className:"text-sm font-medium flex items-center",children:[(0,i.jsx)(Ye,{className:"h-4 w-4 mr-1 text-gray-600"}),"Lokalizacja"]}),(0,i.jsxs)("p",{className:"text-sm mt-1",children:[e.regionId||"Nie okre\u015blono",",",e.countyId?` pow. ${e.countyId}`:""]}),(0,i.jsxs)("h4",{className:"text-sm font-medium flex items-center mt-3",children:[(0,i.jsx)(Xe,{className:"h-4 w-4 mr-1 text-gray-600"}),"Parametry"]}),(0,i.jsxs)("p",{className:"text-sm mt-1",children:["Moc: ",e.power," MW",(0,i.jsx)("br",{}),e.area?`Powierzchnia: ${e.area} ha`:""]})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h4",{className:"text-sm font-medium flex items-center",children:[(0,i.jsx)(et,{className:"h-4 w-4 mr-1 text-gray-600"}),"Status i post\u0119p"]}),(0,i.jsxs)("p",{className:"text-sm mt-1",children:["Etap: ",p(e.status),(0,i.jsx)("br",{}),"Post\u0119p w etapie: ",e.progress||0,"%",(0,i.jsx)("br",{}),e.startDate&&`Start: ${new Date(e.startDate).toLocaleDateString()}`]}),(0,i.jsxs)("h4",{className:"text-sm font-medium flex items-center mt-3",children:[(0,i.jsx)(ae,{className:"h-4 w-4 mr-1 text-gray-600"}),"Zesp\xf3\u0142"]}),(0,i.jsx)("p",{className:"text-sm mt-1",children:e.assignedStaff&&Object.keys(e.assignedStaff).length>0?(0,i.jsxs)(i.Fragment,{children:["Przydzielonych pracownik\xf3w: ",Object.keys(e.assignedStaff).length]}):"Brak przydzielonych pracownik\xf3w"})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("h4",{className:"text-sm font-medium flex items-center",children:[(0,i.jsx)(tt,{className:"h-4 w-4 mr-1 text-gray-600"}),"Finanse"]}),(0,i.jsxs)("p",{className:"text-sm mt-1",children:["Koszt ca\u0142kowity: ",(e.totalCost||0).toLocaleString()," z\u0142",(0,i.jsx)("br",{}),"Wydano: ",(e.spentCost||0).toLocaleString()," z\u0142",(0,i.jsx)("br",{}),"Szacowana warto\u015b\u0107: ",(15e4*e.power*("ready_to_build"===e.status?1:.5)).toLocaleString()," z\u0142"]}),N(e)]})]})})]},e.id);var t}))}):(0,i.jsxs)("div",{className:"bg-gray-50 p-8 rounded-lg text-center",children:[(0,i.jsx)("div",{className:"text-gray-400 mb-3",children:(0,i.jsx)(nt,{className:"h-10 w-10 mx-auto"})}),(0,i.jsx)("p",{className:"text-gray-600",children:"Brak projekt\xf3w spe\u0142niaj\u0105cych kryteria filtrowania"}),(0,i.jsx)("p",{className:"text-sm text-gray-400 mt-2",children:"Zmie\u0144 filtry lub rozpocznij nowe projekty"})]})]})},rt=ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),it=e=>{let{title:t,isOpen:n,onClose:a,children:r,variant:s="default"}=e;if(!n)return null;return(0,i.jsxs)("div",{className:`fixed top-0 right-0 h-full w-96 shadow-lg border-l-4 z-30 transition-all duration-300 ease-in-out ${(()=>{switch(s){case"illegal":return"border-l-red-600 bg-red-50";case"staff":return"border-l-blue-600 bg-blue-50";case"project":return"border-l-green-600 bg-green-50";case"finance":return"border-l-purple-600 bg-purple-50";default:return"border-l-gray-600 bg-gray-50"}})()}`,style:{transform:n?"translateX(0)":"translateX(100%)",overflowY:"auto"},children:[(0,i.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,i.jsx)("h2",{className:"text-xl font-bold",children:t}),(0,i.jsx)("button",{onClick:a,className:"p-1 rounded-full hover:bg-gray-200 transition-colors",children:(0,i.jsx)(rt,{size:20})})]}),(0,i.jsx)("div",{className:"p-4",children:r})]})},st=ee("FileX",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"9.5",x2:"14.5",y1:"12.5",y2:"17.5",key:"izs6du"}],["line",{x1:"14.5",x2:"9.5",y1:"12.5",y2:"17.5",key:"1lehlj"}]]),lt=ee("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),ot=ee("UserX",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]),ct=ee("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]),dt=ee("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),ut=ee("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),pt=e=>{let{onClose:t}=e;const{state:n,dispatch:r}=d(),{state:s,showNotification:l}=O(),{dispatch:o}=v(),[c,u]=(0,a.useState)(null),p=[{id:"bribe_officials",name:"Przekupstwo urz\u0119dnik\xf3w",description:"Wykorzystaj \u0142ap\xf3wki, aby przyspieszy\u0107 proces administracyjny i uzyska\u0107 przychylne decyzje.",icon:(0,i.jsx)(ne,{className:"h-5 w-5 text-yellow-600"}),riskLevel:"high",cost:5e4,reputation:-10,effects:"Przyspiesza proces uzyskiwania decyzji administracyjnych o 40% dla wskazanego projektu.",requirements:"Minimum 100 000 PLN i reputacja > 30",details:"Przekupstwo urz\u0119dnik\xf3w to powszechna praktyka w krajach o wysokim poziomie korupcji. W sektorze OZE mo\u017ce dotyczy\u0107 przyspieszenia wydania decyzji \u015brodowiskowych, warunk\xf3w zabudowy lub przy\u0142\u0105czenia do sieci.",requiredCorruption:10,targetType:"project"},{id:"falsify_documents",name:"Fa\u0142szowanie dokumentacji",description:"Zmodyfikuj dokumentacj\u0119 techniczn\u0105 lub \u015brodowiskow\u0105, aby ukry\u0107 potencjalne problemy.",icon:(0,i.jsx)(st,{className:"h-5 w-5 text-red-600"}),riskLevel:"extreme",cost:1e5,reputation:-20,effects:"Eliminuje negatywne czynniki techniczne lub \u015brodowiskowe blokuj\u0105ce rozw\xf3j projektu.",requirements:"Konieczne posiadanie nielegalnej bazy danych i reputacja > 50",details:"Fa\u0142szowanie dokumentacji to powa\u017cne przest\u0119pstwo, kt\xf3re mo\u017ce dotyczy\u0107 raport\xf3w oddzia\u0142ywania na \u015brodowisko, bada\u0144 ornitologicznych lub dokumentacji technicznej. Wykrycie mo\u017ce skutkowa\u0107 nie tylko karami finansowymi, ale nawet odpowiedzialno\u015bci\u0105 karn\u0105.",requiredCorruption:30,targetType:"project"},{id:"insider_info",name:"Informacje poufne",description:"Uzyskaj dost\u0119p do poufnych informacji o planach przestrzennych i aukcjach energii.",icon:(0,i.jsx)(lt,{className:"h-5 w-5 text-blue-600"}),riskLevel:"medium",cost:25e3,reputation:-5,effects:"Udost\u0119pnia informacje o najlepszych lokalizacjach i nadchodz\u0105cych aukcjach, zwi\u0119kszaj\u0105c szanse sukcesu.",requirements:"Posiadanie co najmniej jednego lobbysty",details:"Wykorzystanie informacji poufnych to dzia\u0142alno\u015b\u0107 na granicy prawa, kt\xf3ra polega na uzyskiwaniu dost\u0119pu do niepublicznych danych o planach zagospodarowania, przetargach czy zmianach regulacyjnych. Mo\u017ce dawa\u0107 znacz\u0105c\u0105 przewag\u0119 konkurencyjn\u0105.",requiredCorruption:5,targetType:"company"},{id:"intimidate_landowners",name:"Zastraszanie w\u0142a\u015bcicieli grunt\xf3w",description:"Wywieranie presji na w\u0142a\u015bcicieli grunt\xf3w, aby sprzedali ziemi\u0119 po zani\u017conej cenie.",icon:(0,i.jsx)(ot,{className:"h-5 w-5 text-purple-600"}),riskLevel:"high",cost:3e4,reputation:-15,effects:"Obni\u017ca koszty zakupu grunt\xf3w o 30-50%.",requirements:"Reputacja > 40",details:"Zastraszanie w\u0142a\u015bcicieli grunt\xf3w to metoda nieetyczna i nielegalna, stosowana przez nieuczciwych deweloper\xf3w. Polega na wywieraniu presji poprzez gro\u017aby lub wykorzystywanie luk prawnych, aby zmusi\u0107 w\u0142a\u015bcicieli do sprzeda\u017cy po zani\u017conych cenach.",requiredCorruption:20,targetType:"project"},{id:"build_corruption_network",name:"Budowa sieci korupcyjnej",description:"Rozwijaj sie\u0107 kontakt\xf3w w urz\u0119dach i instytucjach kontrolnych, aby u\u0142atwi\u0107 przysz\u0142e dzia\u0142ania.",icon:(0,i.jsx)(ct,{className:"h-5 w-5 text-green-600"}),riskLevel:"medium",cost:2e5,reputation:-10,effects:"Zwi\u0119ksza poziom sieci korupcyjnej o 10 punkt\xf3w, obni\u017caj\u0105c koszty przysz\u0142ych nielegalnych dzia\u0142a\u0144.",requirements:"Minimum 200 000 PLN",details:"Budowa sieci korupcyjnej to d\u0142ugofalowa inwestycja w nieformalne kontakty z urz\u0119dnikami, politykami i przedstawicielami instytucji kontrolnych. Im silniejsza sie\u0107, tym \u0142atwiejsze i ta\u0144sze staj\u0105 si\u0119 przysz\u0142e nielegalne dzia\u0142ania.",requiredCorruption:0,targetType:"company"},{id:"sabotage_competitors",name:"Sabota\u017c konkurencji",description:"Zlecenie dzia\u0142a\u0144 sabota\u017cowych przeciwko konkurencyjnym projektom w regionie.",icon:(0,i.jsx)(dt,{className:"h-5 w-5 text-orange-600"}),riskLevel:"extreme",cost:15e4,reputation:-25,effects:"Op\xf3\u017ania projekty konkurencji w regionie o 3-6 miesi\u0119cy.",requirements:"Reputacja > 60 i poziom sieci korupcyjnej > 30",details:"Sabota\u017c konkurencji to bezpo\u015brednie dzia\u0142ania wymierzone w projekty konkurencyjnych firm. Mo\u017ce obejmowa\u0107 manipulowanie konsultacjami spo\u0142ecznymi, sztuczne wywo\u0142ywanie protest\xf3w lub nawet fizyczne uszkodzenia infrastruktury. Niesie wysokie ryzyko wykrycia i powa\u017cnych konsekwencji prawnych.",requiredCorruption:40,targetType:"region"},{id:"create_illegal_database",name:"Stw\xf3rz nielegaln\u0105 baz\u0119 danych",description:"Zlecenie stworzenia bazy danych zawieraj\u0105cej poufne informacje o urz\u0119dnikach, planach i procedurach.",icon:(0,i.jsx)(ut,{className:"h-5 w-5 text-gray-600"}),riskLevel:"low",cost:75e3,reputation:-5,effects:"Odblokowuje dodatkowe nielegalne akcje i zwi\u0119ksza skuteczno\u015b\u0107 istniej\u0105cych o 20%.",requirements:"Minimum 75 000 PLN",details:"Nielegalna baza danych to zbi\xf3r poufnych informacji o urz\u0119dnikach, procedurach i lukach prawnych. Jej posiadanie umo\u017cliwia bardziej precyzyjne planowanie nielegalnych dzia\u0142a\u0144 i zwi\u0119ksza ich skuteczno\u015b\u0107. Pozyskanie takich danych wymaga zaanga\u017cowania os\xf3b z dost\u0119pem do poufnych informacji.",requiredCorruption:0,targetType:"company"}],m=e=>!(e.requirements.includes("minimum")&&n.cash<e.cost)&&(!(e.requirements.includes("reputacja")&&n.reputation<parseInt(e.requirements.match(/reputacja > (\d+)/)[1]))&&(!(e.requiredCorruption>n.illegals.corruptionNetwork)&&(!("falsify_documents"===e.id&&!n.illegals.hasIllegalDatabase)&&(("insider_info"!==e.id||0!==n.staff.lobbyists.length)&&("create_illegal_database"!==e.id||!n.illegals.hasIllegalDatabase))))),f=e=>{switch(e){case"low":return(0,i.jsx)("span",{className:"text-green-600 font-medium",children:"Niskie"});case"medium":return(0,i.jsx)("span",{className:"text-yellow-600 font-medium",children:"\u015arednie"});case"high":return(0,i.jsx)("span",{className:"text-orange-600 font-medium",children:"Wysokie"});case"extreme":return(0,i.jsx)("span",{className:"text-red-600 font-medium",children:"Ekstremalne"});default:return(0,i.jsx)("span",{className:"text-gray-600",children:"Nieznane"})}},h=e=>{const t=m(e);return(0,i.jsxs)("div",{className:"border rounded-lg p-4 mb-4 hover:shadow-md transition-shadow",children:[(0,i.jsxs)("div",{className:"flex items-start mb-2",children:[(0,i.jsx)("div",{className:"mr-3",children:e.icon}),(0,i.jsxs)("div",{className:"flex-grow",children:[(0,i.jsx)("h3",{className:"font-bold text-gray-800",children:e.name}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:e.description})]}),(0,i.jsxs)("div",{className:"ml-2 text-right",children:[(0,i.jsxs)("div",{className:"text-sm mb-1",children:["Ryzyko: ",f(e.riskLevel)]}),(0,i.jsxs)("div",{className:"text-sm",children:["Koszt: ",(0,i.jsxs)("span",{className:"font-medium",children:[e.cost.toLocaleString()," PLN"]})]})]})]}),(0,i.jsxs)("div",{className:"mt-2 space-y-2 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Efekt:"})," ",e.effects]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Wymagania:"})," ",e.requirements]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Wp\u0142yw na reputacj\u0119:"})," ",(0,i.jsx)("span",{className:"text-red-600",children:e.reputation})]})]}),(0,i.jsx)("div",{className:"mt-3",children:(0,i.jsx)(je,{onClick:()=>(e=>{if(m(e))if(n.cash<e.cost)l(`Nie masz wystarczaj\u0105cych \u015brodk\xf3w (potrzeba ${e.cost.toLocaleString()} PLN)`,"error");else switch(e.id){case"create_illegal_database":r({type:"USE_ILLEGAL_ACTION",payload:{actionType:e.id,target:"company",bribeCost:e.cost,corruptionChange:5,updateCorruption:!0,riskIncrease:10,turn:s.turn}}),r({type:"UPDATE_ILLEGAL_DATABASE",payload:{hasIllegalDatabase:!0}}),r({type:"UPDATE_REPUTATION",payload:{change:e.reputation,reason:"Stworzenie nielegalnej bazy danych",turn:s.turn}}),o({type:"ADD_EVENT",payload:{id:Date.now(),type:"illegal_activity",title:"Stworzenie nielegalnej bazy danych",description:"Stworzy\u0142e\u015b nielegaln\u0105 baz\u0119 danych, kt\xf3ra umo\u017cliwi Ci bardziej skuteczne planowanie nielegalnych dzia\u0142a\u0144.",severity:"warning",turn:s.turn,expires:s.turn+10}}),l("Stworzy\u0142e\u015b nielegaln\u0105 baz\u0119 danych!","success");break;case"build_corruption_network":r({type:"USE_ILLEGAL_ACTION",payload:{actionType:e.id,target:"company",bribeCost:e.cost,corruptionChange:10,updateCorruption:!0,riskIncrease:15,turn:s.turn}}),r({type:"UPDATE_REPUTATION",payload:{change:e.reputation,reason:"Rozbudowa sieci korupcyjnej",turn:s.turn}}),o({type:"ADD_EVENT",payload:{id:Date.now(),type:"illegal_activity",title:"Rozbudowa sieci korupcyjnej",description:"Rozwin\u0105\u0142e\u015b swoj\u0105 sie\u0107 kontakt\xf3w korupcyjnych, co u\u0142atwi Ci przysz\u0142e nielegalne dzia\u0142ania.",severity:"warning",turn:s.turn,expires:s.turn+15}}),l("Rozbudowa\u0142e\u015b swoj\u0105 sie\u0107 korupcyjn\u0105!","success");break;default:u(e)}else l("Nie mo\u017cesz wykona\u0107 tej akcji - nie spe\u0142niasz wymaga\u0144!","error")})(e),disabled:!t,variant:t?"warning":"disabled",className:"w-full",icon:(0,i.jsx)(oe,{className:"h-4 w-4"}),children:t?"Wykonaj akcj\u0119":"Niedost\u0119pne"})})]})};return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center mb-4",children:[(0,i.jsx)(oe,{className:"h-6 w-6 text-red-600 mr-2"}),(0,i.jsx)("h2",{className:"text-xl font-bold",children:"Szara strefa"})]}),(0,i.jsx)("div",{className:"bg-red-100 border border-red-300 rounded-lg p-3 mb-4",children:(0,i.jsxs)("p",{className:"text-red-800 text-sm",children:[(0,i.jsx)("strong",{children:"UWAGA:"})," Dzia\u0142ania w szarej strefie s\u0105 nielegalne i wi\u0105\u017c\u0105 si\u0119 z ryzykiem. Wykrycie mo\u017ce skutkowa\u0107 karami finansowymi, utrat\u0105 reputacji, a nawet zako\u0144czeniem gry."]})}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("h3",{className:"font-bold mb-2",children:"Tw\xf3j status:"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{className:"bg-white rounded p-2 shadow-sm",children:[(0,i.jsx)("div",{className:"text-gray-600 text-sm",children:"Sie\u0107 korupcyjna:"}),(0,i.jsxs)("div",{className:"font-medium",children:[n.illegals.corruptionNetwork,"/100"]})]}),(0,i.jsxs)("div",{className:"bg-white rounded p-2 shadow-sm",children:[(0,i.jsx)("div",{className:"text-gray-600 text-sm",children:"Ryzyko audytu:"}),(0,i.jsxs)("div",{className:"font-medium",children:[n.illegals.auditRisk,"%"]})]}),(0,i.jsxs)("div",{className:"bg-white rounded p-2 shadow-sm",children:[(0,i.jsx)("div",{className:"text-gray-600 text-sm",children:"Baza danych:"}),(0,i.jsx)("div",{className:"font-medium",children:n.illegals.hasIllegalDatabase?"Posiadasz":"Brak"})]}),(0,i.jsxs)("div",{className:"bg-white rounded p-2 shadow-sm",children:[(0,i.jsx)("div",{className:"text-gray-600 text-sm",children:"\u0141ap\xf3wki wydane:"}),(0,i.jsxs)("div",{className:"font-medium",children:[n.illegals.totalBribes.toLocaleString()," PLN"]})]})]})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("h3",{className:"font-bold mb-2",children:"Dost\u0119pne akcje:"}),(0,i.jsx)("div",{className:"space-y-3",children:p.map((e=>h(e)))})]})]})},mt=ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),ft=ee("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),ht=ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),yt=e=>{var t,n,a,r,s;let{staffId:l,staffType:o,onClose:c,onFire:u,onTrain:p,onAssign:h}=e;const{state:y}=d(),{state:x}=O(),g=o.endsWith("s")?o:`${o}s`,v=null===(t=y.staff[g])||void 0===t?void 0:t.find((e=>e.id===l));if(!v)return(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("div",{className:"bg-red-100 p-4 rounded",children:(0,i.jsx)("p",{className:"text-red-800",children:"Nie znaleziono pracownika."})}),(0,i.jsx)(je,{onClick:c,className:"mt-4",children:"Zamknij"})]});const j=e=>`${e.toLocaleString()} PLN / mies.`,w=y.projects.find((e=>e.id===v.assignedProject)),b=(null===(n=v.traits)||void 0===n?void 0:n.filter((e=>e.effect>0)))||[],k=(null===(a=v.traits)||void 0===a?void 0:a.filter((e=>e.effect<0)))||[],N=(null===(r=v.traits)||void 0===r?void 0:r.filter((e=>0===e.effect)))||[],z=e=>(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("span",{className:(e.effect>0?"text-green-600":e.effect<0?"text-red-600":"text-gray-600")+" font-medium mr-2",children:e.name}),(0,i.jsx)("span",{className:"text-sm text-gray-600",children:e.description})]},e.name);return(0,i.jsxs)("div",{className:"overflow-y-auto",children:[(0,i.jsxs)("div",{className:"flex items-center mb-6",children:[(0,i.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center mr-4",children:(0,i.jsx)(mt,{className:"h-6 w-6 text-blue-600"})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h2",{className:"text-xl font-bold",children:v.name}),(0,i.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,i.jsx)(Te,{className:"h-4 w-4 mr-1"}),(0,i.jsxs)("span",{children:[m(o)," (",f(v.level),")"]})]})]})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("h3",{className:"font-bold text-lg mb-2 flex items-center",children:[(0,i.jsx)(ft,{className:"h-5 w-5 mr-2 text-purple-600"}),"Umiej\u0119tno\u015bci i rozw\xf3j"]}),(0,i.jsxs)("div",{className:"bg-white rounded shadow p-4",children:[(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"Poziom umiej\u0119tno\u015bci:"}),(0,i.jsxs)("span",{className:"font-medium",children:[v.skill,"/10"]})]}),(0,i.jsx)(we,{value:10*v.skill,max:100,colorClass:"bg-purple-500"})]}),(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"Do\u015bwiadczenie:"}),(0,i.jsxs)("span",{className:"font-medium",children:[v.experience," pkt"]})]}),(0,i.jsx)(we,{value:v.experience%100,max:100,colorClass:"bg-blue-500"}),(0,i.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:["Do awansu: ",100-v.experience%100," pkt"]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-gray-700 mb-1",children:"Specjalizacja:"}),(0,i.jsx)("div",{className:"font-medium",children:v.specialization||"Brak"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-gray-700 mb-1",children:"Odbyte szkolenia:"}),(0,i.jsx)("div",{className:"font-medium",children:(null===(s=v.training)||void 0===s?void 0:s.length)||0})]})]})]}),(0,i.jsxs)("div",{className:"flex gap-2 mt-3",children:[(0,i.jsx)(je,{onClick:()=>p(l,o),variant:"primary",className:"flex-1",icon:(0,i.jsx)(Fe,{className:"h-4 w-4"}),children:"Trenuj"}),(0,i.jsx)(je,{onClick:()=>h(l,o),variant:"secondary",className:"flex-1",icon:(0,i.jsx)(Te,{className:"h-4 w-4"}),children:"Przydziel do projektu"})]})]}),v.traits&&v.traits.length>0&&(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h3",{className:"font-bold text-lg mb-2",children:"Cechy charakteru"}),(0,i.jsxs)("div",{className:"bg-white rounded shadow p-4",children:[b.length>0&&(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("h4",{className:"font-medium text-green-600 mb-1",children:"Pozytywne:"}),(0,i.jsx)("div",{className:"space-y-1",children:b.map(z)})]}),N.length>0&&(0,i.jsxs)("div",{className:"mb-3",children:[(0,i.jsx)("h4",{className:"font-medium text-gray-600 mb-1",children:"Neutralne:"}),(0,i.jsx)("div",{className:"space-y-1",children:N.map(z)})]}),k.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium text-red-600 mb-1",children:"Negatywne:"}),(0,i.jsx)("div",{className:"space-y-1",children:k.map(z)})]})]})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("h3",{className:"font-bold text-lg mb-2 flex items-center",children:[(0,i.jsx)(et,{className:"h-5 w-5 mr-2 text-blue-600"}),"Historia zatrudnienia"]}),(0,i.jsxs)("div",{className:"bg-white rounded shadow p-4",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-gray-700 mb-1",children:"Data zatrudnienia:"}),(0,i.jsx)("div",{className:"font-medium",children:(S=v.hiredOn,new Date(S).toLocaleDateString("pl-PL"))})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-gray-700 mb-1",children:"Czas zatrudnienia:"}),(0,i.jsx)("div",{className:"font-medium",children:(()=>{const e=new Date(v.hiredOn),t=new Date,n=Math.abs(t-e),a=Math.ceil(n/864e5);return`${a} dni (${Math.floor(a/30)} miesi\u0119cy)`})()})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-gray-700 mb-1",children:"Wynagrodzenie:"}),(0,i.jsx)("div",{className:"font-medium",children:j(v.salary)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-gray-700 mb-1",children:"Koszt zatrudnienia:"}),(0,i.jsx)("div",{className:"font-medium",children:j(v.hiringCost||0)})]})]}),w&&(0,i.jsxs)("div",{className:"mt-3 p-2 bg-blue-50 rounded",children:[(0,i.jsx)("div",{className:"text-blue-800 font-medium",children:"Przypisany do projektu:"}),(0,i.jsxs)("div",{children:[w.name," (",w.technology,")"]})]})]})]}),(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsxs)("h3",{className:"font-bold text-lg mb-2 flex items-center",children:[(0,i.jsx)(ht,{className:"h-5 w-5 mr-2 text-red-600"}),"Status"]}),(0,i.jsx)("div",{className:"bg-white rounded shadow p-4",children:(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,i.jsx)("span",{children:"Morale:"}),(0,i.jsxs)("span",{className:(E=v.morale,E>=80?"text-green-600":E>=50?"text-blue-600":E>=30?"text-yellow-600":"text-red-600"),children:[v.morale,"%"]})]}),(0,i.jsx)(we,{value:v.morale,max:100,colorClass:v.morale>=50?"bg-green-500":"bg-red-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,i.jsx)("span",{children:"Energia:"}),(0,i.jsxs)("span",{className:(P=v.energy,P>=80?"text-green-600":P>=50?"text-blue-600":P>=30?"text-yellow-600":"text-red-600"),children:[v.energy,"%"]})]}),(0,i.jsx)(we,{value:v.energy,max:100,colorClass:v.energy>=50?"bg-blue-500":"bg-orange-500"})]})]})})]}),(0,i.jsxs)("div",{className:"mt-6 flex justify-between",children:[(0,i.jsx)(je,{onClick:()=>u(l,o),variant:"danger",icon:(0,i.jsx)(ot,{className:"h-4 w-4"}),children:"Zwolnij pracownika"}),(0,i.jsx)(je,{onClick:c,variant:"secondary",children:"Zamknij"})]})]});var P,E,S},xt=ee("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]),gt=ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),vt=e=>{let{onClose:t}=e;const{state:n,dispatch:r}=d(),{state:s,showNotification:l}=O(),[o,c]=(0,a.useState)(null),[u,p]=(0,a.useState)(1e6),[m,f]=(0,a.useState)(12),h=e=>!(e.requiresProjects>0&&n.projects.length<e.requiresProjects)&&(!(e.requiresReputation>0&&n.reputation<e.requiresReputation)&&(!(e.requiresRTB&&!n.projects.some((e=>"ready_to_build"===e.status)))&&!(e.requiresCorruption&&n.illegals.corruptionNetwork<e.requiresCorruption))),y=e=>{let t=e.baseInterestRate;e.reputationBonus&&n.reputation>80&&(t-=.01);const a=n.projects.filter((e=>"ready_to_build"===e.status)).length;return a>0&&(t-=.005*a),Math.max(.05,t)},x=(e,t,n)=>{const a=t/12;return e*a/(1-Math.pow(1+a,-n))},g=e=>e.toLocaleString()+" PLN",v=e=>(100*e).toFixed(2)+"%";return(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"flex items-center mb-4",children:[(0,i.jsx)(tt,{className:"h-6 w-6 text-green-600 mr-2"}),(0,i.jsx)("h2",{className:"text-xl font-bold",children:"Panel finansowy"})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[(0,i.jsx)("h3",{className:"font-bold mb-3",children:"Twoje finanse"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-gray-600 text-sm",children:"Got\xf3wka:"}),(0,i.jsx)("div",{className:"font-bold text-lg text-green-700",children:g(n.cash)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-gray-600 text-sm",children:"Warto\u015b\u0107 projekt\xf3w:"}),(0,i.jsx)("div",{className:"font-bold text-lg",children:g(n.economicMetrics.projectsValue||0)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-gray-600 text-sm",children:"Przychody:"}),(0,i.jsx)("div",{className:"font-bold text-green-700",children:g(n.economicMetrics.totalRevenue||0)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"text-gray-600 text-sm",children:"Wydatki:"}),(0,i.jsx)("div",{className:"font-bold text-red-700",children:g(n.economicMetrics.totalExpenses||0)})]})]})]}),n.loans&&n.loans.length>0&&(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[(0,i.jsx)("h3",{className:"font-bold mb-3",children:"Aktywne kredyty"}),n.loans.map((e=>(0,i.jsxs)("div",{className:"border-b pb-3 mb-3 last:border-0 last:mb-0 last:pb-0",children:[(0,i.jsxs)("div",{className:"flex justify-between mb-2",children:[(0,i.jsx)("span",{className:"font-medium",children:e.bankName}),(0,i.jsx)("span",{className:"text-blue-600",children:g(e.remainingAmount)})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Rata miesi\u0119czna:"}),(0,i.jsx)("span",{className:"ml-1",children:g(e.monthlyPayment)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Oprocentowanie:"}),(0,i.jsx)("span",{className:"ml-1",children:v(e.interestRate)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Pozosta\u0142o rat:"}),(0,i.jsx)("span",{className:"ml-1",children:e.remainingTerm})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Nast\u0119pna p\u0142atno\u015b\u0107:"}),(0,i.jsxs)("span",{className:"ml-1",children:["Tura ",e.nextPaymentTurn]})]})]}),(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-xs mb-1",children:[(0,i.jsx)("span",{children:"Sp\u0142acono"}),(0,i.jsxs)("span",{children:[Math.round(100*(1-e.remainingAmount/e.amount)),"%"]})]}),(0,i.jsx)(we,{value:e.amount-e.remainingAmount,max:e.amount,colorClass:"bg-green-500"})]})]},e.id)))]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[(0,i.jsx)("h3",{className:"font-bold mb-3",children:"Zaci\u0105gnij kredyt"}),o?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[(0,i.jsxs)("div",{className:"flex items-center mb-2",children:[(0,i.jsx)(xt,{className:"h-5 w-5 text-blue-600 mr-2"}),(0,i.jsx)("h4",{className:"font-bold text-blue-800",children:o.name})]}),(0,i.jsx)("p",{className:"text-sm text-gray-700",children:o.description})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 mb-1",children:"Kwota kredytu"}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"range",min:1e5,max:o.maxLoan,step:1e5,value:u,onChange:e=>p(parseInt(e.target.value)),className:"flex-grow mr-3"}),(0,i.jsx)("span",{className:"font-medium w-32 text-right",children:g(u)})]})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("label",{className:"block text-gray-700 mb-1",children:"Okres sp\u0142aty (miesi\u0105ce)"}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"range",min:3,max:36,step:3,value:m,onChange:e=>f(parseInt(e.target.value)),className:"flex-grow mr-3"}),(0,i.jsxs)("span",{className:"font-medium w-32 text-right",children:[m," mies."]})]})]}),(0,i.jsxs)("div",{className:"bg-gray-50 p-3 rounded mb-4",children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"Podsumowanie kredytu"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Kwota kredytu:"}),(0,i.jsx)("span",{className:"ml-1 font-medium",children:g(u)})]}),(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Okres sp\u0142aty:"}),(0,i.jsxs)("span",{className:"ml-1 font-medium",children:[m," miesi\u0119cy"]})]}),(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Oprocentowanie:"}),(0,i.jsx)("span",{className:"ml-1 font-medium",children:v(y(o))})]}),(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Rata miesi\u0119czna:"}),(0,i.jsx)("span",{className:"ml-1 font-medium",children:g(x(u,y(o),m))})]}),(0,i.jsxs)("div",{className:"text-sm col-span-2",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Ca\u0142kowity koszt kredytu:"}),(0,i.jsx)("span",{className:"ml-1 font-medium text-red-600",children:g(x(u,y(o),m)*m-u)})]})]})]}),(0,i.jsxs)("div",{className:"flex gap-3",children:[(0,i.jsx)(je,{onClick:()=>{if(!o)return void l("Wybierz bank, aby zaci\u0105gn\u0105\u0107 kredyt","error");if(!h(o))return void l("Nie spe\u0142niasz wymaga\u0144 tego banku","error");if(u>o.maxLoan)return void l(`Maksymalna kwota kredytu to ${o.maxLoan.toLocaleString()} PLN`,"error");if(n.loans&&n.loans.length>0)return void l("Mo\u017cesz mie\u0107 tylko jeden aktywny kredyt","error");const e=y(o),t=x(u,e,m),a=t*m,i=a-u;r({type:"ADD_LOAN",payload:{id:Date.now(),bankId:o.id,bankName:o.name,amount:u,remainingAmount:u,interestRate:e,term:m,remainingTerm:m,monthlyPayment:t,totalInterest:i,totalPayment:a,takenOnTurn:s.turn,nextPaymentTurn:s.turn+1}}),r({type:"UPDATE_CASH",payload:u}),r({type:"UPDATE_ECONOMIC_METRICS",payload:{totalLoansTaken:(n.economicMetrics.totalLoansTaken||0)+u}}),o.reputationPenalty&&r({type:"UPDATE_REPUTATION",payload:{change:-o.reputationPenalty,reason:`Zaci\u0105gni\u0119cie kredytu w ${o.name}`,turn:s.turn}}),l(`Zaci\u0105gni\u0119to kredyt na kwot\u0119 ${u.toLocaleString()} PLN`,"success"),c(null)},variant:"success",className:"flex-1",icon:(0,i.jsx)(gt,{className:"h-4 w-4"}),children:"Zaci\u0105gnij kredyt"}),(0,i.jsx)(je,{onClick:()=>c(null),variant:"secondary",className:"flex-1",children:"Anuluj"})]})]}):(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"text-gray-700 mb-4",children:"Wybierz bank, aby zaci\u0105gn\u0105\u0107 kredyt:"}),(0,i.jsx)("div",{className:"space-y-3",children:[{id:"eco_bank",name:"EcoBank",description:"Bank specjalizuj\u0105cy si\u0119 w finansowaniu projekt\xf3w OZE",maxLoan:5e6,baseInterestRate:.08,reputationBonus:!0,requirementsDescription:"Wymaga min. 3 projekt\xf3w i reputacji > 70",requiresProjects:3,requiresReputation:70},{id:"investment_bank",name:"InvestBank",description:"Du\u017cy bank komercyjny z programem dla projekt\xf3w energetycznych",maxLoan:1e7,baseInterestRate:.095,reputationBonus:!0,requirementsDescription:"Wymaga min. 5 projekt\xf3w i reputacji > 50, lub projektu RTB",requiresProjects:5,requiresReputation:50,requiresRTB:!0},{id:"small_bank",name:"LocalBank",description:"Mniejszy bank lokalny, mniej wymagaj\u0105cy, ale dro\u017csza oferta",maxLoan:2e6,baseInterestRate:.12,reputationBonus:!1,requirementsDescription:"Brak szczeg\xf3lnych wymaga\u0144",requiresProjects:0,requiresReputation:0},{id:"shadow_bank",name:"ShadowFinance",description:"Nieoficjalne \u017ar\xf3d\u0142o finansowania, wysokie odsetki, brak formalno\u015bci",maxLoan:15e5,baseInterestRate:.25,reputationBonus:!1,reputationPenalty:5,requirementsDescription:"Wymaga poziomu sieci korupcyjnej > 20",requiresCorruption:20}].map((e=>{const t=h(e),n=y(e);return(0,i.jsx)("div",{className:"border rounded-lg p-4 mb-4 hover:shadow-md transition-shadow "+((null===o||void 0===o?void 0:o.id)===e.id?"border-blue-500 bg-blue-50":""),onClick:()=>t&&c(e),children:(0,i.jsxs)("div",{className:"flex items-start",children:[(0,i.jsx)("div",{className:"mr-3",children:(0,i.jsx)(xt,{className:"h-6 w-6 "+(t?"text-blue-600":"text-gray-400")})}),(0,i.jsxs)("div",{className:"flex-grow",children:[(0,i.jsx)("h3",{className:"font-bold "+(t?"text-gray-800":"text-gray-500"),children:e.name}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:e.description}),(0,i.jsxs)("div",{className:"mt-2 grid grid-cols-2 gap-2 text-sm",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Max kredyt:"}),(0,i.jsx)("span",{className:"ml-1 font-medium",children:g(e.maxLoan)})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Oprocentowanie:"}),(0,i.jsx)("span",{className:"ml-1 font-medium "+(n>.15?"text-red-600":"text-blue-600"),children:v(n)})]})]}),(0,i.jsxs)("div",{className:"mt-1 text-sm",children:[(0,i.jsx)("span",{className:"text-gray-600",children:"Wymagania:"}),(0,i.jsx)("span",{className:"ml-1 "+(t?"text-green-600":"text-red-600"),children:t?"Spe\u0142nione":e.requirementsDescription})]})]})]})},e.id)}))})]})]}),(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow p-4",children:[(0,i.jsxs)("h3",{className:"font-bold mb-3 flex items-center",children:[(0,i.jsx)(ce,{className:"h-5 w-5 mr-2 text-purple-600"}),"Statystyki finansowe"]}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"\u0141\u0105czne inwestycje:"}),(0,i.jsx)("span",{className:"font-medium",children:g(n.economicMetrics.totalInvestment||0)})]}),(0,i.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"\u0141\u0105czne kredyty:"}),(0,i.jsx)("span",{className:"font-medium",children:g(n.economicMetrics.totalLoansTaken||0)})]}),(0,i.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"\u015aredni ROI:"}),(0,i.jsxs)("span",{className:"font-medium "+((n.economicMetrics.avgROI||0)>0?"text-green-600":"text-red-600"),children:[(100*(n.economicMetrics.avgROI||0)).toFixed(1),"%"]})]}),(0,i.jsxs)("div",{className:"flex justify-between p-2 bg-gray-50 rounded",children:[(0,i.jsx)("span",{className:"text-gray-700",children:"Bilans:"}),(0,i.jsx)("span",{className:"font-medium "+((n.economicMetrics.totalRevenue||0)>(n.economicMetrics.totalExpenses||0)?"text-green-600":"text-red-600"),children:g((n.economicMetrics.totalRevenue||0)-(n.economicMetrics.totalExpenses||0))})]})]})]})]})},jt=()=>{const[e,t]=(0,a.useState)("overview"),{state:n,dispatch:r}=d(),{state:s,showNotification:l}=O(),{hireStaff:o,fireStaff:c,trainStaff:u}=Me(),[p,m]=(0,a.useState)({isOpen:!1,type:null,data:null}),f=function(e){m({isOpen:!0,type:e,data:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null})},h=()=>{m({...p,isOpen:!1})};return(0,i.jsxs)("div",{className:"container mx-auto p-4",children:[(0,i.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Zarz\u0105dzanie firm\u0105"}),(0,i.jsxs)("div",{className:"flex mb-6 space-x-2 border-b pb-3",children:[(0,i.jsx)("button",{className:"px-4 py-2 rounded-t-lg "+("overview"===e?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),onClick:()=>t("overview"),children:"Przegl\u0105d firmy"}),(0,i.jsx)("button",{className:"px-4 py-2 rounded-t-lg "+("projects"===e?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),onClick:()=>t("projects"),children:"Projekty"}),(0,i.jsx)("button",{className:"px-4 py-2 rounded-t-lg "+("staff"===e?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),onClick:()=>t("staff"),children:"Zarz\u0105dzanie personelem"}),(0,i.jsx)("button",{className:"px-4 py-2 rounded-t-lg "+("finances"===e?"bg-blue-600 text-white":"bg-gray-100 hover:bg-gray-200"),onClick:()=>t("finances"),children:"Finanse"}),(0,i.jsx)("button",{className:"ml-auto px-4 py-2 rounded-lg bg-red-600 text-white hover:bg-red-700",onClick:()=>f("illegal_actions"),children:"Szara strefa"})]}),(0,i.jsxs)("div",{children:["overview"===e&&(0,i.jsx)(qe,{}),"projects"===e&&(0,i.jsx)(at,{}),"staff"===e&&(0,i.jsx)(De,{openStaffDetails:(e,t)=>f("staff_details",{id:e,type:t})}),"finances"===e&&(0,i.jsx)(Ue,{openFinancePanel:()=>f("finance")})]}),(()=>{var e,t;switch(p.type){case"illegal_actions":return(0,i.jsx)(it,{title:"Szara strefa",isOpen:p.isOpen,onClose:h,variant:"illegal",children:(0,i.jsx)(pt,{onClose:h})});case"staff_details":return(0,i.jsx)(it,{title:"Szczeg\xf3\u0142y pracownika",isOpen:p.isOpen,onClose:h,variant:"staff",children:(0,i.jsx)(yt,{staffId:null===(e=p.data)||void 0===e?void 0:e.id,staffType:null===(t=p.data)||void 0===t?void 0:t.type,onClose:h,onFire:(e,t)=>{c(t,e),h()},onTrain:(e,t)=>{h()},onAssign:(e,t)=>{h()}})});case"finance":return(0,i.jsx)(it,{title:"Panel finansowy",isOpen:p.isOpen,onClose:h,variant:"finance",children:(0,i.jsx)(vt,{onClose:h})});default:return null}})()]})},wt=ee("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),bt=ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),kt=ee("PiggyBank",[["path",{d:"M19 5c-1.5 0-2.8 1.4-3 2-3.5-1.5-11-.3-11 5 0 1.8 0 3 2 4.5V20h4v-2h3v2h4v-4c1-.5 1.7-1 2-2h2v-4h-2c0-1-.5-1.5-1-2h0V5z",key:"uf6l00"}],["path",{d:"M2 9v1c0 1.1.9 2 2 2h1",key:"nm575m"}],["path",{d:"M16 11h0",key:"k2aug8"}]]),Nt=ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),zt=ee("Layers",[["path",{d:"m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z",key:"8b97xw"}],["path",{d:"m22 17.65-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65",key:"dd6zsq"}],["path",{d:"m22 12.65-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65",key:"ep9fru"}]]),Pt=ee("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]),Et=ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),St=ee("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),_t=()=>{var e,t;const{state:n}=O(),{currentEvents:r}=n.globalEvents,[s,l]=(0,a.useState)(null),o=(0,a.useMemo)((()=>{const e={economic:[],political:[],social:[],environmental:[],technological:[]};return r.forEach((t=>{e[t.type]&&e[t.type].push(t)})),e}),[r]),c=(0,a.useMemo)((()=>s?r.find((e=>e.id===s)):null),[s,r]),d=e=>e.toLocaleDateString("pl-PL",{year:"numeric",month:"long",day:"numeric"}),u=e=>{switch(e){case"economic":return(0,i.jsx)(kt,{size:16,className:"text-yellow-500"});case"political":return(0,i.jsx)(Nt,{size:16,className:"text-blue-500"});case"social":return(0,i.jsx)(zt,{size:16,className:"text-violet-500"});case"environmental":return(0,i.jsx)(Pt,{size:16,className:"text-green-500"});case"technological":return(0,i.jsx)(He,{size:16,className:"text-orange-500"});default:return(0,i.jsx)(Et,{size:16,className:"text-gray-500"})}},p=(e,t)=>{const n=t>1,a=t<1;return(0,i.jsxs)("div",{className:"flex items-center",children:[n?(0,i.jsx)(Fe,{size:16,className:"text-green-500"}):a?(0,i.jsx)($e,{size:16,className:"text-red-500"}):(0,i.jsx)(Ve,{size:16,className:"text-gray-500"}),(0,i.jsxs)("span",{className:`ml-1 ${n?"text-green-500":""} ${a?"text-red-500":""}`,children:[(t>1?"+":"")+(100*(t-1)).toFixed(0),"%"]})]})},m=e=>({marketModifier:"Ceny rynkowe",reputationChange:"Zmiana reputacji",permitTimeModifier:"Czas uzyskania pozwole\u0144",buildCostModifier:"Koszt budowy"}[e]||e);return 0===r.length?(0,i.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,i.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Wydarzenia globalne"}),(0,i.jsxs)("div",{className:"text-gray-500 py-4 text-center",children:[(0,i.jsx)(Et,{className:"mx-auto mb-2",size:24}),(0,i.jsx)("p",{children:"Brak aktywnych wydarze\u0144 globalnych"})]})]}):(0,i.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,i.jsxs)("h2",{className:"text-lg font-semibold mb-4",children:["Wydarzenia globalne (",r.length,")"]}),(0,i.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,i.jsx)("div",{className:"md:w-1/2",children:Object.entries(o).map((e=>{let[t,n]=e;if(0===n.length)return null;return(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsxs)("h3",{className:"text-sm font-medium text-gray-700 flex items-center mb-1",children:[u(t),(0,i.jsx)("span",{className:"ml-1",children:{economic:"Ekonomiczne",political:"Polityczne",social:"Spo\u0142eczne",environmental:"\u015arodowiskowe",technological:"Technologiczne"}[t]||t}),(0,i.jsxs)("span",{className:"ml-2 text-xs text-gray-500",children:["(",n.length,")"]})]}),(0,i.jsx)("div",{className:"space-y-2",children:n.map((e=>(0,i.jsx)("div",{className:"p-2 rounded-md cursor-pointer transition-all border \n                        "+(s===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:bg-gray-50"),onClick:()=>l(e.id===s?null:e.id),children:(0,i.jsxs)("div",{className:"flex justify-between items-center",children:[(0,i.jsx)("div",{className:"font-medium",children:e.name}),(0,i.jsxs)("div",{className:"text-xs text-gray-500 flex items-center",children:[(0,i.jsx)(et,{size:12,className:"mr-1"}),e.duration," dni"]})]})},e.id)))})]},t)}))}),(0,i.jsx)("div",{className:"md:w-1/2 border-t md:border-t-0 md:border-l border-gray-200 pt-4 md:pt-0 md:pl-4",children:c?(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"font-medium text-lg",children:c.name}),(0,i.jsx)("p",{className:"text-gray-700 mt-2",children:c.description}),(0,i.jsxs)("div",{className:"mt-4 text-sm text-gray-500",children:[(0,i.jsxs)("div",{className:"flex items-center mb-1",children:[(0,i.jsx)(St,{size:14,className:"mr-1"}),(0,i.jsxs)("span",{children:["Od: ",d(c.startDate)," do: ",d(c.expiryDate)]})]}),c.region&&(0,i.jsxs)("div",{className:"flex items-center mb-1",children:[(0,i.jsx)(Ye,{size:14,className:"mr-1"}),(0,i.jsxs)("span",{children:["Region: ",c.region]})]}),c.technology&&(0,i.jsxs)("div",{className:"flex items-center mb-1",children:[(0,i.jsx)(He,{size:14,className:"mr-1"}),(0,i.jsxs)("span",{children:["Technologia: ",c.technology]})]})]}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"Efekty wydarzenia:"}),(0,i.jsxs)("div",{className:"bg-gray-50 p-3 rounded-md",children:[c.effects&&Object.entries(c.effects).map((e=>{let[t,n]=e;if("regionalEffect"===t||"technologyEffect"===t)return null;if("reputationChange"===t){const e=n>0,a=n<0;return(0,i.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,i.jsx)("span",{className:"text-sm",children:m(t)}),(0,i.jsxs)("div",{className:"flex items-center",children:[e?(0,i.jsx)(Fe,{size:16,className:"text-green-500 mr-1"}):a?(0,i.jsx)($e,{size:16,className:"text-red-500 mr-1"}):null,(0,i.jsxs)("span",{className:`\n                              ${e?"text-green-500":""}\n                              ${a?"text-red-500":""}\n                            `,children:[e?"+":"",n]})]})]},t)}return(0,i.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,i.jsx)("span",{className:"text-sm",children:m(t)}),p(0,n)]},t)})),(null===(e=c.effects)||void 0===e?void 0:e.regionalEffect)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"mt-2 mb-1",children:(0,i.jsxs)("span",{className:"text-sm font-medium flex items-center",children:[(0,i.jsx)(Ye,{size:14,className:"mr-1"}),"Efekt regionalny: ",c.region]})}),Object.entries(c.effects.regionalEffect).map((e=>{let[t,n]=e;return"region"===t?null:(0,i.jsxs)("div",{className:"flex justify-between items-center ml-4 mb-1",children:[(0,i.jsx)("span",{className:"text-sm",children:m(t)}),p(0,n)]},t)}))]}),(null===(t=c.effects)||void 0===t?void 0:t.technologyEffect)&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"mt-2 mb-1",children:(0,i.jsxs)("span",{className:"text-sm font-medium flex items-center",children:[(0,i.jsx)(He,{size:14,className:"mr-1"}),"Efekt technologiczny: ",c.technology]})}),Object.entries(c.effects.technologyEffect).map((e=>{let[t,n]=e;return"technology"===t?null:(0,i.jsxs)("div",{className:"flex justify-between items-center ml-4 mb-1",children:[(0,i.jsx)("span",{className:"text-sm",children:m(t)}),p(0,n)]},t)}))]})]})]})]}):(0,i.jsx)("div",{className:"h-full flex items-center justify-center text-gray-500",children:(0,i.jsx)("p",{children:"Wybierz wydarzenie, aby zobaczy\u0107 szczeg\xf3\u0142y"})})})]})]})},Ct=()=>{const{state:e}=v(),{state:t}=O(),{state:n}=d(),[r,s]=(0,a.useState)("all"),[l,o]=(0,a.useState)("all"),c=e.filter((e=>!e.expires||e.expires>t.turn)),u=c.filter((e=>"economic_event"===e.type)),p=c.filter((e=>"staff_event"===e.type)),m=c.filter((e=>"audit"===e.type)),f=c.filter((e=>"illegal_activity"===e.type)),y=(c.filter((e=>"economic_event"!==e.type&&"staff_event"!==e.type&&"audit"!==e.type&&"illegal_activity"!==e.type)),c.filter((e=>!e.regionId&&!e.countyId))),x=c.filter((e=>e.regionId||e.countyId)),g=[...c.filter((e=>("all"===r||e.type===r)&&("all"===l||e.severity===l)))].sort(((e,t)=>t.turn-e.turn)),j=[...e].sort(((e,t)=>t.turn-e.turn)),w=e=>{switch(e){case"economic_event":return(0,i.jsx)(Fe,{className:"h-5 w-5 text-blue-500"});case"staff_event":return(0,i.jsx)(ae,{className:"h-5 w-5 text-green-500"});case"audit":return(0,i.jsx)(wt,{className:"h-5 w-5 text-red-500"});case"illegal_activity":return(0,i.jsx)(oe,{className:"h-5 w-5 text-orange-500"});default:return(0,i.jsx)(Ve,{className:"h-5 w-5 text-gray-500"})}},b=e=>{switch(e){case"positive":return"bg-green-100 text-green-800 border-l-4 border-green-500";case"negative":return"bg-red-100 text-red-800 border-l-4 border-red-500";case"warning":return"bg-yellow-100 text-yellow-800 border-l-4 border-yellow-500";default:return"bg-blue-100 text-blue-800 border-l-4 border-blue-500"}};return(0,i.jsxs)("div",{className:"flex flex-1",children:[(0,i.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Panel wydarze\u0144"}),(0,i.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-6 gap-3 mb-4",children:[(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Aktywne"}),(0,i.jsx)("div",{className:"text-xl font-bold",children:c.length})]}),(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Ekonomiczne"}),(0,i.jsx)("div",{className:"text-xl font-bold",children:u.length})]}),(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Personalne"}),(0,i.jsx)("div",{className:"text-xl font-bold",children:p.length})]}),(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Audyty"}),(0,i.jsx)("div",{className:"text-xl font-bold",children:m.length})]}),(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Nielegalne"}),(0,i.jsx)("div",{className:"text-xl font-bold",children:f.length})]}),(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Globalne / Lokalne"}),(0,i.jsxs)("div",{className:"text-xl font-bold",children:[y.length," / ",x.length]})]})]}),(0,i.jsx)("div",{className:"bg-white p-4 rounded shadow mb-4",children:(0,i.jsxs)("div",{className:"flex flex-wrap items-center gap-4",children:[(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)(Re,{className:"h-4 w-4 mr-2 text-gray-500"}),(0,i.jsx)("span",{className:"text-gray-700 font-medium",children:"Filtruj wydarzenia:"})]}),(0,i.jsx)("div",{children:(0,i.jsxs)("select",{value:r,onChange:e=>s(e.target.value),className:"border rounded px-2 py-1 text-sm",children:[(0,i.jsx)("option",{value:"all",children:"Wszystkie typy"}),(0,i.jsx)("option",{value:"economic_event",children:"Ekonomiczne"}),(0,i.jsx)("option",{value:"staff_event",children:"Personel"}),(0,i.jsx)("option",{value:"audit",children:"Audyty"}),(0,i.jsx)("option",{value:"illegal_activity",children:"Nielegalne"})]})}),(0,i.jsx)("div",{children:(0,i.jsxs)("select",{value:l,onChange:e=>o(e.target.value),className:"border rounded px-2 py-1 text-sm",children:[(0,i.jsx)("option",{value:"all",children:"Wszystkie wa\u017cno\u015bci"}),(0,i.jsx)("option",{value:"positive",children:"Pozytywne"}),(0,i.jsx)("option",{value:"negative",children:"Negatywne"}),(0,i.jsx)("option",{value:"warning",children:"Ostrze\u017cenia"}),(0,i.jsx)("option",{value:"info",children:"Informacyjne"})]})})]})}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsxs)("h3",{className:"font-bold text-lg mb-3 flex items-center",children:[(0,i.jsx)(bt,{className:"h-5 w-5 mr-2"}),"Wydarzenia globalne"]}),(0,i.jsx)(_t,{})]}),(0,i.jsxs)("div",{className:"bg-white p-4 rounded shadow mb-4",children:[(0,i.jsxs)("h3",{className:"font-bold text-lg mb-3 flex items-center",children:[(0,i.jsx)(Ve,{className:"h-5 w-5 mr-2"}),"Aktywne wydarzenia"]}),g.length>0?(0,i.jsx)("div",{className:"space-y-3",children:g.map((e=>{var a;return(0,i.jsxs)("div",{className:`p-3 rounded ${b(e.severity)}`,children:[(0,i.jsxs)("div",{className:"flex justify-between items-start",children:[(0,i.jsxs)("div",{className:"font-bold flex items-center",children:[w(e.type),(0,i.jsx)("span",{className:"ml-2",children:e.title})]}),(0,i.jsxs)("div",{className:"text-xs bg-gray-200 rounded px-2 py-1 text-gray-800",children:["Tura ",e.turn,e.expires&&(0,i.jsxs)("span",{children:[" (wygasa: ",e.expires,")"]})]})]}),(0,i.jsx)("div",{className:"mt-1",children:e.description}),e.effect&&(0,i.jsxs)("div",{className:"mt-2 text-sm",children:[(0,i.jsx)("div",{className:"font-medium",children:"Efekt:"}),(0,i.jsxs)("div",{className:"flex items-center mt-1",children:[(0,i.jsxs)("div",{className:"bg-gray-200 text-gray-800 rounded px-2 py-1",children:["market_price_modifier"===e.effect.type&&`Mno\u017cnik ceny: ${e.effect.value.toFixed(2)}x dla ${"all"===e.effect.technology?"wszystkich technologii":e.effect.technology}`,"project_speed"===e.effect.type&&`Szybko\u015b\u0107 projekt\xf3w: ${(100*e.effect.value).toFixed(0)}%`]}),(0,i.jsxs)("div",{className:"ml-2 text-xs text-gray-500",children:["Pozosta\u0142o: ",e.expires-t.turn," tur"]})]})]}),e.regionId&&(0,i.jsxs)("div",{className:"mt-2 text-sm",children:[(0,i.jsx)("span",{className:"font-medium",children:"Region:"})," ",e.regionId]}),e.countyId&&(0,i.jsxs)("div",{className:"mt-2 text-sm",children:[(0,i.jsx)("span",{className:"font-medium",children:"Powiat:"})," ",e.countyId]}),e.projectId&&(0,i.jsxs)("div",{className:"mt-2 text-sm",children:[(0,i.jsx)("span",{className:"font-medium",children:"Projekt:"})," ",(null===(a=n.projects.find((t=>t.id===e.projectId)))||void 0===a?void 0:a.name)||"Nieznany projekt"]}),e.staffId&&(0,i.jsxs)("div",{className:"mt-2 text-sm",children:[(0,i.jsx)("span",{className:"font-medium",children:"Pracownik:"})," ",e.staffName||"Nieznany pracownik"]}),e.fine&&(0,i.jsxs)("div",{className:"mt-2 text-sm font-medium text-red-600",children:["Kara: ",e.fine.toLocaleString()," z\u0142"]})]},e.id)}))}):(0,i.jsx)("p",{className:"text-gray-500",children:"Brak aktywnych wydarze\u0144 spe\u0142niaj\u0105cych kryteria filtrowania"})]}),(0,i.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,i.jsx)("h3",{className:"font-bold text-lg mb-3",children:"Historia wydarze\u0144"}),j.length>0?(0,i.jsx)("div",{className:"max-h-80 overflow-y-auto",children:(0,i.jsxs)("table",{className:"min-w-full",children:[(0,i.jsx)("thead",{className:"bg-gray-100 sticky top-0",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"text-center p-2",children:"Tura"}),(0,i.jsx)("th",{className:"text-left p-2",children:"Wydarzenie"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Typ"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Wa\u017cno\u015b\u0107"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Lokalizacja"})]})}),(0,i.jsx)("tbody",{className:"divide-y divide-gray-200",children:j.map((e=>(0,i.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,i.jsx)("td",{className:"text-center p-2",children:e.turn}),(0,i.jsxs)("td",{className:"p-2 flex items-center",children:[w(e.type),(0,i.jsx)("span",{className:"ml-2",children:e.title})]}),(0,i.jsx)("td",{className:"text-center p-2",children:(0,i.jsx)("span",{className:"text-xs px-2 py-1 rounded bg-gray-100",children:h(e.type)})}),(0,i.jsx)("td",{className:"text-center p-2",children:(0,i.jsx)("span",{className:"text-xs px-2 py-1 rounded "+("positive"===e.severity?"bg-green-100 text-green-800":"negative"===e.severity?"bg-red-100 text-red-800":"warning"===e.severity?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"),children:"positive"===e.severity?"Pozytywne":"negative"===e.severity?"Negatywne":"warning"===e.severity?"Ostrze\u017cenie":"Informacja"})}),(0,i.jsx)("td",{className:"text-center p-2",children:e.regionId||e.countyId||"-"})]},e.id)))})]})}):(0,i.jsx)("p",{className:"text-gray-500",children:"Brak historii wydarze\u0144"})]})]}),(0,i.jsxs)("div",{className:"w-1/3 bg-gray-100 p-4 overflow-y-auto",children:[(0,i.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Wp\u0142yw wydarze\u0144 na gr\u0119"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[(0,i.jsx)(Be,{className:"h-4 w-4 mr-2"}),"Twoja reputacja"]}),(0,i.jsxs)("div",{className:"flex items-center",children:[(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-4 mr-2",children:(0,i.jsx)("div",{className:"h-4 rounded-full "+(n.reputation>=150?"bg-green-500":n.reputation>=100?"bg-green-400":n.reputation>=50?"bg-yellow-400":"bg-red-400"),style:{width:`${Math.min(100,n.reputation/2)}%`}})}),(0,i.jsx)("div",{className:"text-lg font-bold",children:n.reputation})]}),(0,i.jsx)("div",{className:"text-sm mt-2",children:n.reputation>=150?"Doskona\u0142a reputacja - najlepsze warunki finansowe i szybko\u015b\u0107 proces\xf3w.":n.reputation>=100?"Dobra reputacja - standardowe warunki.":n.reputation>=50?"Przeci\u0119tna reputacja - gorsze warunki.":"S\u0142aba reputacja - znaczne utrudnienia."})]}),u.length>0&&(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[(0,i.jsx)(Fe,{className:"h-4 w-4 mr-2"}),"Aktywne wydarzenia ekonomiczne"]}),(0,i.jsx)("div",{className:"space-y-2",children:u.map((e=>(0,i.jsxs)("div",{className:"text-sm p-2 bg-gray-50 rounded",children:[(0,i.jsx)("div",{className:"font-medium",children:e.title}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:["Tura ",e.turn," - ",e.expires," (",e.expires-t.turn," pozosta\u0142o)"]}),e.effect&&(0,i.jsxs)("div",{className:"mt-1 text-xs",children:["market_price_modifier"===e.effect.type&&`Mno\u017cnik ceny: ${e.effect.value.toFixed(2)}x dla ${"all"===e.effect.technology?"wszystkich technologii":e.effect.technology}`,"project_speed"===e.effect.type&&`Szybko\u015b\u0107 projekt\xf3w: ${(100*e.effect.value).toFixed(0)}%`]})]},e.id)))})]}),(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[(0,i.jsx)(wt,{className:"h-4 w-4 mr-2"}),"Audyty i kontrole"]}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"text-sm",children:"Liczba audyt\xf3w:"}),(0,i.jsx)("div",{className:"font-medium",children:n.audits.totalAudits})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"text-sm",children:"Zaliczone audyty:"}),(0,i.jsx)("div",{className:"font-medium",children:n.audits.passedAudits})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"text-sm",children:"\u0141\u0105czne kary:"}),(0,i.jsxs)("div",{className:"font-medium text-red-600",children:[n.audits.totalFines.toLocaleString()," z\u0142"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"text-sm",children:"Ryzyko audytu:"}),(0,i.jsxs)("div",{className:"font-medium",children:[n.illegals.auditRisk,"%"]})]})]}),n.audits.lastAuditResult&&(0,i.jsxs)("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[(0,i.jsxs)("div",{className:"font-medium",children:["Ostatni audyt (tura ",n.audits.lastAuditResult.turn,"):"]}),(0,i.jsx)("div",{className:n.audits.lastAuditResult.passed?"text-green-600":"text-red-600",children:n.audits.lastAuditResult.passed?"Zaliczony":"Niezaliczony"}),!n.audits.lastAuditResult.passed&&(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsxs)("div",{children:["Kara: ",n.audits.lastAuditResult.fine.toLocaleString()," z\u0142"]}),(0,i.jsxs)("div",{children:["Utrata reputacji: ",n.audits.lastAuditResult.reputationLoss," pkt"]})]})]})]}),(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[(0,i.jsx)(oe,{className:"h-4 w-4 mr-2"}),"Dzia\u0142ania niejawne"]}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"text-sm",children:"Poziom korupcji:"}),(0,i.jsx)("div",{className:"font-medium",children:n.illegals.corruptionNetwork})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"text-sm",children:"\u0141\u0105czne \u0142ap\xf3wki:"}),(0,i.jsxs)("div",{className:"font-medium text-red-600",children:[n.illegals.totalBribes.toLocaleString()," z\u0142"]})]}),(0,i.jsxs)("div",{className:"flex justify-between",children:[(0,i.jsx)("div",{className:"text-sm",children:"Liczba dzia\u0142a\u0144:"}),(0,i.jsx)("div",{className:"font-medium",children:n.illegals.illegalActionHistory.length})]})]}),n.illegals.illegalActionHistory.length>0&&(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsx)("div",{className:"text-sm font-medium mb-1",children:"Ostatnie dzia\u0142ania:"}),(0,i.jsx)("div",{className:"max-h-40 overflow-y-auto text-xs",children:n.illegals.illegalActionHistory.slice(-5).reverse().map(((e,t)=>(0,i.jsxs)("div",{className:"p-1 border-b border-gray-100",children:[(0,i.jsxs)("div",{children:["Tura ",e.turn,": ",e.type]}),(0,i.jsxs)("div",{className:"text-gray-500",children:["Koszt: ",e.cost.toLocaleString()," z\u0142"]})]},t)))})]})]})]})]})]})},Mt=e=>{let{competitor:t,playerPower:n}=e;return(0,i.jsxs)("div",{className:"border rounded p-3",children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:t.name}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsx)("span",{className:"font-medium",children:"Strategia:"})," ",y(t.strategy)]}),(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsx)("span",{className:"font-medium",children:"Reputacja:"})," ",t.reputation,"/100"]}),(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsx)("span",{className:"font-medium",children:"Tempo wzrostu:"})," ",(100*(t.growth-1)).toFixed(1),"% na tur\u0119"]}),(0,i.jsx)("div",{className:"text-sm",children:(0,i.jsx)("span",{className:"font-medium",children:"Silne regiony:"})}),(0,i.jsx)("div",{className:"flex flex-wrap gap-1",children:t.strongRegions.map((e=>(0,i.jsx)("div",{className:"text-xs bg-gray-200 px-2 py-1 rounded",children:e},e)))}),(0,i.jsx)("div",{className:"text-sm mt-2 text-gray-600 italic",children:x(t,n)})]})]})},Tt=e=>{let{ranking:t}=e;return(0,i.jsxs)("div",{className:"bg-white p-4 rounded shadow mb-4",children:[(0,i.jsx)("h3",{className:"font-bold text-lg mb-3",children:"Ranking deweloper\xf3w OZE"}),(0,i.jsxs)("table",{className:"min-w-full",children:[(0,i.jsx)("thead",{className:"bg-gray-100",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"text-center p-2",children:"Miejsce"}),(0,i.jsx)("th",{className:"text-left p-2",children:"Firma"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Moc RTB"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Portfel projekt\xf3w"}),(0,i.jsx)("th",{className:"text-right p-2",children:"Udzia\u0142 w rynku"})]})}),(0,i.jsx)("tbody",{className:"divide-y divide-gray-200",children:t.map(((e,n)=>{const a="player"===e.id,r=(e.rtbPower/t.reduce(((e,t)=>e+t.rtbPower),0)*100).toFixed(1);return(0,i.jsxs)("tr",{className:""+(a?"bg-blue-50":"hover:bg-gray-50"),children:[(0,i.jsx)("td",{className:"text-center p-2 font-medium",children:n+1}),(0,i.jsx)("td",{className:"p-2",children:a?(0,i.jsx)("div",{className:"font-bold text-blue-600",children:e.name}):e.name}),(0,i.jsxs)("td",{className:"text-center p-2",children:[e.rtbPower.toLocaleString()," MW"]}),(0,i.jsxs)("td",{className:"text-center p-2",children:[e.power.toLocaleString()," MW"]}),(0,i.jsx)("td",{className:"text-right p-2",children:(0,i.jsxs)("div",{className:"flex items-center justify-end",children:[(0,i.jsxs)("div",{children:[r,"%"]}),(0,i.jsx)("div",{className:"ml-2 w-16 bg-gray-200 h-2 rounded-full overflow-hidden",children:(0,i.jsx)("div",{className:"h-full "+(a?"bg-blue-500":"bg-gray-500"),style:{width:`${r}%`}})})]})})]},e.id)}))})]})]})},Lt=e=>{let{playerRank:t,ranking:n,playerPower:a}=e;return(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"Twoja pozycja na rynku"}),1===t?(0,i.jsxs)("div",{className:"p-3 bg-green-100 text-green-800 rounded",children:[(0,i.jsx)("div",{className:"font-bold",children:"Jeste\u015b liderem rynku!"}),(0,i.jsx)("p",{className:"text-sm mt-1",children:"Utrzymuj przewag\u0119 nad konkurencj\u0105 rozwijaj\u0105c projekty w r\xf3\u017cnych regionach."})]}):(0,i.jsxs)("div",{className:"p-3 bg-blue-100 text-blue-800 rounded",children:[(0,i.jsxs)("div",{className:"font-bold",children:["Jeste\u015b na ",t,". miejscu"]}),(0,i.jsxs)("p",{className:"text-sm mt-1",children:["Do lidera brakuje Ci ",(n[0].rtbPower-a).toLocaleString()," MW mocy w projektach RTB."]})]}),(0,i.jsxs)("div",{className:"mt-3 text-sm",children:[(0,i.jsxs)("p",{children:["Tw\xf3j udzia\u0142 w rynku: ",(a/n.reduce(((e,t)=>e+t.rtbPower),0)*100).toFixed(1),"%"]}),(0,i.jsx)("p",{className:"mt-1",children:"Tempo wzrostu twojego portfela zale\u017cy od liczby projekt\xf3w i zatrudnionych specjalist\xf3w."})]}),(0,i.jsxs)("div",{className:"mt-4",children:[(0,i.jsx)("div",{className:"font-medium mb-2",children:"Post\u0119p do celu (100 GW):"}),(0,i.jsx)("div",{className:"w-full bg-gray-200 h-4 rounded-full overflow-hidden mt-1",children:(0,i.jsx)("div",{className:"h-full bg-green-500 relative",style:{width:`${Math.min(100,a/1e5*100)}%`},children:(0,i.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-white font-bold",children:[(a/1e5*100).toFixed(1),"%"]})})})]})]})},Ot=e=>{let{competitors:t,playerPower:n}=e;return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"Analiza konkurent\xf3w"}),(0,i.jsx)("ul",{className:"text-sm space-y-2",children:t.map((e=>(0,i.jsxs)("li",{className:"flex",children:[(0,i.jsx)("div",{className:"text-blue-600 font-bold mr-2",children:"\u2022"}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("span",{className:"font-medium",children:[e.name,":"]})," ",x(e,n)]})]},e.id)))})]}),(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"Porady strategiczne"}),(0,i.jsxs)("ul",{className:"text-sm space-y-2",children:[(0,i.jsxs)("li",{className:"flex",children:[(0,i.jsx)("div",{className:"text-green-600 font-bold mr-2",children:"\u2022"}),(0,i.jsx)("div",{children:"Skupiaj si\u0119 na regionach z dobrymi warunkami wiatrowymi/s\u0142onecznymi i nisk\u0105 konkurencj\u0105."})]}),(0,i.jsxs)("li",{className:"flex",children:[(0,i.jsx)("div",{className:"text-green-600 font-bold mr-2",children:"\u2022"}),(0,i.jsx)("div",{children:"Zatrudniaj do\u015bwiadczonych specjalist\xf3w, aby przyspieszy\u0107 rozw\xf3j projekt\xf3w."})]}),(0,i.jsxs)("li",{className:"flex",children:[(0,i.jsx)("div",{className:"text-green-600 font-bold mr-2",children:"\u2022"}),(0,i.jsx)("div",{children:"Dywersyfikuj portfolio projekt\xf3w geograficznie, aby minimalizowa\u0107 ryzyko."})]}),(0,i.jsxs)("li",{className:"flex",children:[(0,i.jsx)("div",{className:"text-green-600 font-bold mr-2",children:"\u2022"}),(0,i.jsx)("div",{children:"Monitoruj ruchy konkurencji i unikaj region\xf3w, w kt\xf3rych s\u0105 dominuj\u0105cy gracze."})]}),(0,i.jsxs)("li",{className:"flex",children:[(0,i.jsx)("div",{className:"text-green-600 font-bold mr-2",children:"\u2022"}),(0,i.jsx)("div",{children:"Inwestuj w projekty z wysokim ROI, aby maksymalizowa\u0107 zwrot z inwestycji."})]})]})]}),(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"Cel gry"}),(0,i.jsxs)("div",{className:"text-sm",children:[(0,i.jsx)("p",{children:"Twoim celem jest osi\u0105gni\u0119cie 100,000 MW (100 GW) mocy w projektach RTB jako pierwszy deweloper."}),(0,i.jsxs)("div",{className:"mt-2",children:[(0,i.jsx)("div",{className:"font-medium",children:"Post\u0119p do celu:"}),(0,i.jsx)("div",{className:"w-full bg-gray-200 h-4 rounded-full overflow-hidden mt-1",children:(0,i.jsx)("div",{className:"h-full bg-green-500 relative",style:{width:`${Math.min(100,n/1e5*100)}%`},children:(0,i.jsxs)("div",{className:"absolute inset-0 flex items-center justify-center text-xs text-white font-bold",children:[(n/1e5*100).toFixed(1),"%"]})})})]})]})]})]})},Rt=()=>{const{state:e}=O(),{state:t}=d(),n=[...e.competitors].sort(((e,t)=>t.rtbPower-e.rtbPower)),a=[...n,{id:"player",name:"Twoja firma",rtbPower:t.rtbPower,power:1.2*t.rtbPower}].sort(((e,t)=>t.rtbPower-e.rtbPower)),r=a.findIndex((e=>"player"===e.id))+1;return(0,i.jsxs)("div",{className:"flex flex-1",children:[(0,i.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Analiza konkurencji"}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-4",children:[(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Twoja pozycja"}),(0,i.jsxs)("div",{className:"text-xl font-bold",children:[r," miejsce"]})]}),(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Twoja moc RTB"}),(0,i.jsxs)("div",{className:"text-xl font-bold",children:[t.rtbPower.toLocaleString()," MW"]})]}),(0,i.jsxs)("div",{className:"bg-white p-3 rounded shadow",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Lider rynku"}),(0,i.jsx)("div",{className:"text-xl font-bold",children:a[0].name}),(0,i.jsxs)("div",{className:"text-sm text-gray-500",children:[a[0].rtbPower.toLocaleString()," MW"]})]})]}),(0,i.jsx)(Tt,{ranking:a}),(0,i.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,i.jsx)("h3",{className:"font-bold text-lg mb-3",children:"Strategie konkurent\xf3w"}),(0,i.jsx)("div",{className:"grid grid-cols-3 gap-4",children:n.map((e=>(0,i.jsx)(Mt,{competitor:e,playerPower:t.rtbPower},e.id)))})]})]}),(0,i.jsxs)("div",{className:"w-1/3 bg-gray-100 p-4 overflow-y-auto",children:[(0,i.jsx)("h3",{className:"font-bold text-lg mb-4",children:"Analiza rynku i porady"}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsx)(Lt,{playerRank:r,ranking:a,playerPower:t.rtbPower}),(0,i.jsx)(Ot,{competitors:n,playerPower:t.rtbPower})]})]})]})},It=()=>{const{state:e,dispatch:t}=d(),{state:n,dispatch:r,showNotification:s,calculateEventsEffect:l}=O(),{dispatch:o}=v(),[c,u]=(0,a.useState)("all"),[m,f]=(0,a.useState)("power"),[h,y]=(0,a.useState)("desc"),x=[...e.projects.filter((e=>"all"===c||("pv"===c?"PV"===e.technology:"wf"===c?"WF"===e.technology:"rtb"!==c||"ready_to_build"===e.status)))].sort(((e,t)=>{if("power"===m)return"asc"===h?e.power-t.power:t.power-e.power;if("price"===m)return"asc"===h?e.totalCost-t.totalCost:t.totalCost-e.totalCost;if("stage"===m){const n=["land_acquisition","environmental_decision","zoning_conditions","grid_connection","ready_to_build"],a=n.indexOf(e.status),r=n.indexOf(t.status);return"asc"===h?a-r:r-a}return 0})),g=t=>{var a;const r=15e4*t.power,i=l("marketModifier"),c={PV:1*n.marketPriceModifiers.PV*i,WF:1.2*n.marketPriceModifiers.WF*i,BESS:1.5*n.marketPriceModifiers.BESS*i},d=1;n.globalEvents.currentEvents.length>0&&n.globalEvents.currentEvents.forEach((e=>{const n=e.getEffect();n.technologyEffect&&n.technologyEffect.technology===t.technology&&n.technologyEffect.marketModifier&&(d*=n.technologyEffect.marketModifier)}));const u={land_acquisition:.15,environmental_decision:.35,zoning_conditions:.55,grid_connection:.85,ready_to_build:1}[t.status]||.1,p=c[t.technology]*d||1,m=1+t.power/100*.2;let f=1;n.globalEvents.currentEvents.length>0&&n.globalEvents.currentEvents.forEach((e=>{const n=e.getEffect();n.regionalEffect&&n.regionalEffect.region===t.regionId&&n.regionalEffect.marketModifier&&(f*=n.regionalEffect.marketModifier)}));const h=null===(a=e.staff.developers)||void 0===a?void 0:a.find((e=>e.id===t.assignedDeveloper)),y=h?1+h.skill/20:1;let x=null,g=1;const v=n.globalEvents.currentEvents.length>0?.05:.1;if(Math.random()<v){x=[{name:"Nag\u0142y spadek cen energii",impact:.85,description:"Ceny energii na rynku spad\u0142y o 15%, obni\u017caj\u0105c warto\u015b\u0107 projekt\xf3w OZE."},{name:"Zmiana regulacji",impact:.8,description:"Niekorzystne zmiany w ustawie o OZE obni\u017cy\u0142y warto\u015b\u0107 projekt\xf3w."},{name:"Lokalne protesty",impact:.9,description:"Protesty mieszka\u0144c\xf3w zniech\u0119caj\u0105 potencjalnych inwestor\xf3w."},{name:"Problem geologiczny",impact:.7,description:"Wykryto potencjalne problemy geologiczne na terenie projektu."},{name:"Korzystna zmiana warunk\xf3w aukcji",impact:1.15,description:"Planowane aukcje OZE z korzystnymi warunkami podnios\u0142y warto\u015b\u0107 projektu."},{name:"Wzmo\u017cone zainteresowanie inwestor\xf3w",impact:1.2,description:"Duzi inwestorzy poszukuj\u0105 projekt\xf3w w tym regionie."}][Math.random()<.7?Math.floor(4*Math.random()):Math.floor(2*Math.random())+4],g=x.impact}const j=Math.floor(r*u*p*m*f*y*g);if(x){const e=g<1?"warning":"positive";o({type:"ADD_EVENT",payload:{id:Date.now()+Math.random(),type:"economic_event",title:x.name,description:x.description,severity:e,turn:n.turn,expires:n.turn+10,projectId:t.id,effect:{type:"market_price_modifier",value:g,technology:t.technology}}}),s(`${x.name}: ${x.description} Wp\u0142yw na cen\u0119: ${(100*x.impact).toFixed(0)}%`,e)}return j},j=e=>{switch(e){case"land_acquisition":return(0,i.jsx)("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs",children:"Pozyskiwanie grunt\xf3w"});case"environmental_decision":return(0,i.jsx)("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded-full text-xs",children:"Decyzja \u015brodowiskowa"});case"zoning_conditions":return(0,i.jsx)("span",{className:"px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full text-xs",children:"Warunki zabudowy"});case"grid_connection":return(0,i.jsx)("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs",children:"Przy\u0142\u0105czenie"});case"ready_to_build":return(0,i.jsx)("span",{className:"px-2 py-1 bg-red-100 text-red-800 rounded-full text-xs",children:"RTB"});default:return(0,i.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:e})}};return(0,i.jsxs)("div",{className:"p-4",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Sprzeda\u017c projekt\xf3w na gie\u0142dzie"}),(0,i.jsx)("div",{className:"bg-white p-4 rounded shadow mb-4",children:(0,i.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Filtruj"}),(0,i.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"border rounded px-2 py-1",children:[(0,i.jsx)("option",{value:"all",children:"Wszystkie projekty"}),(0,i.jsx)("option",{value:"pv",children:"Tylko PV"}),(0,i.jsx)("option",{value:"wf",children:"Tylko wiatrowe"}),(0,i.jsx)("option",{value:"rtb",children:"Tylko RTB"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Sortuj wed\u0142ug"}),(0,i.jsxs)("select",{value:m,onChange:e=>f(e.target.value),className:"border rounded px-2 py-1",children:[(0,i.jsx)("option",{value:"power",children:"Mocy [MW]"}),(0,i.jsx)("option",{value:"price",children:"Ceny"}),(0,i.jsx)("option",{value:"stage",children:"Etapu"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm text-gray-600 mb-1",children:"Kolejno\u015b\u0107"}),(0,i.jsxs)("select",{value:h,onChange:e=>y(e.target.value),className:"border rounded px-2 py-1",children:[(0,i.jsx)("option",{value:"asc",children:"Rosn\u0105co"}),(0,i.jsx)("option",{value:"desc",children:"Malej\u0105co"})]})]})]})}),(0,i.jsxs)("div",{className:"bg-white p-4 rounded shadow mb-4",children:[(0,i.jsx)("h3",{className:"text-lg font-bold mb-3",children:"Aktualna wycena projekt\xf3w"}),(0,i.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Warto\u015b\u0107 projekt\xf3w zale\u017cy od etapu rozwoju, technologii, lokalizacji i jako\u015bci pracy developera. Rynek mo\u017ce ulega\u0107 wahaniom w zale\u017cno\u015bci od zdarze\u0144 ekonomicznych."}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-3",children:[(0,i.jsxs)("div",{className:"border rounded p-3",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Etap RTB"}),(0,i.jsx)("div",{className:"font-bold",children:"x10 wy\u017csza wycena"})]}),(0,i.jsxs)("div",{className:"border rounded p-3",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Technologia"}),(0,i.jsx)("div",{className:"font-bold",children:"PV: x1.0 | WF: x1.2 | BESS: x1.5"})]}),(0,i.jsxs)("div",{className:"border rounded p-3",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Umiej\u0119tno\u015bci developera"}),(0,i.jsx)("div",{className:"font-bold",children:"do +50% dla eksperta"})]}),(0,i.jsxs)("div",{className:"border rounded p-3",children:[(0,i.jsx)("div",{className:"text-sm text-gray-500",children:"Wielko\u015b\u0107 projektu"}),(0,i.jsx)("div",{className:"font-bold",children:"+20% dla 100MW"})]})]})]}),(0,i.jsx)("div",{className:"bg-white rounded shadow overflow-hidden",children:(0,i.jsxs)("table",{className:"min-w-full",children:[(0,i.jsx)("thead",{className:"bg-gray-100",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"text-left p-3",children:"Projekt"}),(0,i.jsx)("th",{className:"text-center p-3",children:"Technologia"}),(0,i.jsx)("th",{className:"text-center p-3",children:"Moc"}),(0,i.jsx)("th",{className:"text-center p-3",children:"Status"}),(0,i.jsx)("th",{className:"text-right p-3",children:"Cena sprzeda\u017cy"}),(0,i.jsx)("th",{className:"text-right p-3",children:"Zysk"}),(0,i.jsx)("th",{className:"text-center p-3",children:"Akcje"})]})}),(0,i.jsx)("tbody",{className:"divide-y",children:x.length>0?x.map((a=>{const l=g(a),o=l-a.totalCost,c=(o/a.totalCost*100).toFixed(1),d=["land_acquisition","environmental_decision","zoning_conditions","grid_connection","ready_to_build"],u=d.indexOf("environmental_decision"),m=d.indexOf(a.status)>=u;return(0,i.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,i.jsxs)("td",{className:"p-3",children:[(0,i.jsx)("div",{className:"font-medium",children:a.name}),(0,i.jsx)("div",{className:"text-xs text-gray-500",children:a.county?`Powiat ${a.county.name}`:"Brak lokalizacji"})]}),(0,i.jsx)("td",{className:"text-center p-3",children:a.technology}),(0,i.jsxs)("td",{className:"text-center p-3",children:[a.power," MW"]}),(0,i.jsx)("td",{className:"text-center p-3",children:j(a.status)}),(0,i.jsxs)("td",{className:"text-right p-3 font-medium",children:[l.toLocaleString()," PLN"]}),(0,i.jsxs)("td",{className:"text-right p-3",children:[(0,i.jsxs)("div",{className:o>=0?"text-green-600":"text-red-600",children:[o.toLocaleString()," PLN"]}),(0,i.jsxs)("div",{className:"text-xs text-gray-500",children:[c,"%"]})]}),(0,i.jsx)("td",{className:"text-center p-3",children:(0,i.jsx)("button",{onClick:()=>(a=>{const i=e.projects.find((e=>e.id===a));if(!i)return;const l=["land_acquisition","environmental_decision","zoning_conditions","grid_connection","ready_to_build"],o=l.indexOf("environmental_decision");if(l.indexOf(i.status)<o)return void s(`Nie mo\u017cna sprzeda\u0107 projektu na etapie "${p(i.status)}". Projekt musi osi\u0105gn\u0105\u0107 co najmniej etap decyzji \u015brodowiskowej.`,"error");const c=g(i);r({type:"ADD_MARKET_TRANSACTION",payload:{id:Date.now(),projectId:i.id,projectName:i.name,technology:i.technology,power:i.power,status:i.status,price:c,turn:n.turn,seller:"player",date:(new Date).toISOString()}}),t({type:"SELL_PROJECT",payload:{projectId:i.id,price:c}}),i.county,s(`Sprzedano projekt "${i.name}" za ${c.toLocaleString()} PLN na gie\u0142dzie`,"success")})(a.id),className:`px-3 py-1 ${m?"bg-green-500 hover:bg-green-600":"bg-gray-400 cursor-not-allowed"} text-white rounded text-sm`,disabled:!m,title:m?"":"Projekt musi osi\u0105gn\u0105\u0107 etap decyzji \u015brodowiskowej",children:"Sprzedaj"})})]},a.id)})):(0,i.jsx)("tr",{children:(0,i.jsx)("td",{colSpan:"7",className:"p-4 text-center text-gray-500",children:"Brak projekt\xf3w spe\u0142niaj\u0105cych kryteria filtrowania"})})})]})}),(0,i.jsxs)("div",{className:"bg-white rounded shadow overflow-hidden mt-6",children:[(0,i.jsx)("div",{className:"p-4 border-b",children:(0,i.jsx)("h3",{className:"text-lg font-bold",children:"Historia sprzeda\u017cy"})}),n.marketHistory.length>0?(0,i.jsxs)("table",{className:"min-w-full",children:[(0,i.jsx)("thead",{className:"bg-gray-100",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"text-left p-3",children:"Projekt"}),(0,i.jsx)("th",{className:"text-center p-3",children:"Technologia"}),(0,i.jsx)("th",{className:"text-center p-3",children:"Moc"}),(0,i.jsx)("th",{className:"text-center p-3",children:"Status"}),(0,i.jsx)("th",{className:"text-right p-3",children:"Cena"}),(0,i.jsx)("th",{className:"text-center p-3",children:"Tura"})]})}),(0,i.jsx)("tbody",{className:"divide-y",children:n.marketHistory.map((e=>(0,i.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,i.jsx)("td",{className:"p-3",children:e.projectName}),(0,i.jsx)("td",{className:"text-center p-3",children:e.technology}),(0,i.jsxs)("td",{className:"text-center p-3",children:[e.power," MW"]}),(0,i.jsx)("td",{className:"text-center p-3",children:j(e.status)}),(0,i.jsxs)("td",{className:"text-right p-3 font-medium",children:[e.price.toLocaleString()," PLN"]}),(0,i.jsx)("td",{className:"text-center p-3",children:e.turn})]},e.id)))})]}):(0,i.jsx)("p",{className:"p-4 text-center text-gray-500",children:"Brak historii transakcji"})]})]})},At=()=>{const[e,t]=(0,a.useState)("available"),[n,r]=(0,a.useState)("all"),[s,l]=(0,a.useState)("all"),{state:o,dispatch:c}=d(),{state:u}=O(),[p,m]=(0,a.useState)([{id:1,name:"PV-MAZ1234",technology:"PV",status:"greenfield",region:"mazowieckie",power:15,price:225e3,seller:"Inny deweloper",listedOn:new Date(2025,2,1)},{id:2,name:"WF-ZAP4321",technology:"WF",status:"rtb",region:"zachodniopomorskie",power:30,price:1392e4,seller:"Fundusz inwestycyjny",listedOn:new Date(2025,2,5)},{id:3,name:"BESS-MAL5678",technology:"BESS",status:"development",region:"ma\u0142opolskie",power:10,price:4e6,seller:"Prywatny inwestor",listedOn:new Date(2025,2,8)}]),f=p.filter((e=>("all"===n||e.technology===n)&&("all"===s||e.status===s))),h=()=>{const e=Object.keys(fe),t=e[Math.floor(Math.random()*e.length)],n=fe[t],a=["greenfield","development","rtb","cod"],r=a[Math.floor(Math.random()*a.length)],i=["mazowieckie","ma\u0142opolskie","wielkopolskie","zachodniopomorskie","podlaskie"],s=i[Math.floor(Math.random()*i.length)],l=Math.floor(5+45*Math.random()),o=n.marketPrices[r],c=o.min+Math.random()*(o.max-o.min),d=.85+.3*Math.random(),u=Math.floor(c*l*d),p=["Inny deweloper","Fundusz inwestycyjny","Prywatny inwestor"],m=p[Math.floor(Math.random()*p.length)];return{id:Date.now(),name:`${n.shortName}-${s.substring(0,3).toUpperCase()}${Math.floor(1e4*Math.random())}`,technology:t,status:r,region:s,power:l,price:u,seller:m,listedOn:new Date}},y=()=>{const e=[],t=Math.floor(1+4*Math.random());for(let n=0;n<t;n++)e.push(h());m([...p,...e])};(0,a.useEffect)((()=>{y(),u.turn%5===0&&(()=>{const e=1+Math.floor(3*Math.random()),t=[];for(let n=0;n<e;n++)t.push(h());m((e=>[...e,...t]))})()}),[u.turn]);const x=e=>{switch(e){case"PV":return(0,i.jsx)(de,{className:"h-5 w-5 text-yellow-500"});case"WF":return(0,i.jsx)(re,{className:"h-5 w-5 text-blue-500"});case"BESS":return(0,i.jsx)(be,{className:"h-5 w-5 text-purple-500"});default:return null}},g=e=>{switch(e){case"greenfield":return"Greenfield";case"development":return"W rozwoju";case"rtb":return"Ready-to-Build";case"cod":return"Commercial Operation";default:return e}};return(0,i.jsxs)("div",{className:"flex flex-1",children:[(0,i.jsxs)("div",{className:"flex-1 p-4 overflow-y-auto",children:[(0,i.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Gie\u0142da Projekt\xf3w OZE"}),(0,i.jsxs)("div",{className:"flex border-b border-gray-200 mb-4",children:[(0,i.jsx)("button",{onClick:()=>t("available"),className:"py-2 px-4 font-medium "+("available"===e?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),children:"Dost\u0119pne Projekty"}),(0,i.jsx)("button",{onClick:()=>t("my_listings"),className:"py-2 px-4 font-medium "+("my_listings"===e?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),children:"Moje Og\u0142oszenia"}),(0,i.jsx)("button",{onClick:()=>t("history"),className:"py-2 px-4 font-medium "+("history"===e?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),children:"Historia Transakcji"}),(0,i.jsx)("button",{onClick:()=>t("sell"),className:"py-2 px-4 font-medium "+("sell"===e?"border-b-2 border-blue-500 text-blue-600":"text-gray-500 hover:text-gray-700"),children:"Sprzeda\u017c"})]}),"available"===e&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("div",{className:"flex mb-4",children:[(0,i.jsx)("button",{onClick:()=>r("all"),className:"px-3 py-1 rounded "+("all"===n?"bg-gray-700 text-white":"bg-gray-200"),children:"Wszystkie"}),(0,i.jsxs)("button",{onClick:()=>r("PV"),className:"px-3 py-1 rounded ml-2 flex items-center "+("PV"===n?"bg-yellow-500 text-white":"bg-gray-200"),children:[(0,i.jsx)(de,{className:"h-4 w-4 mr-1"})," Fotowoltaika"]}),(0,i.jsxs)("button",{onClick:()=>r("WF"),className:"px-3 py-1 rounded ml-2 flex items-center "+("WF"===n?"bg-blue-500 text-white":"bg-gray-200"),children:[(0,i.jsx)(re,{className:"h-4 w-4 mr-1"})," Farmy Wiatrowe"]}),(0,i.jsxs)("button",{onClick:()=>r("BESS"),className:"px-3 py-1 rounded ml-2 flex items-center "+("BESS"===n?"bg-purple-500 text-white":"bg-gray-200"),children:[(0,i.jsx)(be,{className:"h-4 w-4 mr-1"})," Magazyny Energii"]})]}),(0,i.jsxs)("div",{className:"flex mb-4",children:[(0,i.jsx)("button",{onClick:()=>l("all"),className:"px-3 py-1 rounded "+("all"===s?"bg-gray-700 text-white":"bg-gray-200"),children:"Wszystkie etapy"}),(0,i.jsx)("button",{onClick:()=>l("greenfield"),className:"px-3 py-1 rounded ml-2 "+("greenfield"===s?"bg-green-500 text-white":"bg-gray-200"),children:"Greenfield"}),(0,i.jsx)("button",{onClick:()=>l("development"),className:"px-3 py-1 rounded ml-2 "+("development"===s?"bg-orange-500 text-white":"bg-gray-200"),children:"Development"}),(0,i.jsx)("button",{onClick:()=>l("rtb"),className:"px-3 py-1 rounded ml-2 "+("rtb"===s?"bg-red-500 text-white":"bg-gray-200"),children:"Ready-to-Build"}),(0,i.jsx)("button",{onClick:()=>l("cod"),className:"px-3 py-1 rounded ml-2 "+("cod"===s?"bg-purple-500 text-white":"bg-gray-200"),children:"Commercial Operation"})]}),(0,i.jsx)(ve,{title:"Dost\u0119pne projekty",headerAction:(0,i.jsx)(je,{onClick:y,variant:"info",size:"small",children:"Od\u015bwie\u017c gie\u0142d\u0119"}),children:f.length>0?(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full",children:[(0,i.jsx)("thead",{className:"bg-gray-100",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"text-left p-2",children:"Projekt"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Technologia"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Etap"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Region"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Moc"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Cena"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Sprzedaj\u0105cy"}),(0,i.jsx)("th",{className:"text-center p-2",children:"Akcja"})]})}),(0,i.jsx)("tbody",{className:"divide-y divide-gray-200",children:f.map((e=>(0,i.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,i.jsx)("td",{className:"p-2",children:e.name}),(0,i.jsx)("td",{className:"text-center p-2",children:(0,i.jsxs)("div",{className:"flex justify-center items-center",children:[x(e.technology),(0,i.jsx)("span",{className:"ml-1",children:e.technology})]})}),(0,i.jsx)("td",{className:"text-center p-2",children:g(e.status)}),(0,i.jsx)("td",{className:"text-center p-2",children:e.region}),(0,i.jsxs)("td",{className:"text-center p-2",children:[e.power," MW"]}),(0,i.jsxs)("td",{className:"text-center p-2",children:[e.price.toLocaleString()," PLN"]}),(0,i.jsx)("td",{className:"text-center p-2",children:e.seller}),(0,i.jsx)("td",{className:"text-center p-2",children:(0,i.jsx)(je,{variant:"success",size:"small",onClick:()=>(e=>{const t=p.find((t=>t.id===e));!t||o.cash<t.price||(c({type:"ADD_PROJECT",payload:{...t,status:"greenfield"===t.status?"land_acquisition":"development"===t.status?"environmental_decision":"rtb"===t.status?"ready_to_build":"constructed",etapPaid:{land_acquisition:!0,environmental_decision:"greenfield"!==t.status,zoning_conditions:"rtb"===t.status||"cod"===t.status,grid_connection:"rtb"===t.status||"cod"===t.status,construction:"cod"===t.status},progress:100,totalCost:t.price,assignedScout:null,assignedDeveloper:null,events:[{turn:0,text:`Projekt zakupiony na gie\u0142dzie za ${t.price.toLocaleString()} PLN`}]}}),c({type:"UPDATE_CASH",payload:-t.price}),m(p.filter((t=>t.id!==e))))})(e.id),disabled:o.cash<e.price,children:"Kup"})})]},e.id)))})]})}):(0,i.jsx)("p",{className:"text-gray-500",children:"Brak dost\u0119pnych projekt\xf3w spe\u0142niaj\u0105cych kryteria"})})]}),"my_listings"===e&&(0,i.jsxs)(ve,{title:"Moje og\u0142oszenia",children:[(0,i.jsx)("p",{className:"text-gray-500",children:"Nie masz aktualnie wystawionych projekt\xf3w na sprzeda\u017c."}),(0,i.jsx)(je,{variant:"primary",className:"mt-4",onClick:()=>alert("Tu b\u0119dzie formularz wystawiania projektu"),children:"Wystaw projekt na sprzeda\u017c"})]}),"history"===e&&(0,i.jsx)(ve,{title:"Historia transakcji",children:(0,i.jsx)("p",{className:"text-gray-500",children:"Brak historii transakcji."})}),"sell"===e&&(0,i.jsx)(It,{})]}),(0,i.jsx)("div",{className:"w-1/3 bg-gray-100 p-4 overflow-y-auto",children:(0,i.jsx)(ve,{title:"Analiza rynku",children:(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"Aktualne trendy cenowe"}),(0,i.jsxs)("div",{className:"space-y-1",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"PV (Greenfield):"})," 15 000\u201325 000 z\u0142/MWp"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"PV (RTB):"})," 100 000\u2013250 000 EUR/MWp"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Farmy Wiatrowe (RTB):"})," 340 000\u2013464 000 z\u0142/MW"]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("span",{className:"font-medium",children:"Magazyny Energii (RTB):"})," ","1.2\u20131.8 mln z\u0142/MW"]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"Porady inwestycyjne"}),(0,i.jsxs)("ul",{className:"space-y-1 text-sm",children:[(0,i.jsx)("li",{children:"\u2022 Projekty hybrydowe (PV + magazyn) osi\u0105gaj\u0105 premi\u0119 cenow\u0105 30-40%"}),(0,i.jsx)("li",{children:"\u2022 Najwy\u017csze ROI oferuj\u0105 projekty PV w fazie development (50-80k EUR/MWp)"}),(0,i.jsx)("li",{children:"\u2022 Projekty z gwarantowan\u0105 moc\u0105 przy\u0142\u0105czeniow\u0105 s\u0105 warte 15-20% wi\u0119cej"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("h4",{className:"font-medium mb-2",children:"Aktywno\u015b\u0107 gie\u0142dy"}),(0,i.jsx)("p",{className:"text-sm",children:"W ostatnim kwartale odnotowano 47 transakcji o \u0142\u0105cznej warto\u015bci 320 mln z\u0142, co oznacza wzrost o 18% r/r. \u015aredni czas sprzeda\u017cy projektu wynosi obecnie 4 miesi\u0105ce."})]})]})})})]})},Dt=()=>{const{state:e}=O();switch(e.currentScreen){case"map":default:return(0,i.jsx)(Ce,{});case"company":return(0,i.jsx)(jt,{});case"events":return(0,i.jsx)(Ct,{});case"competitors":return(0,i.jsx)(Rt,{});case"market":return(0,i.jsx)(At,{})}};const Wt=function(){return(0,i.jsx)(Y,{children:(0,i.jsx)(me,{children:(0,i.jsx)(Dt,{})})})};r.createRoot(document.getElementById("root")).render((0,i.jsx)(a.StrictMode,{children:(0,i.jsx)(Wt,{})}))})();